define("wkcommon:widget/ui/lib/async_widget/async_widget.js",function(e){e("wkcommon:widget/ui/lib/jquery/jquery.js");!function(e,t,i,n){var r=e(t);e.fn.widgetAsync=function(l){function o(t){var i=e(this);return e.abovethetop(this,h)||e.leftofbegin(this,h)?t:e.belowthefold(this,h)||e.rightoffold(this,h)?++t:(i.trigger("appear"),0)}function a(){var t=0;f.each(function(){var i=this,n=e(this);if(n.prevAll(f.selector).length){var r=n.prevAll(f.selector).get(0).dtd;e.when(r).done(function(){t=o.call(i,t)
})}else t=o.call(i,t);return t>h.failure_limit?!1:void 0})}var s,f=this,h={threshold:0,failure_limit:0,event:"scroll",effect:"show",effect_speed:0,container:t,appear:null,load:null};return l&&e.extend(h,l),s=h.container===n||h.container===t?r:e(h.container),0===h.event.indexOf("scroll")&&s.bind(h.event,function(){return a()}),this.each(function(){var t=this,i=e(t),n=i.attr("data-path"),r=i.attr("data-async-url"),l=i.attr("data-lazy-load");return t.loaded=!1,t.dtd=e.Deferred(),n&&r?(i.one("appear",function(){if(!this.loaded){if(h.appear){var l=f.length;
h.appear.call(t,l,h)}e.ajax({type:"GET",url:r,data:{type:"widget",widget:n},contentType:"text/html;charset=gbk",dataType:"html",success:function(n){t.loaded=!0,$html=e(n).hide();var r=e.grep(f,function(e){return!e.loaded});if(f=e(r),i.replaceWith($html),$html[h.effect](h.effect_speed,function(){t.dtd.resolve()}),h.load){var l=f.length;h.load.call($html,l,h)}}})}}),"false"!=l||t.loaded||i.trigger("appear"),void(0!==h.event.indexOf("scroll")&&i.bind(h.event,function(){t.loaded||i.trigger("appear")}))):void i.remove()
}),r.bind("resize",function(){a()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&r.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&f.each(function(){e(this).trigger("appear")})}),e(i).ready(function(){a()}),this},e.belowthefold=function(i,l){var o;o=l.container===n||l.container===t?(t.innerHeight?t.innerHeight:r.height())+r.scrollTop():e(l.container).offset().top+e(l.container).height();var a=e(i);return a.prevAll(":visible").length?(a=a.prevAll(":visible").eq(0),o<=a.offset().top+a.height()-l.threshold):a.parents(":visible").length?(a=a.parents(":visible").eq(0),o<=a.offset().top-l.threshold):!1
},e.rightoffold=function(i,l){var o;o=l.container===n||l.container===t?r.width()+r.scrollLeft():e(l.container).offset().left+e(l.container).width();var a=e(i);return a.prevAll(":visible").length?(a=a.prevAll(":visible").eq(0),o<=a.offset().left+a.width()-l.threshold):a.parents(":visible").length?(a=a.parents(":visible").eq(0),o<=a.offset().left-l.threshold):!1},e.abovethetop=function(i,l){var o;o=l.container===n||l.container===t?r.scrollTop():e(l.container).offset().top;var a=e(i);return a=a.prevAll(":visible").length?a.prevAll(":visible").eq(0):a.parents(":visible").eq(0),a.offset()?o>a.offset().top+l.threshold+a.height()+12:!1
},e.leftofbegin=function(i,l){var o;o=l.container===n||l.container===t?r.scrollLeft():e(l.container).offset().left;var a=e(i);return a=a.prevAll(":visible").length?a.prevAll(":visible").eq(0):a.parents(":visible").eq(0),a.offset()?o>=a.offset().left+l.threshold+a.width()+12:!1}}(jQuery,window,document)});