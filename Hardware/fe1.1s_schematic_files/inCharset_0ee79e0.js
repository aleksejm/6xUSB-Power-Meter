define("wkcommon:widget/ui/lib/inCharset/inCharset.js",function(e,t,n){var i=e("wkcommon:widget/ui/lib/browser/browser.js"),o=function(){this._options={action:"/static/wkcommon/widget/ui/lib/inCharset/getEncodeStr.html",namespace:"_inCharset",iframeName:"_urlEncode_iframe_",timeout:1e4}};$.extend(o.prototype,{initNamescape:function(){var e=this._options.namespace;window[e]||(window[e]={success:{}})},options:function(e){"object"==typeof e&&("string"==typeof e.action&&(this._options.action=e.action),"string"==typeof e.namespace&&(this._options.namespace=e.namespace),"string"==typeof e.iframeName&&(this._options.iframeName=e.iframeName),"number"==typeof e.timeout&&(this._options.timeout=e.timeout))
},get:function(e,t,n,o){var a,r=this,m=(new Date).getTime().toString(32)+"."+Math.floor(1024*Math.random()).toString(32),s=r._options.iframeName+"."+m,c=function(){var e=document.createElement("input");return e.type="hidden",e.name="id",e.value=m,e}(),u=function(){var t=document.createElement("input");return t.type="hidden",t.name="str",t.value=e,t}(),d=function(){var e=document.createElement("input");return e.type="hidden",e.name="_",e.value=Math.random(),e}(),p=function(){var e=document.createElement("form");
return e.method="get",e.setAttribute("id","form"+s),e.style.display="none",e.acceptCharset=t,e.appendChild(c),e.appendChild(u),e.appendChild(d),e.target=s,e.action=r._options.action,document.body.appendChild(e),e}(),f=function(){var e;return i.ie&&6===i.ie?e=document.createElement('<iframe name="'+s+'" id="iframe'+s+'"></iframe>'):(e=document.createElement("iframe"),e.setAttribute("name",s),e.setAttribute("id","iframe"+s)),e.style.display="none",e.width="0",e.height="0",e.scrolling="no",e.allowtransparency="true",e.frameborder="0",e.src="about:blank",document.body.appendChild(e),e
}(),l=!1,h=function(){delete window[r._options.namespace].success[m],clearTimeout(a),p.parentNode.removeChild(p),"undefined"!=typeof f&&f.parentNode.removeChild(f)};r.initNamescape(),window[r._options.namespace].success[m]=function(e){"function"==typeof n&&n(e),l=!0,h()};var w=function(e){return l?!1:("function"==typeof o&&o(e||"abort"),l=!0,void h())};return p.submit(),a=setTimeout(function(){w("timeout")},r._options.timeout),{abort:w}}}),n.exports.InCharset=o});