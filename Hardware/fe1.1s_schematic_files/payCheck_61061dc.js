define("wkcommon:widget/ui/payCheck/payCheck.js",function(o,e,t){var i=o("wkcommon:widget/lib/tangram/base/base.js"),n=o("wkcommon:widget/ui/lib/jquery/jquery.js"),a=o("wkcommon:widget/ui/js_core/_dialog/_dialog.js"),s=o("wkcommon:widget/ui/js_core/login/login.js"),c=i.lang.createClass(function(o){var e=this;e.goods_id=o.goods_id,e.goods_type=o.goods_type}).extend({start:function(o){var e=this;e.check(o)},check:function(o){var e=this;s.login.verlogin(function(){n.ajax({url:"/pay/api/tradecheck",cache:!1,async:!1,data:{goods_type:e.goods_type,goods_id:e.goods_id},dataType:"json"}).done(function(t){if(0===+t.status){o=o||{};
var a=o.query||{},s=i.object.merge({id:e.goods_id,stt:e.goods_type},a,{overwrite:!0}),c="";c=1==e.goods_type?"/cashier/browse/doccashier?":"/coupon/browse/buybook?";var r=c+n.param(s);window.location.href=r}else e.hasBuyAlert()})},null,null,{},!1)},hasBuyAlert:function(){a.alert({title:"\u63d0\u793a",content:'<p style="margin:20px;text-align:center;line-height:24px;font-size:14px;">\u4f60\u5df2\u8d2d\u4e70\u8fc7\u6b64\u5546\u54c1\uff0c\u8bf7\u52ff\u91cd\u590d\u8d2d\u4e70\u3002<br/>\u70b9\u51fb\u786e\u8ba4\uff0c\u5237\u65b0\u9875\u9762\uff0c\u9605\u8bfb\u5168\u6587\u3002</p>',width:300,height:180,onConfirmBefore:function(){location.reload(!0)
},onCloseBefore:function(){location.reload(!0)}})}});t.exports=c});