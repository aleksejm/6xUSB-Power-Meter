define("wkcommon:widget/ui/js_core/util/util.js",function(e,t,n){function r(e,t,n,r){var o;return function(){var i=arguments;r=r||this,n&&o&&(o=clearTimeout(o)),o=o||setTimeout(function(){o=null,e.apply(r,i)},t)}}var o=e("wkcommon:widget/lib/tangram/base/base.js");window.FEDEBUG=!1,function(){for(var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length,i=window.console=window.console||{},a=window.FEDEBUG=window.FEDEBUG||o.url.getQueryValue(location.href,"fedebug");r--;)e=n[r],a&&i[e]||(i[e]=t)
}();try{document.execCommand("BackgroundImageCache",!1,!0)}catch(i){}var a=function(e,t,n){return r(e,t,!1,n)};n.exports.throttle=a;var u=function(e,t,n){return r(e,t,!0,n)};n.exports.debounce=u;var s=function(e,t){var n={};return o.lang.isFunction(t)&&(t=function(e){return e}),function(){var r=t.apply(this,arguments);return Object.prototype.hasOwnProperty.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}};n.exports.memoize=s;var c=function(e,t,n,r){t=t.replace(/^on/i,""),e=o.dom._g(e);var i,a=function(t){n.call(e,t)
},u=o.event._listeners,s=o.event._eventFilter,c=t;return t=t.toLowerCase(),s&&s[t]&&(i=s[t](e,t,a),c=i.type,a=i.listener),e.addEventListener?e.addEventListener(c,a,r):e.attachEvent&&e.attachEvent("on"+c,a),u[u.length]=[e,t,n,a,c],e},l=function(e,t,n,r){e=o.dom._g(e),t=t.replace(/^on/i,"").toLowerCase();for(var i,a,u,s=o.event._listeners,c=s.length,l=!n;c--;)i=s[c],i[1]!==t||i[0]!==e||!l&&i[2]!==n||(a=i[4],u=i[3],e.removeEventListener?e.removeEventListener(a,u,r):e.detachEvent&&e.detachEvent("on"+a,u),s.splice(c,1));
return e},d={submit:!0,reset:!0,change:!0,select:!0},f=function(){var e=d,t={focus:"focusin",blur:"focusout"},n={focus:!0,blur:!0},r=function(t){return o.browser.ie&&e[t]},i=function(e){return o.browser.ie&&t[e]?t[e]:e};return function(e,t,a,u){var s=o.lang.isString,d=o.lang.isFunction,p=o.dom.query;if(r(a))return f(e,t,"focus",function(){l(this,a),c(this,a,function(e){return u.call(this,e)})}),f(e,t,"blur",function(){l(this,a)}),!1;e=s(e)?p(e)[0]:e;var v=s(t)?function(n){var r=n.target;return 3===r.nodeType&&(r=r.parentNode),o.array.find(p(t,e),function(e){return e===r||o.dom.contains(e,r)&&!e.disabled
})}:d(t)?function(e){return t(e)}:function(){};a=i(a),c(e,a,function(e){var t=o.event.get(e),n=v(t);if(n){u.call(n,t)}},n[a])}}();!function(){var e=!1;o.event._eventFilter.input=window.attachEvent?function(t,n,r){return{type:"propertychange",listener:function(t){return e?!1:void(t.propertyName&&"value"===t.propertyName.toLowerCase()&&(e=!0,r(t),e=!1))}}}:function(e,t,n){return{type:"input",listener:n}},d.input=!0}(),n.exports.delegate=f;var p=function(){var e;return o.un(window,"unload",function(){document.body.onresize=null,window.onresize=null
}),function(t){var n=e;e=function(){try{document.body.onresize=null,window.onresize=null,setTimeout(function(){o.browser.ie<8?document.body.onresize=u(e,200):window.onresize=u(e,200)},1)}catch(r){}o.lang.isFunction(n)&&n(),t()},o.browser.ie<8?document.body.onresize=u(e,200):window.onresize=u(e,200)}}();n.exports.windowResize=p;var v=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n};n.exports.setInnerHtml=v;var m=function(e,t){document.body&&"textContent"in document.body?e.textContent=t:e.innerText=t
};n.exports.setInnerText=m;var g=function(e){return document.body&&"textContent"in document.body?e.textContent:e.innerText||e.textContent||""};n.exports.getInnerText=g;var h=function(){var e=document.createElement("div"),t={option:[1,'<select multiple="multiple">',"</select>"],optgroup:[1,'<select multiple="multiple">',"</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tbody:[1,"<table>","</table>"],tfoot:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],th:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]},n=/<(\w+)/i;
return function(r,o,i){var a=i&&i.createElement("div")||e,u=a,s=(n.exec(r)||["",""])[1],c=t[s]||t._default,l=c[0];for(a.innerHTML=c[1]+r+c[2];l--;)a=a.firstChild;var d=a.firstChild;if(d&&o){i=i||document;for(var f=i.createDocumentFragment();d;)f.appendChild(d),d=a.firstChild;return f}for(;u.firstChild;)u.removeChild(u.firstChild);return d}}();n.exports.createDom=h;var y=function(){var e=1;return function(t){var n=e++;return t?t+n:n}}();n.exports.uniqueId=y;var w=function(){var e=[],t="_da"+(new Date-0);
return{hasData:function(n){var r=n[t];return!!r&&!!e[r]},get:function(n,r){return void 0===r?n[t]||(n[t]=y("dom__")):n[t]&&e[n[t]]?r?e[n[t]][r]:e[n[t]]:void 0},set:function(n,r,o){var i=n[t]||(n[t]=y("dom__"));if(e[i]=e[i]||{},"object"==typeof r)for(var a in r)"string"==typeof a&&(e[i][a]=r[a]);else e[i][r]=o;return this},remove:function(n,r){if(!n)return this;var o=n[t]||(n[t]=y("dom__"));return e[o]&&(void 0!==r?delete e[o][r]:e[o]=null),this}}}();n.exports.domData=w;var x=function(e,t,n){e=o.g(e);
for(var r,i,a,u=e.className,s=u.split(/\s+/),c=t.split(/\s+/),l=n.split(/\s+/),d=c.length,f=l.length,p=0;d>p;++p)for(a=0,r=s.length;r>a;++a)if(s[a]==c[p]){s.splice(a,1);break}for(i=" "+s.join(" ")+" ",p=0;f>p;p++)i.indexOf(" "+l[p]+" ")<0&&(i+=(i?" ":"")+l[p]);return e.className=i,e};n.exports.replaceClass=x;var b=function(e,t,n){e=o.g(e);var r=e.style,i=function(e){return"undefined"!=typeof e},a={display:!0};if("filters"in e&&("string"==typeof t?/opacity/i.test(t):i(t.opacity))&&(r.zoom=1,r.filter=(r.filter||"").replace(/alpha\([^)]*\)/,"")+"alpha(opacity="+100*(i(t.opacity)?t.opacity:n)+")"),i(r.cssText)){var u=r.cssText;
if(o.lang.isObject(t))for(var s in t)o.lang.isString(s)&&(a[s]&&(r[s]=t[s]),u+=";"+s+":"+t[s]);else a[t]&&(r[t]=n),u+=";"+t+":"+n;r.cssText=u}return e};n.exports.setStyle=b;var C=function(){return!document.styleSheets[0].insertRule},E=function(e,t,n){n=n||document;var r=o.dom.g(t);if(r&&"style"===r.nodeName.toLocaleLowerCase())return r;r=n.createElement("style"),r.id=t||y("wk-style-"),window.createPopup||r.appendChild(n.createTextNode(""));var i=n.head||n.getElementsByTagName("head")[0]||n.documentElement;
return i.insertBefore(r,i.firstChild),e&&S(r,e),r},S=function(e,t){e=o.dom.g(e),C()?e.styleSheet.cssText=t:window.createPopup?e.innerHTML=t:e.appendChild(document.createTextNode(t))};n.exports.importCssString=E,n.exports.createCssString=E,n.exports.addCssString=S;var T=function(e){e=e||y("wk-styleManager-");{var t,n=E("",e),r="_style_stack",i="_style_styleKey";o.lang.isArray}w.hasData(n)?(t=w.get(n,r),stylesheets=w.get(n,i)):(t=[],stylesheets={},w.set(n,r,t),w.set(n,i,stylesheets));var a=[],u=document.createStyleSheet?function(e,n,r){o.array.each(r,function(e){n.hasOwnProperty(e[0])?t[n[e[0]]]=e[1]:(t.push(e[1]),n[e[0]]=t.length-1)
}),r.length=0,o.dom.empty(e),e.styleSheet.cssText=t.join("\n")}:function(e,t,n){o.array.each(n,function(n){var r;t.hasOwnProperty(n[0])&&o.dom.remove(t[n[0]]),r=document.createTextNode(n[1]),t[n[0]]=r,e.appendChild(r)}),n.length=0};return{getEl:function(){return n},getId:function(){return n.id},register:function(e,t){return a.push([e,t]),this},render:function(){return u(n,stylesheets,a),this},cleanStyle:function(){return o.dom.empty(n),this},removeManager:function(){w.remove(n,r),w.remove(n,i),o.dom.remove(n),o.browser.ie&&B(n),n=t=stylesheets=a=null
}}};n.exports.cssStringManager=T,n.exports.styleManger=T;var _=function(e){e=e||document;var t=e.body;o.dom.setStyle(t,"zoom",1),o.dom.setStyle(t,"zoom",0)};n.exports.ieReflow=_;var j=function(){var e=9e3,t="data-ZIndexDefaultValue",n=[];return{bringToFront:function(r){var i;null===o.dom.getAttr(r,t)&&(i=o.dom.getStyle(r,"z-index"),o.dom.setAttr(r,t,i||0)),o.dom.setStyle(r,"z-index",e++),r.id||(r.id=y("Zuniqueid__")),o.array.remove(n,r.id),n.push(r.id)},sendToBack:function(e){var r=o.dom.getAttr(e,t)||0;
o.dom.setStyle(e,"z-index",r),o.array.remove(n,e.id)},getActive:function(){return n.length>0?n[n.length-1]:null}}}();n.exports.zIndexManger=j,n.exports.zIndexManager=j;var z=function(){this.q=[],this.paused=!1,this._inProgress=!1};o.object.extend(z.prototype,{add:function(){var e=this;return o.array.each(arguments,function(t){o.lang.isFunction(t)&&e.q.push(t)}),this},dequeue:function(){return this.empty()||this.q.pop(),this},next:function(){return this.empty()||this.paused?void 0:(this._inProgress=!0,this.q.shift().apply(this),this)
},flush:function(){for(;!this.empty()&&!this.paused;)this.next();return this},clear:function(){return this.q.length=0,this},empty:function(){return 0===this.q.length?(this._inProgress=!1,!0):!1},remove:function(e){return o.array.remove(this.q,e),this},promote:function(e){return this.remove(e),this.q.unshfit(e),this},pause:function(){return this.paused=!0,this},run:function(){return this.paused=!1,this.next(),this}}),n.exports.queue=z;var L=function(){var e=o.ajax.request,t=new z,n=["onsuccess","onfailure"];
return function(r,i){return o.array.each(n,function(e){var n=i[e];n&&(i[e]=function(){var e=[].slice.call(arguments,0);n.apply(null,e),t.run()})}),i.noCache=!1,t.add(function(){t.pause(),e(r,i)}),t.flush(),arguments.callee}}();n.exports.ajaxManger=L,n.exports.ajaxManager=L,n.exports.ajaxQueue=L;var q=function(e,t,n){var r;if(o.lang.isArray(t)){for(r=0,len=t.length;len>r;r++)q(e,t[r],n);return e}for(r in t)!n&&r in e||(e[r]=t[r]);return e};n.exports.mix=q;var D=function(e,t){var n=function(e){e&&q(this,e,!0)
};return n.prototype=e,new n(t)};n.exports.objectCreate=D;var N=function(e,t){var n=[].slice.call(arguments,2),r=D(t);return e.apply(r,n),r};n.exports.objectFactory=N;var F=function(e){var t={};return function(n){if(!o.lang.isFunction(e[n]))return console.error("objectPool error! name:"+n+"!"+arguments.callee.caller),!1;var r=[].slice.call(arguments,1);return t.hasOwnProperty(n)||o.lang.isObject(t[n])||(t[n]=N.apply(null,[e[n],e[n].prototype].concat(r))),t[n]}};n.exports.objectPool=F;var M=function(e,t,n,r){var i=e[t];
if(o.lang.isString(r)&&!/^(before|after)$/.test(r))return function(){return console.error("auto arguments error!"),!1};var a={after:function(){return i.apply(e,arguments),n.apply(e,arguments)},before:function(){return n.apply(e,arguments),i.apply(e,arguments)}};e[t]=r&&a.hasOwnProperty(r)?a[r]:function(){var t=[].slice.call(arguments,0);return t.unshift(function(){return i.apply(e,arguments)}),n.apply(e,t)}};n.exports.punch=M;var P=function(){var e="";if(window.getSelection)if(!document.activeElement||"textarea"!=document.activeElement.tagName.toLowerCase()&&"input"!=document.activeElement.tagName.toLowerCase()){var t=window.getSelection();
e=t.toString()}else{var n=document.activeElement.value;e=n.substring(document.activeElement.selectionStart,document.activeElement.selectionEnd)}else if(document.selection.createRange){var r=document.selection.createRange();e=r.text}return""!==e?e:void 0};n.exports.getSelection=P;var I=function(){if(window.getSelection){var e=window.getSelection();e.collapseToStart()}else{var t=document.selection.createRange();t.collapse(!0),t.select()}};n.exports.collapseToStart=I;var k=function(){if(window.getSelection){var e=window.getSelection();
e.collapseToEnd()}else{var t=document.selection.createRange();t.collapse(!1),t.select()}};n.exports.collapseToEnd=k;var O=function(e,t,n){e=e.toString();var r=e.length;return"undefined"==typeof n&&(n=""),r?0>t||t>=r?e:[e.slice(0,t),n].join(""):n};n.exports.cutString=O;var A=o.dom.create("div"),B=function(e){A.appendChild(e),A.innerHTML="",e=null};n.exports.recycleDom=B;var R=function(){var e=["ie","firefox","opera","chrome","maxthon","safari"],t=o.array.filter(e,function(e){return o.browser[e]});
return t=t&&t.length?t[0]:navigator.userAgent}();n.exports.getBrowser=R;var H=function(e){window.onerror=function(t,n,r){Array.prototype.slice(arguments);return e(R,location.href,t,n,r),!1},o.on(window,"unload",function(){window.onerror=null})};n.exports.errorCenter=H;var G=function(e){{var t,n=5;setInterval(function(r){var r=1;t=new Date-t,t>700&&r++,t>650&&r++,t>600&&r++,t>550&&r++,e(n=n>r?--n:r),t=new Date},500)}t=new Date};n.exports.jpu=G});
;define("wkcommon:widget/ui/js_core/widget/widget.js",function(t,s,e){var i=t("wkcommon:widget/lib/tangram/base/base.js"),n=t("wkcommon:widget/ui/js_core/util/util.js"),a=n.mix,o=function(t,s){t=a(t||{},{el:"",_init:i.fn.blank,Options:{}}),s=a(s||{},{type:"",superClass:i.lang.Class,include:[]});var e=s.superClass,n=function(t){var e=this;t=t||{},e.options=e.setOptions(t,t.el||e.el),e.type=s.type,e._created=!1,e._disabledStatus=!1,n.superClass._init&&n.superClass._init.call(e,t),e._init&&e._init.call(e,t),i.array.each(s.include,function(s){s.call(e,t,e)
}),e.on("onload",function(){e._created=!0,e._disabledStatus=!0})};return i.lang.inherits(n,e),n.extend(a(t,o._method)),n};o._method={setOptions:function(t,s){return i.lang.isElement(s)&&(t=a(t,new Function("return "+i.dom.getAttr(s,"data-options"))()||{})),t&&(t=a(i.object.clone(this.Options),t,!0),a(this,t,!0)),t},dispose:function(){this.fire("ondispose")&&i.lang.Class.prototype.dispose.call(this)},_setStatus:function(t){return t?(this._disabledStatus=!0,i.dom.addClass(this.el,this.type+"-disabled ui-state-disabled")):(this._disabledStatus=!1,i.dom.removeClass(this.el,this.type+"-disabled ui-state-disabled")),this
},setDisable:function(){return this._setStatus(!0)},setEnable:function(){return this._setStatus(!1)}},e.exports.widget=o});
;define("wkcommon:widget/ui/js_core/log/log.js",function(e,t,n){var o=e("wkcommon:widget/lib/tangram/base/base.js"),i=e("wkcommon:widget/ui/js_core/util/util.js"),a=e("wkcommon:widget/lib/fis/data/data.js"),d=o.sio.log;n.exports.log=d,n.exports.imageReq=d;var c,s={},r=function(e,t){s[e]=t};n.exports.mark=r;var m=function(e,t,n){var i=(new Date).getTime(),r=["http://"+location.host+"/tongji/"+e+".html?type="+t,"t="+i];n&&o.object.each(n,function(e,t){r.push(t+"="+e)}),s&&o.object.each(s,function(e,t){r.push(t+"="+e)
}),d(r.join("&"));var m=e+"."+t;c=c||a.get("nsTypeMap"),c&&c[m]&&(n=n||{},n.nsact=m,u(1,c[m],n))};n.exports.send=m;var u=function(e,t,n){var i=(new Date).getTime(),a=["http://wkclick.baidu.com/v.gif?pid=112","url="+encodeURIComponent(e),"type="+t,"t="+i];o.object.each(n,function(e,t){a.push(t+"="+e)}),d(a.join("&"))};n.exports.nslog=u;var g=function(){function e(e,t){a.get(e)&&(u=u||{},o.object.merge(u,t))}{var t,n=document.location.pathname,i=null,c=encodeURIComponent(document.referrer||""),s=encodeURIComponent(document.location.href.replace(/#.*/g,"")),r=0,m=0,u=null;
arguments.length}switch(arguments[0]>2?(r=/yuedu/i.test(s)?2:1,m=arguments[0],u=arguments[1]):(r=arguments[0],m=arguments[1],u=arguments[2]),+m){case 1e5:t=["http://ctj.wenku.baidu.com/pv.gif?pid=1"];break;case 100037:t=["http://ctj.wenku.baidu.com/dv.gif?pid=1"];break;case 100421:t=["http://ctj.wenku.baidu.com/baize.gif?pid=1"];break;default:t=["http://ctj.wenku.baidu.com/click.gif?pid=1"]}var g={bid:r,fr:4,act_id:m,url:s,refer:c,t:+new Date},l=a.get("WkInfo").DocInfo,p={"new":{reg:new RegExp("^/new/","i"),data:{pid:1}},view:{reg:new RegExp("^/view/","i"),data:{page:"view",doc_id:l&&l.docId}},link:{reg:new RegExp("^/link$","i"),data:{page:l&&"view",doc_id:l&&l.docId}},midway:{reg:new RegExp("^/subject/","i"),data:{ab_type:l&&l.midway&&l.midway.ab_type,hscore:l&&l.midway&&l.midway.hscore,hrank:l&&l.midway&&l.midway.hrank,hrdtime:l&&l.midway&&l.midway.hrdtime,ebook:l&&l.midway&&l.midway.ebook}}};
l&&l.player&&(p.view.data.player=l.player),o.object.each(p,function(e){e.reg.test(n)&&(i=e.data)}),e("yearMemberTest1",{testid:1}),e("yearMemberTest2",{testid:-1}),e("yearMemberTest3",{testid:-2}),e("yearMemberTest4",{testid:-3}),e("longDocLoginTest1",{testid:9}),e("longDocLoginTest2",{testid:10}),e("longDocLoginTest3",{testid:11}),e("longDocLoginTest10",{testid:-5}),e("longDocLoginTest11",{testid:-6}),e("asyncRecCompare",{testid:-10}),e("asyncRecTest",{testid:-11}),i&&o.object.merge(g,i),u&&o.object.merge(g,u),o.object.each(g,function(e,n){t.push(n+"="+e)
});var w=a.get("smallFlowContent");if(w)for(var f in w)t.push(w[f]);d(t.join("&"))};n.exports.xsend=g,window.FEDEBUG||o.on(window,"load",function(){var e,t,n=!1;"undefined"!=typeof document.hidden?(e="hidden",t="visibilitychange"):"undefined"!=typeof document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),e&&o.on(document,t,function(){var t=document[e];
n=t?!0:!1})});var l=function(){i.delegate(document.body,".logSend","mousedown",function(){var e=this,t="data-logsend",n={send:m,nslog:u},i=o.dom.getAttr(e,t);i&&(i=o.json.parse(i)||{},o.object.each(i,function(e,t){n[t],n[t].apply(null,e)}))})},p=function(){i.delegate(document.body,".log-xsend","mousedown",function(){var e=o.dom.getAttr(this,"data-logxsend");e&&(e=o.json.parse(e)||{},g(e[0],e[1],e[2]))})};setTimeout(function(){l(),p();var e=/yuedu/i.test(location.href)?2:1;g(e,1e5)},250)});
;define("wkcommon:widget/ui/js_core/Suggestion/Suggestion.js",function(e,t,n){var i=e("wkcommon:widget/lib/tangram/base/base.js");i.ui=i.ui||{version:"1.3.9"},i.ui.getUI=function(e){for(var e=e.split("-"),t=i.ui,n=e.length,o=0;n>o;o++)t=t[e[o].charAt(0).toUpperCase()+e[o].slice(1)];return t},i.ui.create=function(e,t){return i.lang.isString(e)&&(e=i.ui.getUI(e)),new e(t)},i.ui.Base={id:"",getId:function(e){var t,n=this;return t="tangram-"+n.uiType+"--"+(n.id?n.id:n.guid),e?t+"-"+e:t},getClass:function(e){var t=this,n=t.classPrefix,i=t.skin;
return e&&(n+="-"+e,i+="-"+e),t.skin&&(n+=" "+i),n},getMain:function(){return i.g(this.mainId)},getBody:function(){return i.g(this.getId())},uiType:"",getCallRef:function(){return"window['$BAIDU$']._instances['"+this.guid+"']"},getCallString:function(e){for(var t=0,n=Array.prototype.slice.call(arguments,1),i=n.length;i>t;t++)"string"==typeof n[t]&&(n[t]="'"+n[t]+"'");return this.getCallRef()+"."+e+"("+n.join(",")+");"},on:function(e,t,n){i.on(e,t,n),this.addEventListener("ondispose",function(){i.un(e,t,n)
})},renderMain:function(e){var t=this;if(!t.getMain())return e=i.g(e),e||(e=document.createElement("div"),document.body.appendChild(e),e.style.position="absolute",e.className=t.getClass("main")),e.id||(e.id=t.getId("main")),t.mainId=e.id,e.setAttribute("data-guid",t.guid),e},dispose:function(){this.dispatchEvent("dispose"),i.lang.Class.prototype.dispose.call(this)}},i.ui.createUI=function(e,t){t=t||{};var n,o,a=t.superClass||i.lang.Class,r=a==i.lang.Class?1:0,d=function(t,s){var u=this;t=t||{},a.call(u,r?t.guid||"":t,!0),i.object.extend(u,d.options),i.object.extend(u,t),u.classPrefix=u.classPrefix||"tangram-"+u.uiType.toLowerCase();
for(n in i.ui.behavior)"undefined"!=typeof u[n]&&u[n]&&(i.object.extend(u,i.ui.behavior[n]),i.lang.isFunction(u[n])?u.addEventListener("onload",function(){i.ui.behavior[n].call(u[n].apply(u))}):i.ui.behavior[n].call(u));for(e.apply(u,arguments),n=0,o=d._addons.length;o>n;n++)d._addons[n](u);t.parent&&u.setParent&&u.setParent(t.parent),!s&&t.autoRender&&u.render(t.element)},s=function(){};s.prototype=a.prototype;var u=d.prototype=new s;for(n in i.ui.Base)u[n]=i.ui.Base[n];return d.extend=function(e){for(n in e)d.prototype[n]=e[n];
return d},d._addons=[],d.register=function(e){"function"==typeof e&&d._addons.push(e)},d.options={},d},i.ui.get=function(e){var t;if(i.lang.isString(e))return i.lang.instance(e);do{if(!e||9==e.nodeType)return null;if(t=i.dom.getAttr(e,"data-guid"))return i.lang.instance(t)}while((e=e.parentNode)!=document.body)},i.ui.Suggestion=i.ui.createUI(function(){var e=this;e.addEventListener("onload",function(){e.on(document,"mousedown",e.documentMousedownHandler),e.on(window,"blur",e.windowBlurHandler)}),e.documentMousedownHandler=e._getDocumentMousedownHandler(),e.windowBlurHandler=e._getWindowBlurHandler(),e.enableIndex=[],e.currentIndex=-1
}).extend({uiType:"suggestion",onbeforepick:new Function,onpick:new Function,onconfirm:new Function,onhighlight:new Function,onshow:new Function,onhide:new Function,getData:function(){return[]},prependHTML:"",appendHTML:"",currentData:{},tplDOM:"<div id='#{0}' class='#{1}' style='position:relative; top:0px; left:0px'></div>",tplPrependAppend:"<div id='#{0}' class='#{1}'>#{2}</div>",tplBody:'<table cellspacing="0" cellpadding="2"><tbody>#{0}</tbody></table>',tplRow:'<tr><td id="#{0}" onmouseover="#{2}" onmouseout="#{3}" onmousedown="#{4}" onclick="#{5}" class="#{6}">#{1}</td></tr>',getString:function(){var e=this;
return i.format(e.tplDOM,e.getId(),e.getClass(),e.guid)},render:function(e){var t,n=this,e=i.g(e);!n.getMain()&&e&&(n.targetId=e.id?e.id:e.id=n.getId("input"),t=n.renderMain(),t.style.display="none",t.innerHTML=n.getString(),this.dispatchEvent("onload"))},_isShowing:function(){var e=this,t=e.getMain();return t&&"none"!=t.style.display},pick:function(e){var t=this,n=t.currentData,i=n&&"number"==typeof e&&"undefined"!=typeof n[e]?n[e].value:e,o={data:{item:i==e?{value:e,content:e}:n[e],index:e}};t.dispatchEvent("onbeforepick",o)&&t.dispatchEvent("onpick",o)
},show:function(e,t,n){var i=0,o=t.length,a=this;if(a.enableIndex=[],a.currentIndex=-1,0!=o||n){for(a.currentData=[];o>i;i++)a.currentData.push("undefined"!=typeof t[i].value?t[i]:{value:t[i],content:t[i]}),("undefined"==typeof t[i].disable||0==t[i].disable)&&a.enableIndex.push(i);a.getBody().innerHTML=a._getBodyString(),a.getMain().style.display="block",a.dispatchEvent("onshow")}else a.hide()},hide:function(){var e=this;if(e._isShowing()){if(e.currentIndex>=0&&e.holdHighLight)for(var t=e.currentData,n=-1,i=0,o=t.length;o>i;i++)("undefined"==typeof t[i].disable||0==t[i].disable)&&(n++,n==e.currentIndex&&e.pick(i));
e.getMain().style.display="none",e.dispatchEvent("onhide")}},highLight:function(e){var t=this,n=t.enableIndex,o=null;t._isEnable(e)&&(t.currentIndex>=0&&t._clearHighLight(),o=t._getItem(e),i.addClass(o,t.getClass("current")),t.currentIndex=i.array.indexOf(n,e),t.dispatchEvent("onhighlight",{index:e,data:t.getDataByIndex(e)}))},clearHighLight:function(){var e=this,t=e.currentIndex,n=e.enableIndex[t];e._clearHighLight()&&e.dispatchEvent("onclearhighlight",{index:n,data:e.getDataByIndex(n)})},_clearHighLight:function(){var e=this,t=e.currentIndex,n=e.enableIndex,o=null;
return t>=0?(o=e._getItem(n[t]),i.removeClass(o,e.getClass("current")),e.currentIndex=-1,!0):!1},confirm:function(e,t){var n=this;("keyboard"==t||n._isEnable(e))&&(n.pick(e),n.dispatchEvent("onconfirm",{data:n.getDataByIndex(e)||e,source:t}),n.currentIndex=-1,n.hide())},getDataByIndex:function(e){return{item:this.currentData[e],index:e}},getTargetValue:function(){return this.getTarget().value},getTarget:function(){return i.g(this.targetId)},_getItem:function(e){return i.g(this.getId("item"+e))},_getBodyString:function(){function e(e){return i.format(t.tplPrependAppend,t.getId(e),t.getClass(e),t[e+"HTML"])
}var t=this,n="",o=[],a=t.currentData,r=a.length,d=0;for(n+=e("prepend");r>d;d++)o.push(i.format(t.tplRow,t.getId("item"+d),a[d].content,t.getCallRef()+"._itemOver(event, "+d+")",t.getCallRef()+"._itemOut(event, "+d+")",t.getCallRef()+"._itemDown(event, "+d+")",t.getCallRef()+"._itemClick(event, "+d+")","undefined"==typeof a[d].disable||0==a[d].disable?"":t.getClass("disable")));return n+=i.format(t.tplBody,o.join("")),n+=e("append")},_itemOver:function(e,t){var n=this;i.event.stop(e||window.event),n._isEnable(t)&&n.highLight(t),n.dispatchEvent("onmouseoveritem",{index:t,data:n.getDataByIndex(t)})
},_itemOut:function(e,t){var n=this;i.event.stop(e||window.event),n.holdHighLight||n._isEnable(t)&&n.clearHighLight(),n.dispatchEvent("onmouseoutitem",{index:t,data:n.getDataByIndex(t)})},_itemDown:function(e,t){var n=this;i.event.stop(e||window.event),n.dispatchEvent("onmousedownitem",{index:t,data:n.getDataByIndex(t)})},_itemClick:function(e,t){var n=this;i.event.stop(e||window.event),n.dispatchEvent("onitemclick",{index:t,data:n.getDataByIndex(t)}),n._isEnable(t)&&n.confirm(t,"mouse")},_isEnable:function(e){var t=this;
return i.array.contains(t.enableIndex,e)},_getDocumentMousedownHandler:function(){var e=this;return function(t){t=t||window.event;var n=t.target||t.srcElement,o=i.ui.get(n);n==e.getTarget()||o&&o.uiType==e.uiType||e.hide()}},_getWindowBlurHandler:function(){var e=this;return function(){e.hide()}},dispose:function(){var e=this;e.dispatchEvent("dispose"),i.dom.remove(e.mainId),i.lang.Class.prototype.dispose.call(this)}}),i.ui.behavior=i.ui.behavior||{},function(){var e=i.ui.behavior.coverable=function(){};
e.Coverable_isShowing=!1,e.Coverable_iframe,e.Coverable_container,e.Coverable_iframeContainer,e.Coverable_show=function(){var e=this;if(e.Coverable_iframe)return e.Coverable_update(),void i.setStyle(e.Coverable_iframe,"display","block");var t=e.coverableOptions||{},n=e.Coverable_container=t.container||e.getMain(),o=t.opacity||"0",a=t.color||"",r=e.Coverable_iframe=document.createElement("iframe"),d=e.Coverable_iframeContainer=document.createElement("div");i.dom.children(n).length>0?i.dom.insertBefore(d,n.firstChild):n.appendChild(d),i.setStyles(d,{position:"absolute",top:"0px",left:"0px"}),i.dom.setBorderBoxSize(d,{width:n.offsetWidth,height:n.offsetHeight}),i.dom.setBorderBoxSize(r,{width:d.offsetWidth}),i.dom.setStyles(r,{zIndex:-1,display:"block",border:0,backgroundColor:a,filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity="+o+")"}),d.appendChild(r),r.src="javascript:void(0)",r.frameBorder="0",r.scrolling="no",r.height="97%",e.Coverable_isShowing=!0
},e.Coverable_hide=function(){var e=this,t=e.Coverable_iframe;e.Coverable_isShowing&&(i.setStyle(t,"display","none"),e.Coverable_isShowing=!1)},e.Coverable_update=function(e){var t=this,e=e||{},n=t.Coverable_container,o=t.Coverable_iframeContainer,a=t.Coverable_iframe;i.dom.setBorderBoxSize(o,{width:n.offsetWidth,height:n.offsetHeight}),i.dom.setBorderBoxSize(a,i.extend({width:i.getStyle(o,"width")},e))}}(),i.extend(i.ui.Suggestion.prototype,{coverable:!0,coverableOptions:{}}),i.ui.Suggestion.register(function(e){e.coverable&&(e.addEventListener("onshow",function(){e.Coverable_show()
}),e.addEventListener("onhide",function(){e.Coverable_hide()}))}),i.ui.Suggestion.extend({setData:function(e,t,n){var i=this;i.dataCache[e]=t,n||i.show(e,i.dataCache[e])}}),i.ui.Suggestion.register(function(e){e.dataCache={},e.addEventListener("onneeddata",function(t,n){var i=e.dataCache;"undefined"==typeof i[n]?e.getData(n):e.show(n,i[n])})}),function(){function e(e){return e.x=e[0]||e.x||e.left||0,e.y=e[1]||e.y||e.top||0,e}var t=i.ui.behavior.posable=function(){};t.setPosition=function(e,t,n){t=i.g(t)||this.getMain(),n=n||{};
var o=this,a=[t,e,n];o.__execPosFn(t,"_positionByCoordinate",n.once,a)},t._positionByCoordinate=function(t,n,o,a){n=n||[0,0],o=o||{};var r=this,d={},s=i.page.getViewHeight(),u=i.page.getViewWidth(),l=i.page.getScrollLeft(),c=i.page.getScrollTop(),g=t.offsetWidth,h=t.offsetHeight,f=t.offsetParent,p=f&&f!=document.body?i.dom.getPosition(f):{left:0,top:0};switch(o.position="undefined"!=typeof o.position?o.position.toLowerCase():"bottomright",n=e(n||[0,0]),o.offset=e(o.offset||[0,0]),n.x+=o.position.indexOf("right")>=0?n.width||0:0,n.y+=o.position.indexOf("bottom")>=0?n.height||0:0,d.left=n.x+o.offset.x-p.left,d.top=n.y+o.offset.y-p.top,o.insideScreen){case"surround":d.left+=d.left<l?g+(n.width||0):d.left+g>l+u?-g-(n.width||0):0,d.top+=d.top<c?h+(n.height||0):d.top+h>c+s?-h-(n.height||0):0;
break;case"fix":d.left=Math.max(0-parseFloat(i.dom.getStyle(t,"marginLeft"))||0,Math.min(d.left,i.page.getViewWidth()-g-p.left)),d.top=Math.max(0-parseFloat(i.dom.getStyle(t,"marginTop"))||0,Math.min(d.top,i.page.getViewHeight()-h-p.top));break;case"verge":var v={width:o.position.indexOf("right")>-1?n.width:0,height:o.position.indexOf("bottom")>-1?n.height:0},m={width:o.position.indexOf("bottom")>-1?n.width:0,height:o.position.indexOf("right")>-1?n.height:0};d.left-=o.position.indexOf("right")>=0?n.width||0:0,d.top-=o.position.indexOf("bottom")>=0?n.height||0:0,d.left+=d.left+v.width+g-l>u-p.left?m.width-g:v.width,d.top+=d.top+v.height+h-c>s-p.top?m.height-h:v.height
}i.dom.setPosition(t,d),a||s==i.page.getViewHeight()&&u==i.page.getViewWidth()||r._positionByCoordinate(t,n,{},!0),a||r.dispatchEvent("onpositionupdate")},t.__execPosFn=function(e,t,n,o){var a=this;"undefined"!=typeof n&&n||i.event.on(i.dom.getWindow(e),"resize",i.fn.bind.apply(a,[t,a].concat([].slice.call(o)))),a[t].apply(a,o)}}(),i.ui.Suggestion.extend({posable:!0,fixWidth:!0,getWindowResizeHandler:function(){var e=this;return function(){e.adjustPosition(!0)}},adjustPosition:function(e){var t,n,o=this,a=o.getTarget(),r=o.getMain();
(o._isShowing()||!e)&&(t=i.dom.getPosition(a),n={top:t.top+a.offsetHeight-1,left:t.left,width:a.offsetWidth},n="function"==typeof o.view?o.view(n):n,o.setPosition([n.left,n.top],null,{once:!0}),i.dom.setOuterWidth(r,n.width))}}),i.ui.Suggestion.register(function(e){e.windowResizeHandler=e.getWindowResizeHandler(),e.addEventListener("onload",function(){e.adjustPosition(),e.fixWidth&&(e.fixWidthTimer=setInterval(function(){var t=e.getMain(),n=e.getTarget();0!=t.offsetWidth&&n&&n.offsetWidth!=t.offsetWidth&&(e.adjustPosition(),t.style.display="block")
},100)),e.on(window,"resize",e.windowResizeHandler)}),e.addEventListener("onshow",function(){e.adjustPosition()}),e.addEventListener("ondispose",function(){clearInterval(e.fixWidthTimer)})}),i.ui.Suggestion.register(function(e){var t,n,o,a="",r=!1,d=!1;e.addEventListener("onload",function(){t=this.getTarget(),n=t.value,e.targetKeydownHandler=e.getTargetKeydownHandler(),e.on(t,"keydown",e.targetKeydownHandler),t.setAttribute("autocomplete","off"),e.circleTimer=setInterval(function(){if(!d){null==i.g(t)&&e.dispose();
var r=t.value;r==a&&""!=r&&r!=n&&r!=o?0==e.requestTimer&&(e.requestTimer=setTimeout(function(){e.dispatchEvent("onneeddata",r)},100)):(clearTimeout(e.requestTimer),e.requestTimer=0,""==r&&""!=a&&(o="",e.hide()),a=r,r!=o&&(e.defaultIptValue=r),n!=t.value&&(n=""))}},10),e.on(t,"beforedeactivate",e.beforedeactivateHandler)}),e.addEventListener("onitemclick",function(){d=!1,e.defaultIptValue=a=e.getTargetValue()}),e.addEventListener("onpick",function(e){r&&t.blur(),t.value=o=e.data.item.value,r&&t.focus()
}),e.addEventListener("onmousedownitem",function(){r=!0,d=!0,setTimeout(function(){d=!1,r=!1},500)}),e.addEventListener("ondispose",function(){clearInterval(e.circleTimer)})}),i.ui.Suggestion.extend({beforedeactivateHandler:function(){return function(){mousedownView&&(window.event.cancelBubble=!0,window.event.returnValue=!1)}},getTargetKeydownHandler:function(){function e(e){if(!t._isShowing())return void t.dispatchEvent("onneeddata",t.getTargetValue());var n=t.enableIndex,i=t.currentIndex;if(0!=n.length){if(e)switch(i){case-1:i=n.length-1,t.pick(n[i]),t.highLight(n[i]);
break;case 0:i=-1,t.pick(t.defaultIptValue),t.clearHighLight();break;default:i--,t.pick(n[i]),t.highLight(n[i])}else switch(i){case-1:i=0,t.pick(n[i]),t.highLight(n[i]);break;case n.length-1:i=-1,t.pick(t.defaultIptValue),t.clearHighLight();break;default:i++,t.pick(n[i]),t.highLight(n[i])}t.currentIndex=i}}var t=this;return function(n){var o=!1;switch(n=n||window.event,n.keyCode){case 9:case 27:t.hide();break;case 13:i.event.stop(n),t.confirm(-1==t.currentIndex?t.getTarget().value:t.enableIndex[t.currentIndex],"keyboard");
break;case 38:o=!0;case 40:i.event.stop(n),e(o);break;default:t.currentIndex=-1}}},defaultIptValue:""}),n.exports.Suggestion=i.ui.Suggestion});
;define("wkcommon:widget/ui/js_core/xform/xform.js",function(e,t,a){var r={_interface:{get:"/xpage/form/getform",post:"/xpage/form/postform",create:"/xpage/form/createform",del:"/xpage/form/deleteform",preview:"/xpage/form/previewform",checkexist:"/xpage/form/checkidexist"},getData:function(e,t){t=$.extend({url:this._interface.get,dataType:"json",data:{id:e,complete:0},success:function(){},error:function(){}},t);var a=t.success;return t.success=function(e,r,n){try{var c=e.data;c&&c.form_data?a(c.form_data,r,n):t.error(n,"no available data")
}catch(o){t.error(n,"json format error")}},$.ajax(t)},getForm:function(e,t){var a={id:e,complete:1};t.noPreview&&(a.no_preview=1),t=$.extend({url:this._interface.get,dataType:"json",data:a,success:function(){},error:function(){}},t);var r=t.success||function(){};return t.success=function(e,a,n){e&&e.data?r(e.data,a,n):t.error(n,"no available data")},$.ajax(t)},postForm:function(e,t){t=$.extend({url:this._interface.post,type:"post",dataType:"json",data:e,success:function(){}},t);var a=t.success||function(){};
return t.success=function(e,r,n){e&&e.data?a(e.data,r,n):t.error(n,"no available data")},$.ajax(t)},createForm:function(e,t){t=$.extend({url:this._interface.create,type:"post",dataType:"json",data:e,success:function(){}},t);var a=t.success||function(){};return t.success=function(e,r,n){e&&e.data?a(e.data,r,n):t.error(n,"no available data")},$.ajax(t)},checkIdExist:function(e,t){t=$.extend({url:this._interface.checkexist,type:"get",dataType:"json",data:e,success:function(){}},t);var a=t.success||function(){};
return t.success=function(e,r,n){e&&e.data?a(e.data,r,n):t.error(n,"no available data")},$.ajax(t)},previewForm:function(e,t){t=$.extend({url:this._interface.preview,type:"post",dataType:"json",data:e,success:function(){}},t);var a=t.success||function(){};return t.success=function(e,r,n){e&&e.data?a(e.data,r,n):t.error(n,"no available data")},$.ajax(t)},deleteForm:function(e,t){t=$.extend({url:this._interface.del,dataType:"json",data:{id:e},success:function(){}},t);var a=t.success||function(){};return t.success=function(e,r,n){e&&e.data?a(e.data,r,n):t.error(n,"no available data")
},$.ajax(t)}},n={getJSON:function(e,t){return r.getData(e,t)}};a.exports.xform=r,a.exports.getJSON=n.getJSON,a.exports.getJSONP=n.getJSONP});
;define("wkcommon:widget/ui/js_core/layerControl/layerControl.js",function(e,o,i){var t=e("wkcommon:widget/lib/tangram/base/base.js"),n=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,r=e("wkcommon:widget/ui/js_core/util/util.js"),s=n({Options:{el:""},_init:function(){var e=this;r.mix(this,r.zIndexManager),e.on("onload",function(){e._action()})},_action:t.fn.blank,show:function(){this.fire("onShowBefore"),this.bringToFront(this.el),t.dom.show(this.el),this.fire("onShowAfter")},hide:function(){this.fire("onHideBefore"),this.sendToBack(this.el),t.dom.hide(this.el),this.fire("onHideAfter")
},remove:function(){this.fire("onRemvoeBefore"),t.dom.remove(this.el),this.fire("ondispose"),this.fire("onRemvoeAfter")}},{type:"layerControl"});i.exports.layerControl=s});
;define("wkcommon:widget/ui/js_core/mask/mask.js",function(t,i,o){var e=t("wkcommon:widget/lib/tangram/base/base.js"),s=t("wkcommon:widget/ui/js_core/widget/widget.js").widget,n=t("wkcommon:widget/ui/js_core/util/util.js"),h=t("wkcommon:widget/ui/js_core/layerControl/layerControl.js").layerControl,l=s({Options:{el:"",container:document.body,opacity:.3,top:"",left:"",width:"",height:"",bgColor:"#000000",closeWithEsc:!0,closeWithClick:!0,closeSelector:".ui-mask-close",handCursor:!0,autoShow:!0,onClose:e.fn.blank},_init:function(t){var i=this,o=e.event,s=function(){i.autoresize()
};this.fullPage=t.container===document.body,e.object.extend(this,n.mix(this.Options,t||{},!0)),this.el=this.el||document.createElement("div"),this.domId=this.el.id=["mask-layer",e.lang.guid()].join("-"),document.body.appendChild(this.el),this._action(),this.on("onCloseAfter",function(){i.dispose()}),this.on("onHideAfter",function(){i.showing=!1,o.un(window,"resize",s),o.un(window,"scroll",s)}),this.on("onShowAfter",function(){i.showing=!0,o.on(window,"resize",s),o.on(window,"scroll",s)}),this.autoShow&&this.show()
},_action:function(){var t=e.event,i=this,o=function(t){27===t.keyCode&&i.close()};n.delegate(this.el,this.closeSelector,"click",function(o){i.close(),t.stop(o)}),this.closeWithEsc&&t.on(document,"keydown",o),this.closeWithClick&&t.on(this.el,"click",function(){i.close()}),t.on(this.el,"click",function(t){i.fire("onClick",t)}),this.on("ondispose",function(){t.un(document,"keydown",o)}),this._addHtml(),this._addStyle()},autoresize:function(){this.width&&this.height||this._addStyle()},close:function(){this.hide(),this.onClose.call(this)!==!1&&(this.fire("onCloseBefore"),document.body.removeChild(this.el),this.fire("onCloseAfter"))
},_addHtml:function(){this.el.innerHTML=['<iframe frameborder="0" style="',"filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);","position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;",'" src="about:blank"></iframe>','<div style="position:absolute;top:0;left:0;width:100%;height:100%;">&nbsp;</div>'].join("")},_addStyle:function(){var t=this.container,i=this.el,o=e.dom.getPosition(this.container);return i.style.cssText+=[";top : "+(this.top||o.top)+"px","left : "+(this.left||o.left)+"px","width : "+(this.width||t.offsetWidth)+"px","height : "+(this.height||t.offsetHeight)+"px","background : "+this.bgColor,"opacity : "+this.opacity,"filter : alpha(opacity="+100*this.opacity+")","position : absolute",this.handCursor?"cursor : pointer; _cursor : hand":"","display : "+(this.showing?"block":"none")].join(";"),this
},attr:function(t){return this.Options[t]}},{type:"mask",superClass:h}),c=function(t){var i=new l(t);return i};o.exports.mask=l,o.exports.maskCreate=c});
;define("wkcommon:widget/ui/js_core/_dialog/mask.js",function(o,i,e){var n=(o("wkcommon:widget/lib/tangram/base/base.js"),o("wkcommon:widget/ui/js_core/util/util.js")),s=o("wkcommon:widget/ui/js_core/mask/mask.js").maskCreate,t=function(o){var i={bgColor:"#000",closeWithClick:!1,closeWithEsc:!1,autoShow:!1},e=s(n.mix(i,o.mask||{},!0));e.on("onHideBefore",function(){}),this.on("onHideAfter",function(){e.hide()}),this.on("onCloseAfter",function(){e.close()}),this.on("onShowBefore",function(){e.show()
}),this.on("onBodyResize",function(){e.fire("onContainerResize")})};e.exports.mask=t});
;define("wkcommon:widget/ui/js_core/_dialog/_dialog.js",function(t,e,i){var n=t("wkcommon:widget/lib/tangram/base/base.js"),o=t("wkcommon:widget/ui/js_core/widget/widget.js").widget,s=t("wkcommon:widget/ui/js_core/util/util.js"),r=t("wkcommon:widget/ui/js_core/layerControl/layerControl.js").layerControl,a=t("wkcommon:widget/ui/js_core/_dialog/mask.js").mask,l=o({Options:{el:""},_init:function(){s.mix(this,s.zIndexManager);var t=n.event,e=this;this.guid=n.lang.guid(),this._lastDom=null,this.on("onload",function(){var i=e.getElement(),n=function(){e.focus()
},o=function(t){e.closeWithEsc&&e.isShowing()&&27===t.keyCode&&e.hide()};t.on(i,"mousedown",n),t.on(document,"keydown",o),e.on("ondispose",function(){t.un(i,"mousedown",n),t.un(document,"keydown",o)}),e.on("onShowAfter",function(){e._hasShown=!0,e._showing=!0,e.setSize({width:e.width,height:e.height}),""===e.top||""===e.left?e.center():e.setPosition({top:e.top,left:e.left})}),e.setTitle(e.title),e.setContent(e.content,e.contentType),e.setButtons(e.buttons),e.draggable&&e.setDraggable(!0)}),this._createDialog()
},stop:function(t){t.returnValue=!1},getElement:function(t){return n.g(this._getElementId(t||"container"))},_getElementId:function(t){return[this.type,this.guid,t].join("-")},isShowing:function(){return this._showing},_hide:function(){this.getElement().style.display="none",this._showing=!1},hide:function(){this.fire("onHideBefore")&&(this._hide(),this.fire("onHideAfter"))},setDraggable:function(t){if(t){var e=this,i=n.page,o=n.dom.addClass,s=n.dom.removeClass,r=e.getElement("head"),a={range:[0,i.getWidth(),i.getHeight(),0],handler:r,onbeforedragstart:function(t){o(t,"on-drag-move")
},ondragend:function(t){s(t,"on-drag-move")}};e.onDrag&&(a.ondrag=e.onDrag),o(r,"move-handler"),n.dom.draggable&&n.dom.draggable(this.getElement(),a)}this.draggable=t},setSize:function(t){var e,i=(n.dom.getComputedStyle,+t.width),o=+t.height,s=this.getElement(),r=this.getElement("content"),a=s.style;"number"==typeof i&&(a.width=(this.width=i)+"px"),"number"==typeof o&&(a.height=(this.height=o)+"px"),e=o-this.getElement("buttons").offsetHeight-this.getElement("head").offsetHeight-7,r.style.height=e>=0?e+"px":"auto",this.fire("onresize")
},getSize:function(){return{width:this.width,height:this.height}},setContent:function(t,e,i){var o,s,r,a=n.dom,l=this.getElement("content");if("undefined"!=typeof i&&(this.hasContent=i),this._showPart(l,this.hasContent),!l)return this;if(o=this._lastDom){if(r=o.parent,o.content===t)return this;o.target?r.insertBefore(o.content,o.target):r.appendChild(o.content)}switch(e){case"text":l.innerHTML=baidu.string.encodeHTML(t),a.removeClass(l,"contentFrame");break;case"element":(r=(t=a.g(t)).parentNode)&&(r.insertBefore(s=document.createTextNode(""),t),this._lastDom={content:t,parent:t.parentNode,target:s}),l.innerHTML="",l.appendChild(t),a.removeClass(l,"contentFrame");
break;case"iframe":this._hasShown||(l.innerHTML='<iframe frameborder="no" src="'+t+'" width="100%" name="'+this.iframeName+'"></iframe>',a.hasClass(l,"contentFrame")||a.addClass(l,"contentFrame"));break;default:l.innerHTML=t,a.removeClass(l,"contentFrame")}return this},setTitle:function(t,e){var i=this.getElement("title");return this.title=t,"undefined"!=typeof e&&(this.hasTitle=e),i&&(this._showPart(i,this.hasTitle),i.innerHTML=t||"&nbsp;"),this},setPosition:function(t){var e=+t.left,i=+t.top,n=this.getElement(),o=n.style;
return this.fire("onSetPositionBefore"),"number"==typeof e&&(o.left=(this.left=e)+"px"),"number"==typeof i&&(o.top=(this.top=i)+"px"),this.fire("onSetPositionAfter"),this},getPosition:function(){return{left:this.left,top:this.top}},center:function(){var t=n.page,e=t.getScrollTop(),i=t.getScrollLeft(),o=t.getViewWidth(),s=t.getViewHeight(),r=((o-this.width)/2|0)+i,a=((s-this.height)/2|0)+e;return e>a&&(a=e),i>r&&(r=i),this.setPosition({left:r,top:a}),this},setButtons:function(t,e){var i=this.getElement("buttons");
return this.buttons=t,"undefined"!=typeof e&&(this.hasButtons=e),i&&(this._showPart(i,this.hasButtons),i.innerHTML=t),this},setOperate:function(t,e){var i=this.getElement("Operate");return"undefined"!=typeof e&&(this.hasHead=e),this.operate=t,i&&(this._showPart(i,this.hasHead),i.innerHTML=i),this},_showPart:function(t,e){t.style.display=e===!1?"none":"block"},focus:function(){this.fire("onfocus")},close:function(){return this.fire("onCloseBefore")?(this.hide(),this.remove(),void this.fire("onCloseAfter")):!1
},_createDialog:function(){var t=this.template,e={dialogContainerId:this._getElementId("container"),dialogHeadId:this._getElementId("head"),dialogOperateId:this._getElementId("operate"),dialogTitleId:this._getElementId("title"),dialogContentId:this._getElementId("content"),dialogButtonsId:this._getElementId("buttons"),dialogInnerId:this.innerId||this._getElementId("inner")},i=s.createDom(n.string.format(t,e));return document.body.appendChild(i),this}},{type:"dialog",superClass:r}),d=o({Options:{el:"",innerId:"",width:400,height:300,left:"",top:"",autoshow:!0,operate:"",hasOperate:!0,title:"",hasTitle:!0,content:"",contentType:"html",hasContent:"",buttons:"",hasButtons:!0,closeSelector:".dialog-close",minimizeSelector:".minimize",confirmSelector:".confirm",closeWithEsc:!0,draggable:!0,onDrag:null,onConfirm:n.fn.blank,onBeforeClose:n.fn.blank,mask:{bgColor:"#000"}},template:['<div id="#{dialogContainerId}" class="mod ui-custiom-dialog-container">','<div id="#{dialogInnerId}" class="inner dialog-inner">','<div id="#{dialogHeadId}" class="hd dialog-head"></div>','<div id="#{dialogContentId}" class="bd dialog-content"></div>','<div id="#{dialogButtonsId}" class="ft pv20 dialog-footer"></div>',"</div>","</div>"].join(""),_init:function(t){var e=this;
n.object.extend(this,s.mix(n.object.clone(this.Options),t||{},!0)),this._action(),this.el=this.getElement(),this.iframeName=this.iframeName||"iframe-"+this.guid,this.fire("onload"),this._hide(),this.autoshow&&setTimeout(function(){e.show()},10)},_action:function(){var t=n.event.stop,e=this,i=this.getElement();s.delegate(i,this.closeSelector,"click",function(i){e.close(),t(i)}),s.delegate(i,this.minimizeSelector,"click",function(i){e.minimize(),t(i)}),s.delegate(i,this.confirmSelector,"click",function(i){return e.fire("onConfirmBefore")?(e.close(),void t(i)):!1
})},minimize:function(){this.hide()},render:function(){return this.fire("onRenderBefore"),this.fire("onRenderAfter"),this}},{type:"dialog",superClass:l,include:[a]}),h=o({Options:{el:"",innerId:"",width:400,height:300,left:"",top:"",autoshow:!0,operate:"",hasOperate:!0,title:"",hasTitle:!0,content:"",contentType:"html",hasContent:"",buttons:"",hasButtons:!0,closeSelector:".dialog-close",minimizeSelector:".minimize",confirmSelector:".confirm",closeWithEsc:!0,draggable:!0,onDrag:null,onConfirm:n.fn.blank,onBeforeClose:n.fn.blank,mask:{bgColor:"#000"}},template:['<div id="#{dialogContainerId}" class="mod ui-dialog-container">','<div id="#{dialogInnerId}" class="inner dialog-inner">','<div id="#{dialogHeadId}" class="hd dialog-head">','<span class="act" id="#{dialogOperateId}">','<a href="###" hidefocus="true" class="ir close dialog-close">&times;</a>',"</span>",'<h3 id="#{dialogTitleId}" class="dialog-title"></h3>',"</div>",'<div id="#{dialogContentId}" class="bd dialog-content"></div>','<div id="#{dialogButtonsId}" class="ft pv20 dialog-footer"></div>',"</div>","</div>"].join(""),_init:function(t){var e=this;
n.object.extend(this,s.mix(n.object.clone(this.Options),t||{},!0)),this._action(),this.el=this.getElement(),this.iframeName=this.iframeName||"iframe-"+this.guid,this.fire("onload"),this._hide(),this.autoshow&&setTimeout(function(){e.show()},10)},_action:function(){var t=n.event.stop,e=this,i=this.getElement();s.delegate(i,this.closeSelector,"click",function(i){e.close(),t(i)}),s.delegate(i,this.minimizeSelector,"click",function(i){e.minimize(),t(i)}),s.delegate(i,this.confirmSelector,"click",function(i){return e.fire("onConfirmBefore")?(e.close(),void t(i)):!1
})},minimize:function(){this.hide()},render:function(){return this.fire("onRenderBefore"),this.fire("onRenderAfter"),this}},{type:"dialog",superClass:l,include:[a]}),c=function(t){var e=new h(t);return e},g={};g.confirm=function(t){t=t||{};var e=t.btnText||["\u786e\u8ba4","\u53d6\u6d88"],i=['<div class="dialog-btns-confirm">','<a href="###" class="bt ui-btn ui-btn-26-green mv10 confirm">','<b class="btc"><b class="btText">#{0}</b></b>',"</a>",'<a href="###" class="bt ui-btn ui-btn-26-light mv10 dialog-close">','<b class="btc"><b class="btText">#{1}</b></b>',"</a>","</div>"].join(""),o={buttons:n.string.format(i,e)},r=c(s.mix(o,t));
return r},g.tip=function(t){t=t||{};var e={width:300,height:200,hasButtons:!1,onShowAfter:function(){var e=this;"undefined"==typeof t.showTime&&(t.showTime=3e3),0!=t.showTime&&setTimeout(function(){e.hide()},t.showTime)}},i=c(s.mix(e,t));return i},g.alert=function(t){t=t||{};var e=['<div class="dialog-btns-alert">','<a href="###" class="bt ui-btn ui-btn-26-green mv10 confirm">','<b class="btc"><b class="btText">#{text}</b></b>',"</a>","</div>"].join(""),i={text:t.btnText||"\u786e\u8ba4"},o={buttons:n.string.format(e,i)},r=c(s.mix(o,t));
return r};i.exports.dialog=h,i.exports.dialogCreate=c,i.exports.confirm=g.confirm,i.exports.alert=g.alert,i.exports.tip=g.tip,i.exports.customDialog=d});
;define("wkcommon:widget/ui/js_core/accordion/animate/easing.js",function(e,n,t){t.exports.linearTween=function(e,n,t,r){return t*e/r+n},t.exports.easeInQuad=function(e,n,t,r){return t*(e/=r)*e+n},t.exports.easeOutQuad=function(e,n,t,r){return-t*(e/=r)*(e-2)+n},t.exports.easeInOutQuad=function(e,n,t,r){return(e/=r/2)<1?t/2*e*e+n:-t/2*(--e*(e-2)-1)+n}});
;define("wkcommon:widget/ui/js_core/accordion/animate/fx.js",function(e,t,n){function i(e,t,n){var i={},r=0;if(i.el=a.g(e),i.styles=t,!i.el)throw"el must be a HTMLElement or a valid id";a.object.each(t,function(e){if(e.length<2)throw'a style must have "from" and "to"';r++}),i.duration=Math.abs(parseInt(n.duration)||600),i.easingName=n.easingName&&a.lang.isFunction(o[this.easingName])||"linearTween",a.object.each(n,function(e,t){0===t.indexOf("on")&&(i[t]=e)});var d=new s(i);return(1>r||n.off===!0)&&d.end(),d
}var o=e("wkcommon:widget/ui/js_core/accordion/animate/easing.js"),a=e("wkcommon:widget/lib/tangram/base/base.js"),r=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,s=(e("wkcommon:widget/ui/js_core/util/util.js"),r({Options:{},_init:function(){var e=this;e.percent=0,e._from={},e._to={},e._ended=!1,e._started=!1,e._cancel=!1,e._names=[],e._showed=!1,a.object.each(e.styles,function(t,n){a.lang.isFunction(s.steps[n])&&(e._names.push(n),e._from[n]=t[0],e._to[n]=t[1],t[2]===!0&&(e._showed=!0))
})},easing:function(e,t,n,i){return e>i&&(e=i),o[this.easingName](e,t,n,i)},getCurrent:function(e){return parseFloat(this.percent*(this._to[e]-this._from[e])+this._from[e],10)},step:function(){var e=this;return e.fire("onBeforeAnimating"),e.percent=e._ended?1:e.easing((new Date).getTime()-e._startTime,0,1,e.duration),a.array.each(e._names,function(t){s.steps[t](e)}),e.fire("onAfterAnimating"),1===e.percent?(e.fire("onAfterAnimate"),!1):!0},start:function(){return this.fire("onBeforeAnimate"),this._cancel||(this._started=!0,this._startTime=(new Date).getTime()),this
},end:function(){return this._ended=!0,this},cancel:function(){return this._cancel=!0,this}},{type:"Fx"}));s.steps={},a.each("height,width,borderWidth,margin,padding,borderTopWidth,borderBottomWidth,borderLeftWidth,borderRightWidth,marginTop,marginBottom,marginLeft,marginRight,paddingTop,paddingBottom,paddingLeft,paddingRight".split(","),function(e){s.steps[e]=function(t){t.el.style[e]=t.getCurrent(e)+"px",t._showed||(a.dom.show(t.el),"none"===a.dom.getStyle(t.el,"display")&&a.dom.setStyle(t.el,"display","block"),t._showed=!0)
}}),n.exports.FxCreate=i});
;define("wkcommon:widget/ui/js_core/accordion/animate/animate.js",function(e,t,i){function n(e){if((e.nodeType&&1===e.nodeType||a.lang.isString(e))&&(e={el:a.g(e)}),!e.el)throw"options.el must be a HTMLElement or a valid id";var t=new h(e);return t}var o=e("wkcommon:widget/ui/js_core/accordion/animate/fx.js").FxCreate,a=e("wkcommon:widget/lib/tangram/base/base.js"),r=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,s=e("wkcommon:widget/ui/js_core/util/util.js"),u={},l=["height","borderTop","borderBottom","marginTop","marginBottom"],c=["width","borderLeft","borderRight","marginLeft","marginRight"],f=l.concat(c),d=["position","overflow"],m=f.concat(d),h=r({Options:{el:"",off:!1,interval:16,easingName:"linearTween",isQueue:!0,fxGuidPrefix:"WK_FX_"},_init:function(){var e=this;
e._fxGuid=0,e.animateQueue=[],e.running=!1,e.fxs={},e.guid=a.lang.guid(),e._isQueue=e.isQueue===!1?!1:!0,e._saveStyles()},_saveStyles:function(e){var t=this,i=t.el,n={};return u[t.guid]&&e!==!0||(a.each(m,function(e){n[e]=i.style[e]}),u[t.guid]=n),this},_revertStyles:function(){var e,t=this,i=t.el;return(e=u[t.guid])&&a.object.each(e,function(e,t){i.style[t]=e}),this},_setExtraStyles:function(e){var t=s.mix({overflow:"hidden",position:"relative"},a.object.isPlain(e)?e:{});a.object.each(t,function(e,t){this.el.style[t]=e
})},_step:function(){var e=this,t=0;a.object.each(e.fxs,function(i,n){i._started||i.start(),i.step()?t++:(i.dispose(),delete e.fxs[n])}),t>0&&setTimeout(function(){e._step()},e.interval)},_queue:function(e,t){this.animateQueue.push({name:e,args:t})},_run:function(e,t){var i=this;t.off=i.off,t.easingName=i.easingName;var n=t.onAfterAnimate;t.onAfterAnimate=function(){if(n.call(i),i._isQueue&&(i.running=!1,i.animateQueue.length>0)){var e=i.animateQueue.shift();setTimeout(function(){i[e.name].apply(i,e.args)
},0)}};var a=o(this.el,e,t);i.fxs[i.fxGuidPrefix+i._fxGuid++]=a,i._isQueue&&(i.running=!0),i._step()},getDuration:function(e){var t,i={fast:200,slow:600,normal:1e3};return t=a.lang.isNumber(e)?Math.abs(Math.round(e)):i[e],t||i.normal}},{type:"animate"});a.array.each("end,cancel".split(","),function(e){h.prototype[e]=function(){a.object.each(this.fxs,function(t){t[e]()})}}),a.object.extend(h.prototype,{stylePromise:function(e){var t,i=this,n={},o={visibility:"hidden",display:"block",position:"absolute"},r="none"===a.dom.getStyle(i.el,"display");
return r&&a.object.each(o,function(e,t){n[t]=i.el.style[t],i.el.style[t]=e}),t=i[e](),r&&a.object.each(o,function(e,t){i.el.style[t]=n[t]}),t},_getVerticalSlideOld:function(){var e=this,t={};return a.each(l,function(i){t[i]=parseInt(a.dom.getStyle(e.el,i))}),t}}),a.object.extend(h.prototype,{_verticalSlide:function(e,t,i,n){if(this._isQueue&&this.running)return this._queue(e,[i,n]),this;var o,r;switch(e){case"slideUp":o=!0,r=function(e){return[e,0]};break;case"slideDown":o=!1,r=function(e){return[0,e]
};break;default:throw"you can't do this slide"}(a.lang.isFunction(i)||a.object.isPlain(i))&&(n=i,i="normal");var u=this,l={duration:u.getDuration(i)};if(a.lang.isFunction(n)?l.onAfterAnimate=n:a.object.isPlain(n)&&(l=s.mix(l,n)),n=l.onAfterAnimate,l.onAfterAnimate=function(){o&&a.dom.hide(u.el),u._revertStyles(),n&&n.call(u)},t()){var c=u.stylePromise("_getVerticalSlideOld");a.object.each(c,function(e,t){c[t]=r(e)})}else c={},l={onAfterAnimate:l.onAfterAnimate};return this._run(c,l),this},slideUp:function(e,t){var i=this;
return i._verticalSlide("slideUp",function(){var e=!1;return"none"!==a.dom.getStyle(i.el,"display")&&(e=!0),e},e,t)},slideDown:function(e,t){var i=this;return i._verticalSlide("slideDown",function(){var e=!1;return"none"===a.dom.getStyle(i.el,"display")&&(e=!0),e},e,t)}}),i.exports.animateCreate=n});
;define("wkcommon:widget/ui/js_core/accordion/accordion.js",function(e,n,t){function i(e,n,t){this.hd=e,this.bd=n,this.index=t,this.expanded=!0,this.animating=!1,this.height=parseInt(a.dom.getStyle(n,"height"))}var a=e("wkcommon:widget/lib/tangram/base/base.js"),o=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,r=e("wkcommon:widget/ui/js_core/accordion/animate/animate.js").animateCreate,c=o({Options:{el:"",bindEvent:"mouseover",onClassName:"current",controlClassName:"accordion-control",contentClassName:"accordion-content",duration:500,interval:16,fxOff:!1,easingName:"linearTween",selectIndex:0,expandable:!1,collapsible:!1},_init:function(){var e=this;
e._currentItem=[],e.items=[],(e.expandable||e.collapsible)&&(e.bindEvent="click");var n=e.fxOff===!0;e.fxOff=!0,e.on("onload",function(){a.lang.isString(e.el)&&(e.el=a.g(e.el)),e.hdElement=a.dom.q(e.controlClassName,e.el),e.bdElement=a.dom.q(e.contentClassName,e.el),e._action().gotoIndex(e.selectIndex),e.fxOff=n})},_action:function(){var e=this;return a.array.each(e.hdElement,function(n,t){var o=new i(n,e.bdElement[t],t);e.items.push(o),a.event.on(n,e.bindEvent,function(i){var o=a.array.every(e.items,function(e){return e.animating?!1:!0
});o&&(e.expandable?e.toggleIndex(t):e.collapsible&&1===e._currentItem.length&&e._currentItem[0].hd===n?e._collapse(e._currentItem[0]):e.gotoIndex(t)),a.event.stop(i)})}),this},_change:function(e){var n=this;return a.array.each(n.items,function(t,i){n.hdElement[i];i===e?n._expand(t):n._collapse(t)}),this},_collapse:function(e){function n(){e.expanded=!1,e.animating=!1,t.fire("onAfterCollapse",e),t.fire("onAfterAction",e)}var t=this;return a.array.remove(t._currentItem,e),e.expanded&&!e.animating&&(t.fire("onBeforeAction",e),t.fire("onBeforeCollapse",e),e.animating=!0,t.fxOff?(a.dom.hide(e.bd),n()):(e.animate=e.animate||r(e.bd),e.animate.off=!1,e.animate.slideUp(t.duration,n))),this
},_expand:function(e){function n(){e.expanded=!0,e.animating=!1,t.fire("onAfterExpand",e),t.fire("onAfterAction",e)}var t=this;return-1===a.array.indexOf(t._currentItem,e)&&t._currentItem.push(e),e.expanded||e.animating||(t.fire("onBeforeAction",e),t.fire("onBeforeExpand",e),e.animating=!0,t.fxOff?(a.dom.show(e.bd),n()):(e.animate=e.animate||r(e.bd),e.animate.off=!1,e.animate.slideDown(t.duration,n))),this},toggleIndex:function(e){var n=this,t=n.items[e];return t.expanded?n._collapse(t):n._expand(t),this
},gotoIndex:function(e){return this.hdElement[e]&&this._change(e),this}},{type:"accordion"}),d=function(e){var n=new c(e);return n.fire("onload"),n};t.exports.accordion=c,t.exports.accordionCreate=d});
;define("wkcommon:widget/ui/js_core/carousel/carousel.js",function(t,e,i){var s=t("wkcommon:widget/lib/tangram/base/base.js"),a=t("wkcommon:widget/ui/js_core/widget/widget.js").widget,n=s.dom,o=s.event,r=s.fn,l=a({Options:{containerId:"carousel-container",preBtnClass:"pre-btn",nextBtnClass:"next-btn",carouselContentClass:"carousel-content",playSpeed:60,perPage:6,pageSize:6,isAutoPlay:!0,isLoop:!1},_cacheData:function(){this.container=n.g(this.containerId),this.ulCon=this.container.getElementsByTagName("ul")[0],this.liItem=this.ulCon.getElementsByTagName("li"),this.currentPage=0,this.play=null,this.autoPlay=null,this.temp={preBtn:n.q(this.preBtnClass,this.container,"a")[0],nextBtn:n.q(this.nextBtnClass,this.container,"a")[0],totalPage:Math.ceil(this.liItem.length/this.perPage)}
},_init:function(){this._cacheData(),this._initEvent(),this._autoPlay(),this._initStatus()},_initStatus:function(){this.isLoop||this._initBtnStatus()},_initBtnStatus:function(){var t=this.temp;this.isLoop||(this.currentPage<=0?n.addClass(t.preBtn,"disabled-pre-btn"):n.removeClass(t.preBtn,"disabled-pre-btn"),(this.currentPage+1)*this.pageSize>=this.liItem.length?n.addClass(t.nextBtn,"disabled-next-btn"):n.removeClass(t.nextBtn,"disabled-next-btn"))},_autoPlay:function(){var t=this;this.isAutoPlay&&(this.autoPlay=setInterval(function(){t.nextPage()
},3e3))},_clearAutoPlay:function(){this.isAutoPlay&&clearInterval(this.autoPlay)},nextPage:function(){var t=this.temp;if(this.currentPage<t.totalPage){if(this.currentPage++,this.isLoop){if(this.currentPage==t.totalPage)for(var e=0;e<this.perPage;e++){var i=this.liItem[e],s=i.style;s.position="relative",s.left=this.liItem[0].offsetWidth*this.liItem.length+"px"}}else this._initBtnStatus();this._switch()}},prePage:function(){var t=(this.temp,this.liItem.length);if(this.currentPage--,this.isLoop){if(-1==this.currentPage)for(var e=t;e>t-this.perPage;e--){var i=this.liItem[e-1],s=i.style;
s.position="relative",s.left=-(this.liItem[0].offsetWidth*this.liItem.length)+"px"}}else this._initBtnStatus();this._switch()},_switch:function(){var t=this.temp,e=-(this.currentPage*this.liItem[0].offsetWidth*this.perPage);this.isLoop?this._move(e):this.currentPage==t.totalPage?(this.currentPage=t.totalPage-1,this.fire("onLastPage")):-1==this.currentPage?(this.fire("onFirstPage"),this.currentPage=0):this._move(e)},_move:function(t){var e=this,i=this.temp;clearInterval(e.play),e.play=setInterval(function(){var s=(t-e.ulCon.offsetLeft)/6;
s=s>0?Math.ceil(s):Math.floor(s),e.ulCon.offsetLeft==t?(clearInterval(e.play),-1==e.currentPage&&e._firstToLast(),e.currentPage==i.totalPage&&e._lastToFirst()):e.ulCon.style.left=e.ulCon.offsetLeft+s+"px"},e.playSpeed)},_lastToFirst:function(){var t=this.temp;if(this.currentPage==t.totalPage){this.ulCon.style.left=0,this.currentPage=0;for(var e=0;e<this.perPage;e++)this.liItem[e].style.cssText=""}},_firstToLast:function(){var t=this.temp,e=this.liItem.length,i=t.totalPage;if(-1==this.currentPage){this.ulCon.style.left=-(this.liItem[0].offsetWidth*(e-this.perPage))+"px",this.currentPage=i-1;
for(var s=e;s>e-this.perPage;s--)this.liItem[s-1].style.cssText=""}},_initEvent:function(){var t=this,e=this.temp;o.on(e.preBtn,"click",function(){s.dom.hasClass(this,"disabled-prev-btn")||(t._clearAutoPlay(),t._firstToLast(),t.prePage())}),o.on(e.nextBtn,"click",function(){s.dom.hasClass(this,"disabled-next-btn")||(t._clearAutoPlay(),t._lastToFirst(),t.nextPage())}),o.on(this.ulCon,"mouseover",r.bind(t._clearAutoPlay,t)),o.on(this.ulCon,"mouseout",r.bind(t._autoPlay,t))}},{type:"carousel"}),h=function(t){var e=new l(t);
return e.fire("onload"),e};i.exports.carousel=l,i.exports.carouselCreate=h});
;define("wkcommon:widget/ui/js_core/category/category.js",function(t,e,i){var s=t("wkcommon:widget/lib/tangram/base/base.js"),a=t("wkcommon:widget/ui/js_core/widget/widget.js").widget,o=t("wkcommon:widget/ui/js_core/util/util.js"),n="http://static.wenku.bdimg.com/static/wkcommon/asets/categorySourceData.js",r="http://static.wenku.bdimg.com/static/wkcommon/asets/categorySourceData_lec.js",l=a({Options:{el:"",defaults:[],data:[],dataUrl:"http://static.wenku.bdimg.com/static/wkcommon/asets/categorySourceData.js",limitLevel:0,doctype:0,maxLevel:4,isDefaultSelect:!1},_init:function(){var t=this;
t._indexCatch=[],t._id="wkCategory-"+s.lang.guid(),t._className="ui-category",t._selected=s.array.map(t.options.defaults,function(t){return parseInt(t)}),t._selectedText=[],t._lis=[],t._rules=[],t._msg="",t._initRules(),t._selected.length=t.options.maxLevel,t._isDefaultSelect=t.options.isDefaultSelect,t.disabled=t.maxLevel>t.limitLevel?!1:!0;var e=t.options.dataUrl;"default"===e?t.options.dataUrl=n:"lec"===e&&(t.options.dataUrl=r),t.on("onload",function(){t.options.data&&t.options.data.length?t._action():s.sio.callByBrowser(t.options.dataUrl,function(){t.options.data=categorySourceData,t._action()
})})},_action:function(){var t=this.options.data;t.list.length&&(this._render(t.list),this._bind())},_render:function(){var t=this,e=this.options.el,i=this.options.maxLevel,a=this._selected,o=[];o.push('<div id="'+this._id+'" class="clearfix '+this._className+'"><ul>'),o.push(new Array(i+1).join('<li class="js-category-item" style="display:none;"></li>')),o.push("</ul></div>"),s.g(e).innerHTML=o.join(""),_lis=s.dom.q("js-category-item",e),this._lis=_lis,t._initItem(a),setTimeout(function(){t.fire("onRender")
},0)},_initItem:function(t){for(var e,i,s=this,a=!1,o=this.options.maxLevel,n=0;o>n&&(i=t[n],e=n+1,(i||0==n)&&(a=s._onSelectItem(e,i)),i&&a);n++);},_renderItem:function(t,e,i){var a=this,o=a._selected,n=a.options.limitLevel,r=!1,l=s.array.map(e,function(t){var e=t.list&&t.list.length?"":"last",a='<p class="#{args0} #{args1}" data-cid="#{args2}" data-level="#{args3}">#{args4}</p>',n="";return t.cid==o[i-1]&&(n="selected",r=!0),a=s.string.format(a,{args0:n,args1:e,args2:t.cid,args3:i,args4:t.name})
});if(s.g(t).innerHTML=l.join(""),e.length&&s.dom.setStyle(t,"display","block"),n>=i&&s.dom.addClass(t,"disabled"),!r)for(var d=0,c=a._selected.length;c>d;d++)d>=i-1&&(a._selected[d]=0);return r},_onSelectItem:function(t,e){var i=this,a=!1,o=i._lis,n=i._getDataByLevelAndCid(t,e),r=i.options.maxLevel,l=s.array.find(n,function(s,a){return i._indexCatch[t-1]=a,s.cid==e});i._selected[t-1]=+e,a=i._renderItem(o[t-1],n,t);for(var d=o.length-1;d>t-1;d--)s.dom.setStyle(o[d],"display","none"),s.dom.removeClass(o[d],"category-item-error");
return r>t&&l&&l.list&&l.list.length&&(a=i._renderItem(o[t],l.list,parseInt(t)+1)),a},_getDataByLevelAndCid:function(t){for(var e=this.options.data,i=this._indexCatch,s=0;t-1>s;s++)e.list&&(e=e.list[i[s]]);return e.list||[]},_bind:function(){var t=this;o.delegate(s.g(t._id),".js-category-item p","mouseover",function(){s.dom.addClass(this,"hover")}),o.delegate(s.g(t._id),".js-category-item p","mouseout",function(){s.dom.removeClass(this,"hover")}),o.delegate(s.g(t._id),".js-category-item p","click",function(){t._itemDomClickHandler(this,!0)
})},_itemDomClickHandler:function(t,e){var i=this,a=0,o=!1;if(!s.dom.hasClass(t.parentNode,"disabled")){_level=s.dom.getAttr(t,"data-level"),_cid=s.dom.getAttr(t,"data-cid"),a=i._selected.length,i._indexCatch.length=_level-1;for(var n=a-1;n>_level-1;n--)i._selected[n]=0;if(o=s.dom.hasClass(t,"last"),i._onSelectItem(_level,_cid),i._isDefaultSelect&&!o){var r=s.q("js-category-item",s.g(i._id))[_level];r&&r.firstChild?i._itemDomClickHandler(r.firstChild):i.fire("onChange",{cids:i.getCategory(),texts:i.getCategoryText(),isLast:o})
}else i.fire("onChange",{cids:i.getCategory(),texts:i.getCategoryText(),isLast:o&&e})}},_initRules:function(){var t=this;this.addRule(function(){var e=t.levelLimit(1,"\u4e13\u533a\u5206\u7c7b\u4e0d\u80fd\u4e3a\u7a7a,\u91cd\u65b0\u9009\u62e9!");return e}),this.addRule(function(){var e=t.levelLimit(2,"\u60a8\u4e0d\u80fd\u53ea\u9009\u62e9\u4e13\u533a!");return e}),this.addRule(function(e,i){return 126===parseInt(e[1])&&3!==parseInt(i)&&6!==parseInt(i)&&"ppt"!==String(i).toLowerCase()&&"pptx"!==String(i).toLowerCase()?(t.setMsg("PPT\u6a21\u677f\u76ee\u524d\u53ea\u652f\u6301PPT\u683c\u5f0f\u6587\u6863\u4e0a\u4f20\uff01\u8bf7\u91cd\u65b0\u9009\u62e9\u5206\u7c7b\uff01"),!0):void 0
})},getId:function(){return this._id},getCategory:function(){return this._selected.concat([])},getCategoryText:function(){for(var t=[],e=this.options.data,i=0,s=this._indexCatch.length;s>i;i++)e.list&&(e=e.list[this._indexCatch[i]],e&&t.push(e.name));return t},setCategory:function(t){this._selected=t,this._initItem(t)},getMsg:function(){return this._msg},setMsg:function(t){this._msg=t},setDocType:function(t){this.options.doctype=t},addRule:function(t){this._rules.push(t)},levelLimit:function(t,e){var i=t-1,a=this._lis[i];
return 0===this._selected[i]?(this._msg=e,a&&s.dom.addClass(a,"category-item-error"),!0):(this._msg="",a&&s.dom.removeClass(a,"category-item-error"),!1)},check:function(){var t=this,e=s.array.some(this._rules,function(e){var i=e(t._selected,t.options.doctype);return i||(t._msg=""),i});return!e},disable:function(){var t=this,e=s.q("js-category-item",s.g(t._id));s.each(e,function(t){s.dom.addClass(t,"disabled")}),t.disabled=!0},enable:function(){var t=this,e=s.q("js-category-item",s.g(t._id));s.each(e,function(e,i){return i<t.options.limitLevel?void s.dom.addClass(e,"disabled"):void s.dom.removeClass(e,"disabled")
}),t.disabled=!1}},{type:"category"}),d=function(t){var e=new l(t);return e.fire("onload"),e};i.exports.categoryCreate=d});
;define("wkcommon:widget/ui/js_core/click_show/click_show.js",function(t,i,e){var n=t("wkcommon:widget/lib/tangram/base/base.js"),s=t("wkcommon:widget/ui/js_core/widget/widget.js").widget,o=n.dom,c=n.event,l=n.fn,h=s({Options:{targetEl:"show-summary",contentEl:"show-tip",closeBtnClass:"close-btn",isNeedIframe:!1,excursion:{left:0,top:0},positionType:"lt"},_init:function(){this.canClose=!0,this._cache(),this.calculateXY(),this._initEvent()},_cache:function(){this.target=n.lang.isString(this.targetEl)?o.g(this.targetEl):this.targetEl,this.content=n.lang.isString(this.contentEl)?o.g(this.contentEl):this.contentEl,this.closeBtn=o.q(this.closeBtnClass,this.content)[0],o.setStyles(this.content,{display:"none",position:"absolute"}),this.tempOnBodyClickHandle=l.bind(this._onBodyClickHandle,this),this.tempOnWindowResizeHandle=l.bind(this.calculateXY,this)
},_createIfm:function(){var t=this;this.ifm=document.createElement("iframe"),o.setAttr(this.ifm,"frameborder",0),o.setStyles(this.ifm,{position:"absolute",width:t.content.offsetWidth,height:t.content.offsetHeight}),document.body.appendChild(this.ifm),this.calculateXY()},_initEvent:function(){var t=this;c.on(this.target,"click",function(i){c.stopPropagation(i),t.show()}),this.closeBtn&&c.on(this.closeBtn,"click",function(){t.canClose=!0,t.hide()}),c.on(this.content,"click",function(i){c.stopPropagation(i),t.canClose=!1
})},calculateXY:function(){var t=o.getPosition(this.target),i=t.left+this.excursion.left,e=t.top+this.excursion.top,s={left:i,top:e},c={left:i,bottom:n.page.getHeight()-t.top+this.excursion.top};"lb"===this.positionType?(o.setStyles(this.content,c),this.ifm&&o.setStyles(this.ifm,c)):(o.setStyles(this.content,s),this.ifm&&o.setStyles(this.ifm,s))},_onBodyClickHandle:function(t){var i=this,e=c.getTarget(t);o.contains(i.target,e)?i.canClose=!1:(i.canClose=!0,i.hide())},show:function(){var t=this.content.style;
"none"==t.display&&(t.display="block",!this.ifm&&this.isNeedIframe&&this._createIfm(),c.on(document.body,"click",this.tempOnBodyClickHandle),c.on(window,"resize",this.tempOnWindowResizeHandle),this.fire("afterShow"))},hide:function(){var t=this.content.style;"none"!=t.display&&(this.canClose&&(t.display="none",this.fire("afterClose")),this.ifm&&(o.remove(this.ifm),this.ifm=null),c.un(document.body,"click",this.tempOnBodyClickHandle),c.un(window,"resize",this.tempOnWindowResizeHandle))}});e.exports.clickShow=h
});
;define("wkcommon:widget/ui/js_core/countdown/countdown.js",function(t){var e=t("wkcommon:widget/ui/lib/jquery/jquery.js");!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(e)}(function(t){"use strict";function e(t){if(t instanceof Date)return t;if(String(t).match(a))return String(t).match(/^[0-9]*$/)&&(t=Number(t)),String(t).match(/\-/)&&(t=String(t).replace(/\-/g,"/")),new Date(t);throw new Error("Couldn't cast `"+t+"` to a date object.")}function s(t){return function(e){var s=e.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);
if(s)for(var i=0,o=s.length;o>i;++i){var a=s[i].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),h=new RegExp(a[0]),l=a[1]||"",c=a[3]||"",u=null;a=a[2],r.hasOwnProperty(a)&&(u=r[a],u=Number(t[u])),null!==u&&("!"===l&&(u=n(c,u)),""===l&&10>u&&(u="0"+u.toString()),e=e.replace(h,u.toString()))}return e=e.replace(/%%/,"%")}}function n(t,e){var s="s",n="";return t&&(t=t.replace(/(:|;|\s)/gi,"").split(/\,/),1===t.length?s=t[0]:(n=t[0],s=t[1])),1===Math.abs(e)?n:s}var i=100,o=[],a=[];a.push(/^[0-9]*$/.source),a.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a=new RegExp(a.join("|"));
var r={Y:"years",m:"months",w:"weeks",d:"days",D:"totalDays",H:"hours",M:"minutes",S:"seconds"},h=function(e,s,n){this.el=e,this.$el=t(e),this.interval=null,this.offset={},this.instanceNumber=o.length,o.push(this),this.$el.data("countdown-instance",this.instanceNumber),n&&(this.$el.on("update.countdown",n),this.$el.on("stoped.countdown",n),this.$el.on("finish.countdown",n)),this.setFinalDate(s),this.start()};t.extend(h.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);
var t=this;this.update(),this.interval=setInterval(function(){t.update.call(t)},i)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},pause:function(){this.stop.call(this)},resume:function(){this.start.call(this)},remove:function(){this.stop(),o[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(t){this.finalDate=e(t)},update:function(){return 0===this.$el.closest("html").length?void this.remove():(this.totalSecsLeft=this.finalDate.getTime()-(new Date).getTime(),this.totalSecsLeft=Math.ceil(this.totalSecsLeft/1e3),this.totalSecsLeft=this.totalSecsLeft<0?0:this.totalSecsLeft,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,totalDays:Math.floor(this.totalSecsLeft/60/60/24),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),months:Math.floor(this.totalSecsLeft/60/60/24/30),years:Math.floor(this.totalSecsLeft/60/60/24/365)},void(0===this.totalSecsLeft?(this.stop(),this.dispatchEvent("finish")):this.dispatchEvent("update")))
},dispatchEvent:function(e){var n=t.Event(e+".countdown");n.finalDate=this.finalDate,n.offset=t.extend({},this.offset),n.strftime=s(this.offset),this.$el.trigger(n)}}),t.fn.countdown=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){var s=t(this).data("countdown-instance");if(void 0!==s){var n=o[s],i=e[0];h.prototype.hasOwnProperty(i)?n[i].apply(n,e.slice(1)):null===String(i).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(n.setFinalDate.call(n,i),n.start()):t.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,i))
}else new h(this,e[0],e[1])})}})});
;define("wkcommon:widget/ui/js_core/dialog/dialog.js",function(i,t,o){var e=i("wkcommon:widget/lib/tangram/base/base.js"),n=i("wkcommon:widget/ui/js_core/widget/widget.js").widget,a=i("wkcommon:widget/ui/js_core/util/util.js"),s=n({Options:{el:""},btnSize:{small:20,middle:26,large:32},_init:function(){var i=this;a.mix(i,a.zIndexManger),i._initClassName="mod ui-dialog ",i.on("onload",function(){i._createDialog()})},_createDialog:function(){var i=null,t=this._dataTpl,o=document.body;(i=e.g("WkDialogWrap"))||(i=document.createElement("div"),i.id="WkDialogWrap",i.style.display="none",i.innerHTML=[t.mask,t.mod].join(""),o.insertBefore(i,o.firstChild)),this.el=i
},pop:function(i){this.option=i,this.option.type="pop",this.option.style="pop",this.option.hdHeight=80,this.show()},confirm:function(i){this.option=i,this.option.btnText=this.option.btnText||["\u786e\u5b9a","\u53d6\u6d88"],this.option.type="confirm",this.option.style="confirm",this.option.hdHeight=140,this.show(),e.dom.addClass(e.g("WkDialogOk"),"mv10")},alert:function(i){this.option=i,this.option.btnText=this.option.btnText||["\u786e\u5b9a"],this.option.type="alert",this.option.style="alert",this.option.hdHeight=140,this.show(),e.dom.removeClass(e.g("WkDialogOk"),"mv10")
},show:function(){e.lang.eventCenter.dispatchEvent("DialogShowBefore"),this.conType=this.option.url?"ifm":"dom",this._bindFire(),this._render(),this._bind(),this.bringToFront(this.el),this.el.style.display="block",e.lang.eventCenter.dispatchEvent("DialogShowAfter"),this.drawSize()},hide:function(){e.lang.eventCenter.dispatchEvent("DialogHideBefore"),this.sendToBack(this.el),this.onClosed(),this.el.style.display="none",e.lang.eventCenter.dispatchEvent("DialogHideAfter")},_bind:function(){var i=this,t={pop:["WkDialogClose"],confirm:["WkDialogClose","WkDialogOk","WkDialogCancel"],alert:["WkDialogClose","WkDialogOk"]},o={pop:["onClosed"],confirm:["onClosed","onOk","onCancel"],alert:["onClosed","onOk"]};
e.array.each(t[i.option.type],function(t,n){e.event.on(t,"click",function(t){e.event.stop(t),i[o[i.option.type][n]]()&&i.hide()})}),e.event.on(window,"resize",function(){i.drawSize()})},_bindFire:function(){var i=function(){return!0};this.onClosed=this.option.onClosed||i,this.onOk=this.option.onOk||i,this.onCancel=this.option.onCancel||i,this.onRendered=this.option.onRendered||i},_render:function(){var i=this,t={pop:[],confirm:["btnOk","btnCancel"],alert:["btnOk"]},o="",n=i.option.btnSize||"middle";
if(i.el.className=i._initClassName+(i.option.className||""),e.array.each(t[i.option.type],function(e,a){o+=i._dataTpl.buttons[t[i.option.type][a]].replace(t[i.option.type][a],i.option.btnText[a]).replace("{btnSize}",i.btnSize[n])}),e.g("WkDialog").className=i.el.className,e.g("WkDialogTit").innerHTML=i.option.title,e.g("WkDialogBtn").innerHTML=o,e.g("WkDialogCon").className="bd ph20 dlg-"+i.option.style,"dom"==this.conType)e.g("WkDialogCon").innerHTML=i.option.content;else{var a='<iframe id="WkDialogIfrm" name="WkDialogIfrm" width="100%" height="100%" src="" frameborder="0" scrolling="no" style="           position:relative;"></iframe>';
e.g("WkDialogCon").innerHTML=a,e.g("WkDialogIfrm").src=i.option.url}this.onRendered()},drawSize:function(){var i=this.option,t=e.page.getViewHeight(),o=e.page.getHeight(),n=e.page.getScrollTop(),a=e.g("WkDialog");this.el.style.height=t>o?t:o+"px",a.style.width=(i.width||380)+"px",a.style.height=i.height?i.height+"px":"auto",e.g("WkDialogCon").style.height=i.height?i.height-("pop"==i.type?80:140)+"px":"auto";var s=i.height?i.height:a.offsetHeight,l=n+(t-s)/2;a.style.top=l+"px"},_dataTpl:{mask:['<div id="mask" class="ui-mask js-mask">','<iframe frameborder="0" class="iframe"></iframe>',"</div>"].join(""),mod:['<div id="WkDialog" class="mod ui-dialog">','<iframe class="iframe" width="100%" height="100%" frameborder="0"></iframe>','<div class="inner">','<div id="WkDialogHd" class="hd mv20 pb10 pt20">','<span class="act">','<a id="WkDialogClose" href="###" hidefocus="true" class="ir close">&Chi;</a>',"</span>",'<h3 id="WkDialogTit"></h3>',"</div>",'<div id="WkDialogCon" class="bd"></div>','<div id="WkDialogBtn" class="ft pv20 pb20"></div>',"</div>","</div>"].join(""),buttons:{btnOk:['<a id="WkDialogOk" href="###" class="bt ui-btn ui-btn-{btnSize}-green mv10">','<b class="btc">','<b class="btText">btnOk</b>',"</b>","</a>"].join(""),btnCancel:['<a id="WkDialogCancel" href="###" class="bt ui-btn ui-btn-{btnSize}-light mv10">','<b class="btc">','<b class="btText">btnCancel</b>',"</b>","</a>"].join("")}}},{type:"dialog"}),l=function(i){var t=null;
return function(){return t||(t=new s(i),t.fire("onload")),t}}();o.exports.dialogCreate=l});
;define("wkcommon:widget/ui/js_core/mvp/template/template.js",function(e,n,t){var r=e("wkcommon:widget/lib/tangram/base/base.js"),o={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},a=/(.)^/,c={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},u=/\\|'|\r|\n|\t|\u2028|\u2029/g,i=function(e,n,t){var i;t=r.object.extend(r.object.clone(t||{}),o);var _=new RegExp([(t.escape||a).source,(t.interpolate||a).source,(t.evaluate||a).source].join("|")+"|$","g"),l=0,s="__p+='";
e.replace(_,function(n,t,r,o,a){return s+=e.slice(l,a).replace(u,function(e){return"\\"+c[e]}),t&&(s+="'+\n((__t=("+t+"))==null?'': encodeHTML(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),l=a+n.length,n}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(t.variable||"obj","encodeHTML",s)}catch(p){throw p.source=s,p}if(n)return i(n,r.string.encodeHTML);
var g=function(e){return i.call(this,e,r.string.encodeHTML)};return g.source="function("+(t.variable||"obj")+"){\n"+s+"}",g};t.exports.template=i});
;define("wkcommon:widget/ui/js_core/dialogCashier/model/model.js",function(e,i,t){var r=e("wkcommon:widget/ui/lib/jquery/jquery.js"),o=e("wktrade:widget/ui/mvp/event/event.js"),a=e("wkcommon:widget/ui/js_core/mvp/template/template.js"),n=function(){var e=function(){this.init.apply(this)};return e.prototype={name:"",URL:function(){var e=window.location.host;return"wenku.baidu.com"===e||"cq02-iknow-tips00.cq02.baidu.com:8099"===e||"t.wenku.baidu.com"===e||"yf-iknow-heter00.yf01.baidu.com:8083"===e?{walletUrl:"http://zhifu.baidu.com/static/js/pc/iframe/lbscashier-iframe.js",checkOrder:"http://wenku.baidu.com/cashier/interface/maketrade"}:{walletUrl:["http://cp01-testing-wallet2014-04.cp01.baidu.com:8480","/static/js/pc/iframe/lbscashier-iframe.js"].join(""),checkOrder:"http://"+window.location.host+"/cashier/interface/maketrade"}
}(),PD:{cashierCode:0,token:"",isFirst:!0,uid:0,uname:"",goodsId:0,goodsName:"",goodsType:0,discount:0,range:"",renewInfo:"",specialInfo:"",salePrice:0,actualPrice:0,savePrice:0,price:0,otherPrice:0,vouchersPrice:0,isVouchers:!1,isVoucherId:0,vouchers:[],isOtherPrice:!1,isAgreement:!0,initCashierUrl:"",goodsInfo:{}},cashierInitUrl:function(e){var i=this;return["orderCreateTime=",function(){var e=["uid="+i.PD.uid+"|","uname="+i.PD.uname+"|","goods_id="+i.PD.goodsId+"|","goods_name="+i.PD.goodsName+"|","goods_type="+i.PD.goodsType+"|","original_price="+i.PD.price+"|","token="+i.PD.token+"|","cashierCode="+i.PD.cashierCode+"|",i.PD.isVouchers?"voucher_id="+i.PD.isVoucherId+"|":"|",i.PD.tradeId?"trade_id="+i.PD.tradeId+"|":"|"].join("");
return e+"&"}(),"payAmount="+(e&&e.payAmount?e.payAmount:i.PD.actualPrice)].join("")},cashier:{obj:null,key:!1},M:new o,init:function(){},updateTpl:function(e,i){var t=e.find('[node-type="ajax-tpl"]').html();i.sale_price_txt=this.formatPrice(i.sale_price),i.price_txt=this.formatPrice(i.price),e.find('[node-type="ajax-html"]').html(a.template(t,i))},formatPrice:function(e,i){var i=i||(Number(e)%100===0?0:1);return(Number(e)/100).toFixed(i)}},e}(),c=function(e){var i=function(){};return i.prototype=r.extend(new n,e),new i
};t.exports.model=n,t.exports.create=c});
;define("wkcommon:widget/ui/js_core/dialogCashier/baifubao/baifubao.js",function(e,i,t){var n=e("wkcommon:widget/ui/js_core/dialogCashier/model/model.js"),s=(e("wkcommon:widget/ui/lib/jquery/jquery.js"),n.create({$el:null,E:{},init:function(e){this.$el=e.find(".cashier-baifubao-agreement").eq(0),this.initDomEvent(),this.addEventListener()},initDomEvent:function(){this.E.$agreementCheckbox=this.$el.find(".agreement-checkbox"),this.E.$mark=this.$el.find(".cashier-baifubao-mark"),this.E.$lbscashier=this.$el.find(".lbscashier")
},addEventListener:function(){var e=this;this.E.$agreementCheckbox.on("click",function(){e.checkIsAgreement()})},checkIsAgreement:function(){this.E.$agreementCheckbox.prop("checked")?(this.PD.isAgreement=!0,this.E.$mark.hide()):(this.PD.isAgreement=!1,this.E.$mark.show())}}));t.exports=s});
;define("wkcommon:widget/ui/js_core/dialogCashier/choiceMember/choiceMember.js",function(e,o,n){var i=e("wkcommon:widget/ui/lib/jquery/jquery.js"),t=e("wkcommon:widget/ui/js_core/dialogCashier/model/model.js"),r=t.create({$el:null,E:{},memberClassMap:{year:".member-option-year",halfyear:".member-option-halfyear",monthday:".member-option-monthday",month1Normal:".member-option-month1Normal",month1Noble:".member-option-month1Noble",month3:".member-option-month3",hour24:".member-option-hour24"},init:function(e){this.$el=e.find(".choice-member").eq(0),this.initDomEvent(),this.publishEvent(),this.addEventListener()
},initDomEvent:function(){this.E.$year=this.$el.find(".member-option-year"),this.E.$halfyear=this.$el.find(".member-option-halfyear"),this.E.$monthday=this.$el.find(".member-option-monthday"),this.E.$monthdayArrow=this.E.$monthday.find(".discount-arrow"),this.E.$memberMenu=this.E.$monthday.find(".member-goods-list"),this.E.$memberMenuOption=this.E.$memberMenu.find(".member-option"),this.E.$monthdayWrap=this.E.$monthday.find(".monthday-wrap"),this.E.borderChecked=this.E.$monthday.find(".border-checked")
},publishEvent:function(){var e=this;this.M.on("choice:changeMember",i.proxy(e.UEchangeMember,e)),this.M.on("choice:showMemberMenu",i.proxy(e.UEshowMemberMenu,e)),this.M.on("choice:hideMemberMenu",i.proxy(e.UEhideMemberMenu,e)),this.M.on("choice:selectMemberMenu",i.proxy(e.UEselectMemberMenu,e))},addEventListener:function(){var e=this;this.E.$year.on("click",function(){e.M.fire("choice:changeMember",{type:"year",container:"year"})}),this.E.$halfyear.on("click",function(){e.M.fire("choice:changeMember",{type:"halfyear",container:"halfyear"})
}),this.E.$monthdayWrap.on("click",function(){e.M.fire("choice:changeMember",{type:"monthday",container:"monthday"})}),this.E.$monthdayWrap.add(this.E.$monthdayArrow).add(this.E.borderChecked).on("mouseenter",function(){e.M.fire("choice:showMemberMenu")}),this.E.$memberMenuOption.each(function(o,n){i(n).on("click",function(){e.M.fire("choice:selectMemberMenu",{$obj:i(n)}).then(function(){e.M.fire("choice:hideMemberMenu")})})}),i(document).on("click",function(){e.M.fire("choice:hideMemberMenu")})},UEchangeMember:function(e){var o=this,n=o.$el.find(o.memberClassMap[e.type]),i=n.find("label").eq(0),t=i.data("goodsid"),r=this.PD.goodsInfo[t];
o.$el.find(o.memberClassMap[e.container]).siblings().removeClass("member-goods-cur").end().addClass("member-goods-cur"),o.PD.goodsId=t,o.PD.goodsName=r.goods_name,o.PD.goodsType=r.goods_type,o.PD.salePrice=r.sale_price,o.PD.price=r.price,o.PD.discount=r.discount,o.PD.range=r.len_of_time,o.PD.renewInfo=r.renew_info,o.PD.specialInfo=r.special_info,o.M.fire("vouchers:getVouchers",{goodsId:t,goodsType:r.goods_type}).then(function(){o.M.fire("price:checkprice").then(function(){o.M.fire("check:specialrenew"),o.M.fire("tips:changeTips")
}).then(function(){e&&"monthday"===e.type&&setTimeout(function(){o.M.fire("choice:hideMemberMenu")},100)})})},UEselectMemberMenu:function(e){var o=e.$obj,n=o.attr("type");o.siblings().removeClass("member-hide").end().addClass("member-hide"),"month3"===n&&this.E.$monthdayWrap.html(o.html()),this.E.$monthdayWrap.html(o.html()),this.M.fire("choice:changeMember",{type:n,container:"monthday"})},UEshowMemberMenu:function(){this.E.$memberMenu.show()},UEhideMemberMenu:function(){this.E.$memberMenu.hide()
}});n.exports=r});
;define("wkcommon:widget/ui/js_core/dialogCashier/special/special.js",function(e,i,n){var h=e("wkcommon:widget/ui/js_core/dialogCashier/model/model.js"),s=e("wkcommon:widget/ui/lib/jquery/jquery.js"),c=h.create({$el:null,E:{},init:function(e){this.$el=e.find(".cashier-special-renew").eq(0),this.initDomEvent(),this.publishEvent()},initDomEvent:function(){this.E.$cashierSpecial=this.$el.find(".cashier-special-item"),this.E.$cashierRenew=this.$el.find(".cashier-renew-item")},publishEvent:function(){var e=this;
this.M.on("special:changeSpecial",s.proxy(e.UIchangeSpecial,e)),this.M.on("renew:changeRenew",s.proxy(e.UIchangeRenew,e)),this.M.on("check:specialrenew",s.proxy(e.checkSpecialRenew,e))},UIchangeSpecial:function(){""!==this.PD.specialInfo?(this.$el.show(),this.E.$cashierSpecial.show(),this.E.$cashierSpecial.html(this.PD.specialInfo)):(this.E.$cashierSpecial.hide(),this.E.$cashierSpecial.html(""))},UIchangeRenew:function(){""!==this.PD.renewInfo?(this.$el.show(),this.E.$cashierRenew.show(),this.E.$cashierRenew.find(".cashier-renew-content").html(this.PD.renewInfo)):(this.E.$cashierRenew.hide(),this.E.$cashierRenew.find(".cashier-renew-content").html(""))
},checkSpecialRenew:function(){this.M.fire("renew:changeRenew"),this.M.fire("special:changeSpecial"),""===this.PD.specialInfo&&""===this.PD.renewInfo&&this.$el.hide()}});n.exports=c});
;define("wkcommon:widget/ui/js_core/dialogCashier/salePrice/salePrice.js",function(i,e,c){var t=i("wkcommon:widget/ui/lib/jquery/jquery.js"),s=i("wkcommon:widget/ui/js_core/dialogCashier/model/model.js"),r=s.create({$el:null,E:{},init:function(i){this.$el=i.find(".cashier-sale-price").eq(0),this.initDomEvent(),this.publishEvent()},initDomEvent:function(){this.E.$actualPrice=this.$el.find(".actual-price"),this.E.$actualPriceDesc=this.$el.find(".actual-price-desc")},publishEvent:function(){var i=this;
this.M.on("price:checkprice",t.proxy(i.checkSalePrice,i))},checkSalePrice:function(){var i=this,e="\u5143",c=this.PD.salePrice;if(this.cashier.key){this.cashier.key=!1,c-=this.PD.isVouchers===!0?this.PD.vouchersPrice:0,c-=this.PD.isOtherPrice===!0?this.PD.otherPrice:0,this.PD.actualPrice=c,this.E.$actualPrice.html(i.formatPrice(i.PD.actualPrice,1)),this.PD.savePrice=this.PD.price-this.PD.actualPrice,0!==this.PD.savePrice&&(e="\u5143\uff08\u8282\u7701"+i.formatPrice(this.PD.savePrice)+"\u5143\uff09"),this.E.$actualPriceDesc.html(e);
var t=this.cashierInitUrl();this.cashier.obj.updateOrder(t)}}});c.exports=r});
;define("wkcommon:widget/ui/js_core/dialogCashier/userInfo/userInfo.js",function(e,i,o){var n=e("wkcommon:widget/ui/js_core/dialogCashier/model/model.js"),s=(e("wkcommon:widget/ui/lib/jquery/jquery.js"),n.create({$el:null,E:{},init:function(e,i){this.$el=e.find(".cashier-user-info").eq(0),this.$el.find(".cashier-tb").html(i.usname)}}));o.exports=s});
;define("wkcommon:widget/ui/js_core/dialogCashier/rightside/rightside.js",function(e,i,t){var n=e("wkcommon:widget/ui/lib/jquery/jquery.js"),o=e("wkcommon:widget/ui/js_core/dialogCashier/model/model.js"),s=e("wkcommon:widget/ui/js_core/mvp/template/template.js"),a=o.create({$el:null,E:{},dataPrivileged:{p1:"1\u4e2a\u6708x25\u6b21/\u6708",p8:"3\u4e2a\u6708x10\u6b21/\u6708",p3:"6\u4e2a\u6708x10\u6b21/\u6708",p9:"12\u4e2a\u6708x10\u6b21/\u6708",p6:"1\u4e2a\u6708x10\u6b21/\u6708",p10:"100\u6b21 \u6709\u6548\u671f24\u5c0f\u65f6"},init:function(e){this.$el=e.find(".cashier-aside-wrap").eq(0),this.publishEvent()
},publishEvent:function(){var e=this;this.M.on("tips:changeTips",n.proxy(e.UIchangeTips,e))},UIchangeTips:function(){var e=this,i=e.PD.goodsId,t={content:e.dataPrivileged["p"+i]},n=e.$el.find('[node-type="ajax-tpl"]').html();e.$el.find('[node-type="ajax-html"]').html(s.template(n,t))}});t.exports=a});
;define("wkcommon:widget/ui/js_core/dialogCashier/vouchers/vouchers.js",function(e,c,i){var h=e("wkcommon:widget/ui/js_core/dialogCashier/model/model.js"),s=e("wkcommon:widget/ui/lib/jquery/jquery.js"),t=h.create({$el:null,E:{},selectedVoucher:null,init:function(e){this.$el=e.find(".cashier-vouchers").eq(0),this.publishEvent(),this.initDomEvent(),this.addEventListener()},publishEvent:function(){var e=this;this.M.on("vouchers:getVouchers",s.proxy(e.getVouchers,e))},initDomEvent:function(){this.E.$vouchersName=this.$el.find(".vouchers-name"),this.E.$vouchersBar=this.$el.find(".vouchers-bar"),this.E.$vouchersMenu=this.$el.find(".vouchers-list-wrap"),this.E.$checkBtn=this.$el.find(".check-btn")
},addEventListener:function(){var e=this;this.E.$vouchersBar.add(this.E.$vouchersName).on("click",function(c){c.stopPropagation(),e.E.$vouchersMenu.show()}),this.E.$checkBtn.click(function(){e.checkVoucherPrice()}),this.E.$vouchersMenu.on("click",".item",function(){var c=s(this).data("index"),i=e.PD.vouchers;e.selectedVoucher=i[c],e.PD.isVouchers=!0,e.setVoucher(e.PD.isVouchers)}),s(document).on("click",function(){e.E.$vouchersMenu.hide()})},setVoucher:function(e){var c=[this.formatPrice(this.selectedVoucher.voucher_price,0)+"\u5143",this.selectedVoucher.voucher_name,"\uff08\u6709\u6548\u671f\u81f3"+this.selectedVoucher.valid_time+"\uff09"].join("");
this.E.$vouchersName.html(c),e&&(this.E.$checkBtn.prop("checked",!0),this.checkVoucherPrice())},checkVoucherPrice:function(){this.E.$checkBtn.prop("checked")?(this.PD.vouchersPrice=this.selectedVoucher.voucher_price,this.PD.isVouchers=!0,this.PD.isVoucherId=this.selectedVoucher.voucher_id):(this.PD.vouchersPrice=0,this.PD.isVouchers=!1),!this.PD.isFirst&&this.M.fire("price:checkprice")},resetVoucher:function(){this.E.$checkBtn.prop("checked",!1),this.PD.isVouchers=!1,this.PD.vouchersPrice=0},getVouchers:function(e){var c=this,i=["/cashier/interface/getvoucher?goods_id=",e.goodsId,"&goods_type=",e.goodsType,e.tradeId?"&trade_id="+e.tradeId:""].join("");
this.resetVoucher(),s.ajax({url:i,type:"get",async:!1,cache:!1}).done(function(e){var i=[],h=0;if(e&&0===e.status.code&&e.data.voucher_info&&e.data.voucher_info.length>0){var s=e.data.voucher_info;c.PD.vouchers=s,c.selectedVoucher=s[0];for(var t=s.length;t>h;h++){var o=c.formatPrice(s[h].voucher_price,0)+"\u5143";o+=s[h].voucher_name,o+="\uff08\u6709\u6548\u671f\u81f3"+s[h].valid_time+"\uff09",i.push('<li class="item" data-index="'+h+'">'),i.push('<a href="javascript:;" title="'+o+'">'),i.push(o),i.push("</a>"),i.push("</li>"),1===+s[h].is_selected&&(c.selectedVoucher=s[h],c.PD.isVouchers=!0)
}c.$el.find(".vouchers-list-layout ul").html(i.join("")),c.setVoucher(c.PD.isVouchers),c.$el.show()}else c.$el.hide()})}});i.exports=t});
;define("wkcommon:widget/ui/js_core/login/login.js",function(require,exports,module){var baidu=require("wkcommon:widget/lib/tangram/base/base.js"),T=baidu,D=require("wkcommon:widget/ui/js_core/dialog/dialog.js"),Data=require("wkcommon:widget/lib/fis/data/data.js"),log=require("wkcommon:widget/ui/js_core/log/log.js"),dialog=function(){var o=null;return function(){return o||(o=D.dialogCreate()),o}}(),SHOW_FILTEL=["\u60a8\u7684\u8d26\u53f7\u56e0\u4e3a\u4e0a\u4f20\u4e86\u542b\u5e7f\u544a\u6027\u8d28\u7684\u6587\u6863\u800c\u88ab\u5c01\u7981\uff0c\u6682\u65f6\u4e0d\u80fd\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c","\u60a8\u7684\u8d26\u53f7\u56e0\u4e3a\u4e0a\u4f20\u4e86\u5927\u91cf\u4f4e\u8d28\u91cf\u7684\u6587\u6863\u800c\u88ab\u5c01\u7981\uff0c\u6682\u65f6\u4e0d\u80fd\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c","\u60a8\u7684\u8d26\u53f7\u56e0\u4e3a\u6d89\u5acc\u5237\u5206\u4f5c\u5f0a\u800c\u88ab\u5c01\u7981\uff0c\u6682\u65f6\u4e0d\u80fd\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c","\u60a8\u7684\u8d26\u53f7\u56e0\u4e3a\u4e0a\u4f20\u4e86\u5305\u542b\u8272\u60c5\u3001\u53cd\u52a8\u7b49\u4e0d\u5065\u5eb7\u5185\u5bb9\u7684\u6587\u6863\u800c\u88ab\u5c01\u7981\uff0c\u6682\u65f6\u4e0d\u80fd\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c","\u60a8\u7684\u8d26\u53f7\u56e0\u4e3a\u4e0a\u4f20\u4e86\u5305\u542b\u8fdd\u89c4\u5185\u5bb9\u7684\u6587\u6863\u800c\u88ab\u5c01\u7981\uff0c\u6682\u65f6\u4e0d\u80fd\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c","\u60a8\u7684\u5e10\u53f7\u56e0\u4e3a\u6076\u610f\u4e3e\u62a5\u800c\u88ab\u5c01\u7981\uff0c\u6682\u65f6\u4e0d\u80fd\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c"],getLoginInterfaceUrl=function(){return"/user/interface/login?t="+(new Date).getTime()
},login={hide:function(o){parent.pop?(parent.pop.hide(),o&&parent.location.reload(!0)):history.go(-1)},onLoginSuccess:function(){window.location.reload(!0)},onLoginFailed:function(){window.location="http://passport.baidu.com/v2/?login&tpl=do&u="+escape("http://wenku.baidu.com/")},defalutLoginSuccess:function(){window.location.reload(!0)},verlogin:function(hasLogin,notLogin,patchment,extObj,async){function onOk(req,hasLogin){var res=eval("("+req.responseText+")");if("1"==res.isLogin){if("1"!=res.isLock)return WkInfo.UserInfo&&WkInfo.UserInfo.isLimit?void login.notifyToVerificationMail():(hasLogin&&hasLogin(),!0);
var isNA=0==res.lockDay?"":"\uff0c\u5c01\u7981\u5929\u6570"+res.lockDay+"\u5929\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u89e3\u5c01",lockReasonIndex=parseInt(res.lockReason)-1,msg=SHOW_FILTEL[lockReasonIndex]||SHOW_FILTEL[4];dialog().alert({title:"\u63d0\u793a",content:"<p style='padding:0 20px;'>"+msg+isNA+"\u3002</p>",width:440,height:200})}else hasLogin&&extObj.actionName?baidu.cookie.set("BAIDU_DOC_NACT",extObj.actionName):hasLogin&&hasLogin.toString().indexOf("location.href")>0,notLogin?notLogin():login.log(hasLogin,patchment,extObj);
return!1}var extObj=extObj||{},WkInfo=Data.get("WkInfo")||{};async=void 0===async?!0:async,baidu.ajax.request(getLoginInterfaceUrl(),{async:async,onsuccess:function(o){onOk(o,hasLogin)}})},check:function(hasLogin,notLogin,patchment,extObj){function onOk(req,hasLogin,notLogin){var res=eval("("+req.responseText+")");return"1"==res.isLogin?WkInfo.UserInfo&&WkInfo.UserInfo.isLimit?void login.notifyToVerificationMail():WkInfo.UserInfo&&WkInfo.UserInfo.isNoUsername?void login.notifyToFillinUsername():(hasLogin&&hasLogin(),!0):(notLogin?notLogin():login.log(hasLogin,patchment),!1)
}var extObj=extObj||{},WkInfo=Data.get("WkInfo")||{};baidu.ajax.get(getLoginInterfaceUrl(),function(o){onOk(o,hasLogin,notLogin)})},checksynch:function(hasLogin,notLogin,patchment){function onOk(req,hasLogin,notLogin){var res=eval("("+req.responseText+")");if("1"==res.isLogin){if("1"===res.isLock){var isNA=0==res.lockDay?"":"\uff0c\u5c01\u7981\u5929\u6570"+res.lockDay+"\u5929\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u89e3\u5c01",lockReasonIndex=parseInt(res.lockReason)-1,msg=SHOW_FILTEL[lockReasonIndex]||SHOW_FILTEL[4];
return dialog().pop({title:"\u63d0\u793a",content:"<p>"+msg+isNA+"\u3002</p><br><input type='button' class='pop_btn_short' onclick='pop.hide()' value='\u786e \u5b9a'>",width:440,height:300}),!1}return hasLogin&&hasLogin(),!0}return notLogin?notLogin():login.log(hasLogin,patchment),!1}baidu.ajax.request(getLoginInterfaceUrl(),{onsuccess:function(o){onOk(o,hasLogin,notLogin)},method:"get",async:!1})},log:function(o,n,i){function e(){WkLogin.from=baidu.object.isEmpty(i)?"":i;var o=baidu.dom.query("#passport-login-pop-api form")[0];
if(o)var n=o.u;n&&(i&&i.fromMod?login.addSuccessLog(i.fromMod,n):n.value=encodeURI(location.href).replace(/#+$/g,""))}login.onLoginSuccess=o?login.onSucc:login.defalutLoginSuccess,window.WkLogin?(WkLogin.show(),e()):T.sio.callByBrowser("http://passport.bdimg.com/passApi/js/uni_login_wrapper.js?cdnversion="+~new Date,function(){window.WkLogin=passport.pop.init({tangram:!0,apiOpt:{product:"do",staticPage:"http://"+location.host+"/static/common/html/v3Jump.html",u:T.string.encodeHTML(location.href).replace(/&amp;/g,"&").replace(/#+$/g,"")},cache:!0,authsite:["tsina","qzone","renren"],authsiteCfg:{target:"pass-phoenix-list",tpl:"do",u:T.string.encodeHTML(location.href).replace(/&amp;/g,"&").replace(/#+$/g,""),display:"popup",act:"implicit"},registerLink:"https://passport.baidu.com/v2/?reg&tpl=do&u="+encodeURIComponent(location.href),img:"http://static.wenku.bdimg.com/static/wkcommon/widget/ui/js_core/login/images/login_logo_8fdab0a.jpg",onLoginSuccess:function(o){o.returnValue=!1,T.lang.eventCenter.dispatchEvent("Login.Success",{WkLogin:WkLogin})&&(location.href=o.rsp.data.u)
},onShow:function(){T.lang.eventCenter.dispatchEvent("Login.Show",{WkLogin:WkLogin}),console.log("passport v3 onshow")},onHide:function(){T.lang.eventCenter.dispatchEvent("Login.Hide",{WkLogin:WkLogin}),WkLogin.from="",console.log("passport v3 onHide")}}),WkLogin.show(),e()})},regiest:function(){},notifyToVerificationMail:function(o){o=o||"http://"+location.host+location.pathname;var n=['<div class="phv20">\u60a8\u7684email\u5c1a\u672a\u9a8c\u8bc1\uff0c\u9a8c\u8bc1\u6210\u529f\u540e\u5237\u65b0\u9875\u9762\u5373\u53ef\u7ee7\u7eed\u64cd\u4f5c\u3002','<a href="https://passport.baidu.com/v2/?accountbindemail&tpl=do&u='+encodeURIComponent(o)+'" target="_blank" onclick="location.reload(true)" style="color:#E87301">\u70b9\u51fb\u7acb\u5373\u9a8c\u8bc1</a></div>'].join("");
dialog().pop({title:"\u63d0\u793a",content:n,width:520,height:160})},notifyToFillinUsername:function(o){var o=o||"default";log.send("general","showFillinUsername",{action:o});var n="?t="+(new Date).getTime()+"&action="+o;dialog().pop({title:"\u4eb2\u7231\u7684\u6587\u53cb\uff0c\u8d77\u4e2a\u54cd\u4eae\u7684\u540d\u5b57\u5427\uff0c\u5b83\u5c06\u4f34\u7740\u4f60\u7684\u8d21\u732e\u5c55\u793a\u7ed9\u5927\u5bb6\uff01",url:"/static/common/html/user_fillinUsername.html"+n,width:560,height:320})},addSuccessLog:function(o,n){var i=encodeURI(location.href).replace(/#.*$/g,""),e=location.pathname,t={home:/^\/$/i,search:/^\/search/i,view:/^\/view\//i,zone:/^\/(edu|ppt|pro|form)\/index$/i};
for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];if(s.test(e)){var r="from_page="+a;i=login.getConUrl(i,r)}}var c="from_mod="+o;i=login.getConUrl(i,c),n.value=i},getConUrl:function(o,n){var i=-1==o.indexOf("?")?"?":"&";return o+i+n}};module.exports.login=login});
;define("wkcommon:widget/ui/js_core/dialogCashier/dialogCashier.js",function(i,e,s){var n=i("wkcommon:widget/ui/lib/jquery/jquery.js"),a=i("wkcommon:widget/ui/js_core/dialogCashier/model/model.js"),t=i("wkcommon:widget/ui/js_core/dialogCashier/choiceMember/choiceMember.js"),o=i("wkcommon:widget/ui/js_core/dialogCashier/special/special.js"),c=i("wkcommon:widget/ui/js_core/dialogCashier/salePrice/salePrice.js"),l=i("wkcommon:widget/ui/js_core/dialogCashier/baifubao/baifubao.js"),d=i("wkcommon:widget/ui/js_core/dialogCashier/userInfo/userInfo.js"),r=i("wkcommon:widget/ui/js_core/dialogCashier/rightside/rightside.js"),p=i("wkcommon:widget/ui/js_core/dialogCashier/vouchers/vouchers.js"),h=i("wkcommon:widget/lib/fis/data/data.js"),u=i("wkcommon:widget/ui/js_core/login/login.js").login,m=i("wkcommon:widget/ui/js_core/_dialog/_dialog.js"),v=h.get("WkInfo"),b="",f={},g=function(){var i=null;
return function(e){return i?i.reInit(e):(i=f,i.init(e)),i}}(),y={tpl:'<div class="dialog-cashier-outdialog">\n    <div class="dialog-cashier-outdialog-ret">\n        <span class="dialog-cashier-outdialog-ico"></span>\n        <div class="outdialog-hd">\n            <a class="btn-close btn-diaolog-cashier-close" href="javascript:;"></a>\n            <h6 class="outdialog-title">\u5f00\u901a\u7ecf\u5178VIP</h6>\n        </div>\n        <div class="outdialog-bd sucess">\n            <p class="tips-bg">\n                \u652f\u4ed8\u6210\u529f\uff01\u6b22\u8fce\u52a0\u5165\u767e\u5ea6\u6587\u5e93VIP\n            </p>\n            <span class="usname">\u5f53\u524d\u8d26\u53f7\uff1a</span>\n            <span class="autoclose"><i>3</i>\u79d2\u540e\u81ea\u52a8\u5173\u95ed</span>\n            <a href="javascript:;" class="ui-bz-btn-normal btn-diaolog-cashier-close">\n                <b class="ui-bz-btn-p-16 ui-bz-btc">\u5173\u95ed</b>\n            </a>\n        </div>\n    </div>\n</div>',errorTpl:'<div class="dialog-cashier-outdialog">\n    <div class="dialog-cashier-outdialog-ret">\n        <span class="dialog-cashier-outdialog-ico"></span>\n        <div class="outdialog-hd">\n            <a class="btn-close btn-diaolog-cashier-close" href="javascript:;"></a>\n            <h6 class="outdialog-title">\u5f00\u901a\u7ecf\u5178VIP</h6>\n        </div>\n        <div class="outdialog-bd error">\n            <p class="tips-bg">\n                \u652f\u4ed8\u5931\u8d25\n            </p>\n            <span class="usname">\u5f53\u524d\u8d26\u53f7\uff1a</span>\n            <span class="autoclose">\u5f88\u62b1\u6b49\uff0c\u7cfb\u7edf\u68c0\u6d4b\u5230\u60a8\u7684\u652f\u4ed8\u672a\u6210\u529f\uff0c\u8bf7\u91cd\u65b0\u652f\u4ed8\uff01</span>\n            <a href="javascript:;" class="ui-bz-btn btn-diaolog-cashier-repay" dom-hook="btn-repay">\n                <b class="ui-bz-btn-p-16 ui-bz-btc">\u91cd\u65b0\u652f\u4ed8</b>\n            </a>\n            <a href="javascript:;" class="ui-bz-btn-normal btn-diaolog-cashier-close">\n                <b class="ui-bz-btn-p-16 ui-bz-btc">\u5173\u95ed</b>\n            </a>\n        </div>\n    </div>\n</div>',close:function(i){this.dialog.hide(),this.$el.off(),i&&i(this)
},addEventListener:function(){var i=this;this.$el.on("click",".btn-diaolog-cashier-close",function(){i.close(function(){window.location.reload(!0)})}),this.$el.on("click",".btn-diaolog-cashier-repay",function(){i.close(),g()})},createDialog:function(i){var e=m.customDialog,s=new e({width:482,height:300,mask:{opacity:.8}}),a=i===!0?this.tpl:this.errorTpl;this.$el=n(s.el),this.dialog=s,this.$el.find(".dialog-content").html(a),this.$el.find(".usname").html("\u5f53\u524d\u8d26\u53f7\uff1a"+b),this.addEventListener(),i===!0&&this.countDown()
},time:3,countDown:function(){var i=this,e=function(){setTimeout(function(){i.time--,i.time>=0?(i.$el.find(".autoclose i").html(i.time),e()):(i.time=3,i.close(function(){window.location.reload(!0)}))},1e3)};e()}},k={tpl:{innerMask:'<div class="inner-mask"><iframe src="" frameborder="0"></iframe></div>',innerDialog:'<div class="inner-dialog">\n    <p>\n        \u8bf7\u5728\u65b0\u6253\u5f00\u7684\u9875\u9762\u4e0a\u5b8c\u6210\u652f\u4ed8\n    </p>\n    <div class="btns">\n        <a href="javascript:;" class="ui-bz-btn btn-success" dom-hook="btn-success">\n            <b class="ui-bz-btn-p-16 ui-bz-btc">\u652f\u4ed8\u6210\u529f</b>\n        </a>\n        <a href="javascript:;" class="ui-bz-btn-normal btn-fail" dom-hook="btn-fail">\n            <b class="ui-bz-btn-p-16 ui-bz-btc">\u5931\u8d25\uff0c\u91cd\u65b0\u652f\u4ed8</b>\n        </a>\n    </div>\n</div>'},init:function(i){this.callback=i,this.initDom(),this.addEventListener()
},initDom:function(){this.$el=n(this.tpl.innerDialog),this.$mask=n(this.tpl.innerMask)},addEventListener:function(){var i=this;this.$el.on("click",'[dom-hook="btn-success"]',n.proxy(i.checkvip,i)),this.$el.on("click",'[dom-hook="btn-fail"]',function(){i.hide()})},checkvip:function(){var i=this;n.ajax({url:"/cashier/interface/isvip",type:"get",cache:"false"}).done(function(e){e&&0===+e.status.code&&i.callback&&i.callback(e.data)})},show:function(){this.$el.show(),this.$mask.show()},hide:function(){this.$el.hide(),this.$mask.hide()
}};f=a.create({$el:null,$mask:null,tpl:{hd:'<div class="dialog-hd">\n    <a class="dialog-hd-close" href="javascript:;" dom-hook="close"></a>\n    <h4 class="dialog-hd-title">\u5f00\u901a\u7ecf\u5178VIP</h4>\n</div>',mask:'<div id="dialogCashierMask" class="dialog-cashier-mask">\n    <iframe src=""></iframe>\n</div>',userInfo:'<div class="cashier-user-info">\n    <div class="cashier-layout clearfix">\n        <div class="cashier-th">\u5f53\u524d\u5e10\u53f7\uff1a</div>\n        <div class="cashier-tb"></div>\n    </div>\n</div>',choiceMember:'<div class="choice-member">\n    <div class="cashier-layout clearfix">\n        <div class="cashier-th">\u5f00\u901a\u65f6\u957f\uff1a</div>\n        <div class="cashier-tb clearfix member-goods-wrap">\n\n            <!-- 12\u4e2a\u6708 -->\n            <div class="member-goods-item member-option-year">\n                <span class="ico-checked"></span>\n                <span class="border-checked"></span>\n                <span class="ico-tj"></span>\n                <div node-type="ajax-html"></div>\n                <script type="text/template" node-type="ajax-tpl">\n                    <label for="<%=goods_name%>"\n                           data-goodsid="<%=goods_id%>">\n                        <div class="discount"><span><i><%=discount%></i>\u6298</span></div>\n                        <div class="discount-content">\n                            <p>\n                                <b class="discount-price"><%=sale_price_txt%></b>\u5143/<b class="discount-num"><%=len_of_time%></b>\n                                <span class="discount-tips">\n                                    \u539f\u4ef7<del><%=price_txt%></del>\u5143\n                                </span>\n                            </p>\n                        </div>\n                    </label>\n                </script>\n            </div>\n            <!-- 6\u4e2a\u6708 -->\n            <div class="member-goods-item member-option-halfyear">\n                <span class="ico-checked"></span>\n                <span class="border-checked"></span>\n                <div node-type="ajax-html"></div>\n                <script type="text/template" node-type="ajax-tpl">\n                    <label for="<%=goods_name%>"\n                           data-goodsid="<%=goods_id%>">\n                        <div class="discount"><span><i><%=discount%></i>\u6298</span></div>\n                        <div class="discount-content">\n                            <p>\n                                <b class="discount-price"><%=sale_price_txt%></b>\u5143/<b class="discount-num"><%=len_of_time%></b>\n                                <span class="discount-tips">\n                                    \u539f\u4ef7<del><%=price_txt%></del>\u5143\n                                </span>\n                            </p>\n                        </div>\n                    </label>\n                </script>\n            </div>\n\n            <!-- 1\u4e2a\u6708\u5c0a\u4eab&&\u666e\u901a  24\u5c0f\u65f6 3\u4e2a\u6708 -->\n            <div class="member-goods-item member-option-monthday">\n                <span class="ico-checked"></span>\n                <span class="border-checked"></span>\n                <div class="iconfont discount-arrow">&#xe629;</div>\n                <div class="monthday-wrap">\n                    <div node-type="ajax-html"></div>\n                    <script type="text/template" node-type="ajax-tpl">\n                        <label for="<%=goods_name%>"\n                               data-goodsid="<%=goods_id%>">\n                            <div class="discount-options-content discount-type2">\n                                <p class="options-content">\n                                    <%=len_of_time%>\u5c0a\u4eab\u7248  <%=sale_price_txt%>\u5143\n                                </p>\n                            </div>\n                        </label>\n                    </script>\n                </div>\n                <div class="member-goods-list">\n                    <ul>\n                        <li class="member-list-item member-option member-option-month1Noble member-hide" type="month1Noble">\n                            <div node-type="ajax-html"></div>\n                            <script type="text/template" node-type="ajax-tpl">\n                                <label for="<%=goods_name%>"\n                                       data-goodsid="<%=goods_id%>">\n                                    <div class="discount-options-content discount-type2">\n                                        <p class="options-content">\n                                            <%=len_of_time%>\u5c0a\u4eab\u7248  <%=sale_price_txt%>\u5143\n                                        </p>\n                                    </div>\n                                </label>\n                            </script>\n                        </li>\n                        <li class="member-list-item member-option member-option-month3" type="month3">\n                            <div node-type="ajax-html"></div>\n                            <script type="text/template" node-type="ajax-tpl">\n                                <label for="<%=goods_name%>"\n                                       data-goodsid="<%=goods_id%>">\n                                    <div class="discount-options-content discount-type4">\n                                        <p class="options-content">\n                                            <%=len_of_time%>  <%=sale_price_txt%>\u5143  <span><%=discount%>\u6298</span>\n                                        </p>\n                                    </div>\n                                    <div class="discount-type4-cur">\n                                        <div class="discount"><span><i><%=discount%></i>\u6298</span></div>\n                                        <div class="discount-content">\n                                            <p>\n                                                <b class="discount-price"><%=sale_price_txt%></b>\u5143/<b class="discount-num"><%=len_of_time%></b>\n                                            <span class="discount-tips">\n                                                \u539f\u4ef7<del><%=price_txt%></del>\u5143\n                                            </span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </label>\n                            </script>\n                        </li>\n                        <li class="member-list-item member-option member-option-hour24" type="hour24">\n                            <div node-type="ajax-html"></div>\n                            <script type="text/template" node-type="ajax-tpl">\n                                <% if (is_show == 1) { %>\n                                <label for="<%=goods_name%>"\n                                       data-goodsid="<%=goods_id%>">\n                                    <div class="discount-options-content discount-type5">\n                                        <p class="options-content">\n                                            <%=len_of_time%>\u8d85\u503c\u7248  <%=sale_price_txt%>\u5143<span class="ico"></span>\n                                        </p>\n                                    </div>\n                                </label>\n                                <% } %>\n                            </script>\n                        </li>\n                    </ul>\n                    <iframe src="" frameborder="0"></iframe>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="cashier-layout clearfix choice-member-bottom-tips">\n        <div class="cashier-tb">\n            *\u63a8\u8350\u8d2d\u4e70\uff0c\u4f4e\u81f33\u6bdb\u94b1/\u5929\n        </div>\n    </div>\n</div>',special:'<div class="cashier-special-renew" style="display: none">\n    <div class="cashier-layout clearfix">\n        <div class="cashier-th">\u4f18\u60e0\u4fe1\u606f\uff1a</div>\n        <div class="cashier-tb">\n            <div class="cashier-special-item" style="display: none"></div>\n            <div class="cashier-renew-item" style="display: none">\n                <span class="ico-free"></span>\n                <span class="cashier-renew-content">\u7eed\u8d391\u4e2a\u6708VIP,\u989d\u5916\u8d60\u9001<em>\uff15\u6b21</em>\u4e0b\u8f7d\u7279\u6743\uff08\u7acb\u5373\u53ef\u7528\uff09</span>\n            </div>\n        </div>\n    </div>\n</div>',salePrice:'<div class="cashier-sale-price" style="display: none">\n    <div class="cashier-layout clearfix">\n        <div class="cashier-th">\u5e94\u4ed8\u91d1\u989d\uff1a</div>\n        <div class="cashier-tb">\n            <span class="actual-price"></span>\n            <span class="actual-price-desc"></span>\n        </div>\n    </div>\n</div>',baifubao:'<div class="cashier-baifubao-agreement">\n    <div class="cashier-baifubao">\n        <div class="cashier-baifubao-mark">\n            <iframe src="" frameborder="0"></iframe>\n        </div>\n        <div id="lbscashier" class="lbscashier"></div>\n    </div>\n    <!-- \u767e\u5ea6\u534f\u8bae \u6682\u65f6\u4e0d\u663e\u793a -->\n    <!--\n    <div class="baidu-agreement" style="display:none">\n        <input type="checkbox" checked="checked" class="agreement-checkbox"/>\u540c\u610f\u767e\u5ea6\u534f\u8bae\n    </div>\n    -->\n</div>',sidebar:'<div class="cashier-side-bar">\n    <div class="cashier-layout clearfix">\n        <div class="cashier-th">\u4f1a\u5458\u7279\u6743\uff1a</div>\n        <div class="cashier-tb">\n            <div class="tips-item" dom-hook="tips" node-type="ajax-html"></div>\n            <script type="text/template" node-type="ajax-tpl">\n                <a href="/user/browse/vipprivilege/" target="_blank" class="info-link"><i class="ico-1"></i>\u8d60\u9001\u514d\u4e0b\u8f7d\u5238\u4e0b\u8f7d\u7279\u6743  <%=content%><i class="ico-2"></i>\u5343\u672c\u56fe\u4e66\u514d\u8d39\u770b \u7b49\u516b\u5927\u7279\u6743</a>\n            </script>\n        </div>\n    </div>\n</div>',vouchers:'<div class="cashier-vouchers">\n    <div class="cashier-layout clearfix">\n        <div class="cashier-tb">\n            <input type="checkbox" class="check-btn"/>\n            <span class="vouchers-name">\u4f7f\u7528\uff10\u5143\u4ee3\u91d1\u5238\uff08\u6709\u6548\u671f\u81f32015-05-11\uff09</span>\n            <span class="vouchers-bar"></span>\n            <div class="vouchers-list-wrap">\n                <div class="vouchers-list-layout">\n                    <ul>\n                        <li class="item"><a href="javascript:;" class="item-voucher">1\u5143\u4ee3\u91d1\u5238\uff08\u6709\u6548\u671f\u81f32015-05-11\uff09</a></li>\n                    </ul>\n                    <iframe src="" frameborder="0" class="vouchers-ifr"></iframe>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',rightside:'<div class="cashier-aside-wrap">\n    <div class="bd">\n        <ul>\n            <li class="item item-free">\n                <a href="http://wenku.baidu.com/user/browse/vipprivilege/" target="_blank">\n                    <span class="ico"></span>\n                    <p>\u8d60\u9001\u514d\u4e0b\u8f7d\u5238<br/>\u4e0b\u8f7d\u7279\u6743</p>\n                    <span class="member-down-times" dom-hook="tips" node-type="ajax-html"></span>\n                    <script type="text/template" node-type="ajax-tpl">\n                        <%=content%>\n                    </script>\n                </a>\n            </li>\n            <li class="item item-80">\n                <a href="http://wenku.baidu.com/user/browse/vipprivilege/" target="_blank">\n                    <span class="ico"></span>\n                    <p>\u8d2d\u4e70\u7cbe\u54c1\u4ed8\u8d39\u6587\u6863<br/>\uff18\u6298\u8d77</p>\n                </a>\n            </li>\n            <li class="item item-book">\n                <a href="http://wenku.baidu.com/user/browse/vipprivilege/" target="_blank">\n                    <span class="ico"></span>\n                    <p>\u5343\u672c\u7cbe\u54c1\u7535\u5b50\u4e66<br/>\u514d\u8d39\u770b</p>\n                </a>\n            </li>\n            <li class="item item-hotdoc">\n                <a href="http://wenku.baidu.com/user/browse/vipprivilege/" target="_blank">\n                    <span class="ico"></span>\n                    <p>\u70ed\u95e8\u7cbe\u9009\u6587\u6863<br/>\u968f\u610f\u4e0b</p>\n                </a>\n            </li>\n        </ul>\n        <div class="more">\n            <a href="/user/browse/vipprivilege" target="_blank" alt="link">\u66f4\u591a\u7279\u6743\u8be6\u60c5&gt;&gt;</a>\n        </div>\n    </div>\n</div>'},init:function(i){var e=this;
this.options=i||{},this.WkInfo=v,u.verlogin(function(){e.initTpl(),e.addEventListener(),e.onload().then(function(){e.initComponents(),e.show()})})},onload:function(){var i=this;return n.ajax({dataType:"script",scriptCharset:"utf-8",cache:!1,url:i.URL.walletUrl}).done(function(){i.name="vipcashier",i.getData("/cashier/interface/getvipinfo").then(function(e){if(e&&0===+e.status.code){var s=i.$el.find(".choice-member"),a=s.find(".member-option-year"),t=s.find(".member-option-halfyear"),o=s.find(".member-option-month1Noble"),c=s.find(".member-option-month3"),l=s.find(".member-option-hour24"),d=s.find(".monthday-wrap");
i.updateTpl(a,e.data.goods_info[9]),i.updateTpl(t,e.data.goods_info[3]),i.updateTpl(o,e.data.goods_info[1]),i.updateTpl(c,e.data.goods_info[8]),i.updateTpl(l,e.data.goods_info[10]),i.updateTpl(d,e.data.goods_info[1]),i.PD.goodsInfo=e.data.goods_info,n.ajax({url:"/cashier/interface/vipcashier",type:"get",cache:!1,data:{cashierCode:i.options.cashierCode}}).done(function(e){e&&0===+e.status.code&&(i.PD.uid=e.data.userInfo.uid,i.PD.uname=e.data.userInfo.uname,b=i.PD.uname,i.PD.token=e.data.token,i.PD.cashierCode=i.options.cashierCode||0,i.PD.initCashierUrl=e.data.init_cashier_str,i.PD.defaultGoodsId=0,i.initCashier(),k.init(function(e){i.close(e.is_classicvip===!0?function(){y.createDialog(!0)
}:function(){y.createDialog(!1)})}),i.$el.append(k.$el),i.$el.append(k.$mask))})}})})},initTpl:function(){var i=this,e=['<div id="wkDialogCashier" class="wkDialogCashier"><div class="wkDialogCashier-ret">',i.tpl.hd,'<div class="wkDialogCashier-layout clearfix">','<div class="wkDialogCashier-fr">',i.tpl.rightside,"</div>",'<div class="wkDialogCashier-fl">',i.tpl.userInfo,i.tpl.choiceMember,i.tpl.special,i.tpl.salePrice,i.tpl.vouchers,i.tpl.baifubao,"</div>","</div>","</div></div>"].join("");n("#wkDialogCashier").length||(i.$el=n(e),i.$mask=n(i.tpl.mask),n("body").append(i.$el).append(i.$mask))
},addEventListener:function(){var i=this;this.$el.on("click",'[dom-hook="close"]',n.proxy(i.close,i))},initComponents:function(){t.init(this.$el),o.init(this.$el),c.init(this.$el),l.init(this.$el),r.init(this.$el),d.init(this.$el,{usname:this.WkInfo.UserInfo.userName}),p.init(this.$el)},close:function(i){this.$el.off(),this.$el.hide(),this.$mask.hide(),k.hide(),"function"==typeof i&&i(this)},show:function(){this.$el.css({top:n(document).scrollTop()+50+"px"}).show(),this.$mask.show(),this.afterShow()
},afterShow:function(){},reInit:function(i){var e=this;u.verlogin(function(){e.PD.cashierCode=i&&i.cashierCode||0,n.ajax({url:"/cashier/interface/vipcashier",type:"get",cache:!1,data:{cashierCode:e.PD.cashierCode}}),e.addEventListener(),e.M.fire("choice:changeMember",{type:"year",container:"year"}).then(function(){e.show()})})},getData:function(i){return n.ajax({url:i,type:"get",cache:"false"})},defaultGoods:{vipcashier:{1:{type:"year",container:"year"},2:{type:"halfyear",container:"halfyear"}},eduvipcashier:{1:{type:"year",container:"year"},2:{type:"halfyear",container:"halfyear"}}},initCashier:function(){var i=this,e=window.lbscashier||{},s=function(e){if("pay"===e.type&&"paycheck"===e.data)return void k.show();
if(i.cashier.key=!0,i.PD.isFirst)if(1===+i.PD.defaultGoodsId||2===+i.PD.defaultGoodsId)i.M.fire("choice:changeMember",i.defaultGoods[i.name][i.PD.defaultGoodsId]).then(function(){i.PD.isFirst=!1});else if(3===+i.PD.defaultGoodsId){var s=n(".choice-member .member-option-month3");i.M.fire("choice:selectMemberMenu",{$obj:s}).then(function(){i.PD.isFirst=!1})}else i.M.fire("choice:changeMember",{type:"year",container:"year"}).then(function(){i.PD.isFirst=!1})},a=["contract"];1===+i.PD.isShowContract,this.cashier.obj=new e({onmessage:s,containerId:"lbscashier",tabNum:4,disabledChannel:a,hideDisabledChannel:1,payCheckUrl:i.URL.checkOrder,asycSubmit:1,samePage:0,height:400});
var t=i.PD.initCashierUrl;i.cashier.obj.init(t)}}),s.exports=g});
;define("wkcommon:widget/ui/js_core/dialogCashier/sidebar/sidebar.js",function(t,e,i){var n=t("wkcommon:widget/ui/lib/jquery/jquery.js"),o=t("wkcommon:widget/ui/js_core/dialogCashier/model/model.js"),s=t("wkcommon:widget/ui/js_core/mvp/template/template.js"),l=o.create({$el:null,E:{},dataPrivileged:{p1:{left:416,content:"25\u6b21/\u6708*1"},p8:{left:416,content:"10\u6b21/\u6708*3"},p3:{left:210,content:"10\u6b21/\u6708*6"},p9:{left:0,content:"10\u6b21/\u6708*12"},p6:{left:416,content:"10\u6b21/\u6708*1"},p10:{left:416,content:"100\u6b21/\u5929*1"}},init:function(t){this.$el=t.find(".cashier-side-bar").eq(0),this.initDomEvent(),this.publishEvent()
},initDomEvent:function(){this.E.$tips=this.$el.find('[dom-hook="tips"]')},publishEvent:function(){var t=this;this.M.on("tips:changeTips",n.proxy(t.UIchangeTips,t))},UIchangeTips:function(){var t=this,e=t.PD.goodsId,i={content:t.dataPrivileged["p"+e].content},n=t.$el.find('[node-type="ajax-tpl"]').html();t.$el.find('[node-type="ajax-html"]').html(s.template(n,i)),0===t.dataPrivileged["p"+e].left?t.E.$tips.css("top",0):t.E.$tips.css("top","-20px"),t.E.$tips.css("left",t.dataPrivileged["p"+e].left+"px").show()
}});i.exports=l});
;define("wkcommon:widget/ui/js_core/download_to_mobile/download_to_mobile.js",function(e,t,i){var o=e("wkcommon:widget/lib/tangram/base/base.js"),a=e("wkcommon:widget/ui/js_core/click_show/click_show.js"),s=e("wkcommon:widget/ui/js_core/util/util.js"),n=e("wkcommon:widget/ui/js_core/log/log.js"),l=e("wkcommon:widget/ui/js_core/login/login.js").login,c=o.dom,r=o.event,d=(o.fn,['<div class="dl-mbl-tip #{pageType}-dl-mbl-tip" id="dl-mbl-tip">','<div class="arrow"></div>','<div class="dtm-con">','<a class="close-btn" href="javascript:void(0);" title="\u5173\u95ed">\u5173\u95ed</a>','<div class="send-suc">#{tipInfo}</div>','<div class="dl-install">',"<p>\u672a\u5b89\u88c5\u5ba2\u6237\u7aef\uff1f\u626b\u4e0b\u65b9\u4e8c\u7ef4\u7801\u7acb\u5373\u5b89\u88c5\uff0c\u968f\u65f6\u514d\u8d22\u5bcc\u503c\u4e0b\u8f7d\u6587\u6863</p>",'<a href="/apps?fr=#{fr}" target="_blank">','<img src="#{pageTypeImageUrl}" />',"</a>","</div>","</div>","</div>"].join("")),m={normal:["<h5>\u6210\u529f\u4fdd\u5b58\u81f3\u6587\u5e93\u624b\u673a\u5ba2\u6237\u7aef</h5>","<p>\u4f60\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef \u2014\u201c\u6211\u7684\u6587\u5e93\u201d\u968f\u65f6\u968f\u5730\u9605\u8bfb</p>"].join(""),room:["<h5>\u5df2\u6210\u529f\u540c\u6b65\u81f3\u6587\u5e93\u624b\u673a\u5ba2\u6237\u7aef</h5>","<p>\u4f60\u53ef\u4ee5\u5728\u5ba2\u6237\u7aef \u2014\u201c\u6211\u7684\u6587\u5e93\u201d\u968f\u65f6\u67e5\u770b\u6211\u7684\u6587\u5e93</p>"].join("")},p={ajaxFavUrl:"/user/submit/collect",ajaxNaMsgUrl:"/user/naapi/push",bindElClass:"download2mobile",wrapElId:"doc",pageType:"view"},g={view:{excursion:{left:-336,top:30},isNeedIframe:!0,htmlData:{pageType:"view",pageTypeImageUrl:"http://static.wenku.bdimg.com/static/wkcommon/widget/ui/js_core/download_to_mobile/images/wk_app_view_6230b88.png",fr:1012,tipInfo:m.normal}},search:{excursion:{left:-35,top:26},isNeedIframe:!1,htmlData:{pageType:"search",pageTypeImageUrl:"http://static.wenku.bdimg.com/static/wkcommon/widget/ui/js_core/download_to_mobile/images/wk_app_search_a45a39e.png",fr:1013,tipInfo:m.normal}},list:{excursion:{left:-35,top:26},isNeedIframe:!1,htmlData:{pageType:"list",pageTypeImageUrl:"http://static.wenku.bdimg.com/static/wkcommon/widget/ui/js_core/download_to_mobile/images/wk_app_list_1e818e0.png",fr:1015,tipInfo:m.normal}},room:{excursion:{left:-336,top:30},isNeedIframe:!1,htmlData:{pageType:"room",pageTypeImageUrl:"http://static.wenku.bdimg.com/static/wkcommon/widget/ui/js_core/download_to_mobile/images/wk_app_room_3b9189d.png",fr:1014,tipInfo:m.room}}},h={init:function(e){this.config=o.object.merge(p,e||{},{overwrite:!0,recursive:!0}),this._createDom(),this._initEvent()
},_createDom:function(){var e=this.config,t=o.string.format(d,g[e.pageType].htmlData);o.dom.insertHTML(document.body,"beforeEnd",t),this.contentEl=c.g("dl-mbl-tip")},_initEvent:function(){var e=this,t=this.config,i=t.pageType,o=c.g(t.wrapElId),a=t.bindElClass;s.delegate(o,"."+a,"click",function(o){var a=this;r.stopPropagation(o),l.verlogin(function(){e._onShowDownloadTip(a),n.send(t.pageType,"freesendmobile"),"room"!==i&&e._addToFav(a),e._isSearchOrListPage()&&(e._hideDtmText(),c.setStyle(a.getElementsByTagName("a")[0],"display","inline-block"))
})}),this._isSearchOrListPage()&&(s.delegate(o,"."+a,"mouseover",function(){c.setStyle(this.getElementsByTagName("a")[0],"display","inline-block")}),s.delegate(o,"."+a,"mouseout",function(){"block"!==e.contentEl.style.display&&c.setStyle(this.getElementsByTagName("a")[0],"display","none")}))},_onShowDownloadTip:function(e){{var t=this;e.getElementsByTagName("a")[0]}this.csIns?(this.csIns.target=e,this.csIns.calculateXY(),"none"===this.csIns.content.style.display&&this.csIns.show()):(this.csIns=new a.clickShow({targetEl:e,contentEl:this.contentEl,isNeedIframe:g[this.config.pageType].isNeedIframe,excursion:g[this.config.pageType].excursion}),this.csIns.show(),this._isSearchOrListPage()&&this.csIns.on("afterClose",function(){t._hideDtmText()
}))},_addToFav:function(e){var t="0",i=c.getAttr(e,"data-docid"),a=this.config,s=["ct=20010","doc_id="+i,"fold_id="+t].join("&");o.ajax.post(a.ajaxFavUrl,s,function(e,t){var t=o.json.parse(t),s=parseInt(t.error_no,10);(0===s||15===s)&&o.ajax.get(a.ajaxNaMsgUrl+"?doc_id="+i,function(){})})},_isSearchOrListPage:function(){var e=!1,t=this.config,i=t.pageType;return("search"===i||"list"===i)&&(e=!0),e},_hideDtmText:function(){var e=this.config,t=c.q(e.bindElClass,e.wrapElId,"span");o.object.each(t,function(e){var t=e.getElementsByTagName("a")[0];
c.setStyle(t,"display","none")})}};i.exports=h});
;define("wkcommon:widget/ui/js_core/dropDown/dropDown.js",function(o,n,e){var i=o("wkcommon:widget/lib/tangram/base/base.js"),t=o("wkcommon:widget/ui/js_core/widget/widget.js").widget,s=o("wkcommon:widget/ui/js_core/layerControl/layerControl.js").layerControl,r=t({Options:{el:"",bindEl:"",showEvent:"mouseover",hideEvent:"mouseout",closeClassName:""},_init:function(){var o=this;this._atime=null,this._delay=50,this.on("onload",function(){i.lang.isString(o.el)&&(o.el=i.g(el)),i.lang.isString(o.bindEl)&&(o.bindEl=i.g(bindEl))
}),this.on("onShowBefore",function(){clearTimeout(o._atime)}),this.on("onShowAfter",function(){o.el.style.display="block"})},_action:function(){var o=this;i.array.each([o.el,o.bindEl],function(n){i.on(n,o.showEvent,i.fn.bind(o.show,o)),i.on(n,o.hideEvent,function(n){o._hide(),i.event.stop(n)})})},_hide:function(){var o=this;clearTimeout(o._atime),o._atime=setTimeout(function(){o.hide()},o._delay)}},{type:"dropDown",superClass:s}),l=function(o){var n=new r(o);return n.fire("onload"),n};e.exports.dropDown=r,e.exports.dropDownCreate=l
});
;define("wkcommon:widget/ui/js_core/eventCenter/eventCenter.js",function(e,n,t){var i=e("wkcommon:widget/ui/lib/jquery/jquery.js"),o=(e("wkcommon:widget/ui/js_core/widget/widget.js").widget,function(){this.fire=function(e,n){i.event.trigger(e,n)},this.on=function(e,n){i(window).on(e,function(e,t){n(t)})}}),r=new o;t.exports.eventCenter=r});
;define("wkcommon:widget/ui/js_core/flashReaderCreater/flashReaderCreater.js",function(e,t,a){var r=e("wkcommon:widget/lib/tangram/base/base.js"),s=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,o=e("wkcommon:widget/ui/js_core/log/log.js"),i=(e("wkcommon:widget/ui/js_core/util/util.js"),r.swf),c=r.browser,n=function(e){var t,a=i.version;if(a){if(t=a.slice(0,a.indexOf(".")),!(e>t))return o.send("view","flashload",{subtype:"jsrequest"}),!0;t=a}else t=0;return o.send("view","reader",{flashver:t}),!1
},l=s({Options:{el:"",id:"reader",width:"100%",height:"100%",ver:"10.0.0",errorMessage:n(10)?"":'<p class="ml">\u6587\u6863\u9884\u89c8\u9700\u8981\u6700\u65b0\u7248\u672c\u7684Flash Player\u652f\u6301\u3002</p><p class="ml">\u60a8\u5c1a\u672a\u5b89\u88c5\u6216\u7248\u672c\u8fc7\u4f4e\uff0c\u5efa\u8bae\u60a8\uff1a</p><a id="downloadflash" href="http://www.adobe.com/cn/products/flashplayer/" target="_blank"><img src="http://box.zhangmen.baidu.com/images/setupflash.gif" height="39" width="273" /></a>',url:"/static/flash/txtreader_new_b.swf",bgColor:"#FFFFFF",allowfullscreen:"true",vars:{docid:"txt",fpn:5,npn:5,bookmark:"0|0",ext:"txt",readertype:"internal",newMark:"0|0",catal:0,cid:"1",cid1:"1",cid2:"1",cid3:"1",title:document.title.replace("_\u767e\u5ea6\u6587\u5e93","")}},_init:function(){var e,t,a=this,s=a.vars,o=s.ext,n="txt"==o?50:5,l=n;
"course"==a.templateType?t=e="http://wenku.baidu.com/course/docplay/"+a.sectionId:(e="txt"==o?"http://wenku.baidu.com/play":"http://ai.wenku.baidu.com/play",t="txt"==o?"http://txt.wenku.baidu.com/play":"http://ai.wenku.baidu.com/play"),location.href.search(/localhost|127\.0\.0\.1/)>=0&&(e=e.replace(/(ai\.)?wenku\.baidu\.com/,location.host),t=t.replace(/((ai\.)|(txt\.))?wenku\.baidu\.com/,location.host)),a.options=r.object.merge(a.options,{url:"/static/flash/"+a._getReaderFileName(o),wmode:c.firefox&&!r.platform.isX11||a._isBugChrome()?"opaque":"window",vars:{docurl:e,cdnurl:t,fpn:n,npn:l,isChrome:a._isBugChrome(),title:document.title.replace("_\u767e\u5ea6\u6587\u5e93","")}},{overwrite:!0,recursive:!0});
var d=r.object.merge(a.Options,a.options,{overwrite:!0,recursive:!0});delete d.el,r.lang.eventCenter.dispatchEvent("flashReaderCreater.before",{options:d,el:a.el}),i.create(d,a.el),r.lang.eventCenter.dispatchEvent("flashReaderCreater.after",{options:d,el:a.el})},_isBugChrome:function(){return+(-1!=r.array.indexOf([21,22,23],Number(c.chrome)))},_getReaderFileName:function(e){var t="";switch(e){case"txt":t="txtreader";break;case"":case"doc":case"xls":case"ppt":case"docx":case"xlsx":case"pptx":case"pdf":case"wps":case"et":case"dps":case"vsd":case"rtf":case"pot":case"pps":case"epub":t="reader";
break;default:t="txtreader"}return t+".swf"}},{type:"reader"}),d=function(e){var t=new l(e);return t.fire("onload"),t};a.exports.flashReaderCreater=d});
;define("wkcommon:widget/ui/js_core/gaokaoEduAd/gaokaoEduAd.js",function(a,n,d){var i=a("wkcommon:widget/ui/lib/jquery/jquery.js"),o=a("wkcommon:widget/ui/js_core/log/log.js"),s=function(a){var n=!0;if(a=~~a,a&&o.xsend(1,a,{index:1}),100747==a)var d=i('<div class="gaokao-edu-ad"><div class="ren"></div><div class="ad"><span class="close"></span><a class="ad-link" href="http://gaokao.baidu.com/?&channel=pc10" target="_blank"></a></div></div>').appendTo("body");if(100746==a)var d=i('<div class="gaokao-edu-ad"><div class="ren"></div><div class="ad"><span class="close"></span><a class="ad-link" href="http://gaokao.baidu.com/?&channel=pc9" target="_blank"></a></div></div>').appendTo("body");
d.find(".close").on("click",function(){d.find(".ad").slideUp(),n=!1}),d.find(".ren").on("click",function(){d.find(".ad").slideDown(),n=!0}).on("mouseover",function(){d.find(".ad").slideDown()}).on("mouseout",function(){n||d.find(".ad").slideUp()}),d.find(".ad-link").on("click",function(){a&&o.xsend(1,a,{index:2})})};d.exports.init=s});
;define("wkcommon:widget/ui/js_core/join_course/join_course.js",function(e,i,n){var t=e("wkcommon:widget/lib/tangram/base/base.js"),o=e("wkcommon:widget/ui/js_core/login/login.js").login,s=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,r=e("wkcommon:widget/ui/js_core/dialog/dialog.js").dialogCreate,a=(t.dom,t.event),c=(t.fn,t.lang.eventCenter),u={title:"\u53c2\u52a0\u8bfe\u7a0b",hasJoinTip:"\u5bf9\u4e0d\u8d77\uff0c\u60a8\u5df2\u7ecf\u53c2\u52a0\u8fc7\u8be5\u8bfe\u7a0b\uff0c\u8bf7\u4e0d\u8981\u91cd\u590d\u53c2\u52a0\uff01",content:['<div class="join-tip">','<p class="brief">\u5bf9\u6b64\u8bfe\u7a0b\u611f\u5174\u8da3\u4e48\uff1f\u6765\u53c2\u52a0\u8bfe\u7a0b\u5427\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u66f4\u591a\u7cbe\u5f69\u7684\u7ae0\u8282\uff0c\u8fdb\u884c\u4f53\u7cfb\u5b66\u4e60~</p>','<p class="btn-area">','<span class="bt ui-btn ui-btn-32-green" id="confirm-join-btn">','<b class="btc"><b class="btText">\u53c2\u52a0\u8bfe\u7a0b</b></b>',"</span>",'<span class="free">\u514d\u8d39</span>',"</p>","</div>"].join("")},d=s({Options:{courseId:"",sectionId:"",isFree:0,isForceRequest:!1,isDirectJoin:!1,isFromFavJoin:!1,timeOfPlan:0,cycleOfPlan:3,onHaveJoinedCourse:null,WkloginFromType:"joinCourse",studyUrl:"/course/study/",requestJoinUrl:"/course/interface/lessonstart",asynCheckJoinUrl:"/course/interface/checklessonstart"},_init:function(){var e=this,i={sectionId:e.sectionId,type:e.WkloginFromType};
return this.isFreeSection=parseInt(this.isFree)?!1:!0,this.isFreeSection&&!this.isForceRequest?void this._haveJoinedCourse(this.studyUrl+this.sectionId):void o.verlogin(function(){e._joinCourse()},null,"",i)},_joinCourse:function(){var e=this,i=["lessonId="+this.courseId,"ver="+ +new Date].join("&");t.ajax.get(this.asynCheckJoinUrl+"?"+i,function(i,n){var o=t.json.parse(n);e.isFromFavJoin?1===o.data.isStart?e._haveJoinedCourse(e.studyUrl+o.data.lastSectionId):(e.sectionId=o.data.lastSectionId,e._requestJoinCourse()):1==o.data.isStart?e._haveJoinedCourse(e.studyUrl+e.sectionId):e._requestJoinCourse()
})},_requestJoinCourse:function(){var e=this;this.isDirectJoin?this._ajaxRequest():(this._confirmJoin(),a.on("confirm-join-btn","click",function(){e._ajaxRequest()}),a.on("WkDialogClose","click",function(){c.dispatchEvent("Join.Cancel")}))},_confirmJoin:function(){r().pop({title:u.title,content:u.content,width:"360"})},_ajaxRequest:function(){var e=this,i=this._getSendData();t.ajax.post(this.requestJoinUrl,i,function(i,n){var o=t.json.parse(n);0==o.status.code?e._haveJoinedCourse(e.studyUrl+e.sectionId,!0):r().alert({title:u.title,content:u.hasJoinTip,width:360})
})},_getSendData:function(){var e=["lessonId="+this.courseId,"timeOfPlan="+this.timeOfPlan,"cycleOfPlan="+this.cycleOfPlan].join("&");return e},_haveJoinedCourse:function(e,i){this.onHaveJoinedCourse?this.onHaveJoinedCourse.apply(this,arguments):i?setTimeout(function(){window.open(e)},1e3):window.open(e)}}),l=function(e){var i=new d(e);return i.fire("onload"),i};n.exports.joinCourse=d,n.exports.joinCourseCreate=l});
;define("wkcommon:widget/ui/js_core/jqueryUI/jqueryUI.js",function(){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,s){var o,n,r,h=e.nodeName.toLowerCase();return"area"===h?(o=e.parentNode,n=o.name,e.href&&n&&"map"===o.nodeName.toLowerCase()?(r=t("img[usemap='#"+n+"']")[0],!!r&&i(r)):!1):(/input|select|textarea|button|object/.test(h)?!e.disabled:"a"===h?e.href||s:s)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")
}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),s="absolute"===i,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);
return"fixed"!==i&&n.length?n:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))
},tabbable:function(i){var s=t.attr(i,"tabindex"),o=isNaN(s);return(o||s>=0)&&e(i,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,n){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),n&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};
t.fn["inner"+i]=function(e){return void 0===e?r["inner"+i].call(this):this.each(function(){t(this).css(n,s(this,e)+"px")})},t.fn["outer"+i]=function(e,o){return"number"!=typeof e?r["outer"+i].call(this,e):this.each(function(){t(this).css(n,s(this,e,!0,o)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)
}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")
},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,s,o=t(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0}}),t.ui.plugin={add:function(e,i,s){var o,n=t.ui[e].prototype;for(o in s)n.plugins[o]=n.plugins[o]||[],n.plugins[o].push([i,s[o]])},call:function(t,e,i,s){var o,n=t.plugins[e];if(n&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<n.length;o++)t.options[n[o][0]]&&n[o][1].apply(t.element,i)
}};var s=0,o=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,o,n;for(n=0;null!=(o=i[n]);n++)try{s=t._data(o,"events"),s&&s.remove&&t(o).triggerHandler("remove")}catch(r){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var o,n,r,h,a={},l=e.split(".")[0];return e=e.split(".")[1],o=l+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[l]=t[l]||{},n=t[l][e],r=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)
},t.extend(r,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),h=new i,h.options=t.widget.extend({},h.options),t.each(s,function(e,s){return t.isFunction(s)?void(a[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,n=this._superApply;return this._super=t,this._superApply=o,e=s.apply(this,arguments),this._super=i,this._superApply=n,e}}()):void(a[e]=s)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:n?h.widgetEventPrefix||e:e},a,{constructor:r,namespace:l,widgetName:e,widgetFullName:o}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;
t.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete n._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var i,s,n=o.call(arguments,1),r=0,h=n.length;h>r;r++)for(i in n[r])s=n[r][i],n[r].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var r="string"==typeof n,h=o.call(arguments,1),a=this;
return n=!r&&h.length?t.widget.extend.apply(null,[n].concat(h)):n,this.each(r?function(){var i,o=t.data(this,s);return"instance"===n?(a=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,h),i!==o&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+n+"'")}:function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))
}),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()
},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element
},option:function(e,i){var s,o,n,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},s=e.split("."),e=s.shift(),s.length){for(o=r[e]=t.widget.extend({},this.options[e]),n=0;n<s.length-1;n++)o[s[n]]=o[s[n]]||{},o=o[s[n]];if(e=s.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);
return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,s){var o,n=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=o=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,o=this.widget()),t.each(s,function(s,r){function h(){return e||n.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?n[r]:r).apply(n,arguments):void 0
}"string"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var a=s.match(/^([\w:-]*)\s*(.*)$/),l=a[1]+n.eventNamespace,c=a[2];c?o.delegate(c,l,h):i.bind(l,h)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)
}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var o,n,r=this.options[e];
if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(o in n)o in i||(i[o]=n[o]);return this.element.trigger(i,s),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,o,n){"string"==typeof o&&(o={effect:o});var r,h=o?o===!0||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),r=!t.isEmptyObject(o),o.complete=n,o.delay&&s.delay(o.delay),r&&t.effects&&t.effects.effect[h]?s[e](o):h!==e&&s[h]?s[h](o.duration,o.easing,n):s.queue(function(i){t(this)[e](),n&&n.call(s[0]),i()
})}});var n=(t.widget,!1);t(document).mouseup(function(){n=!1});t.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t,i){return e._mouseDown(t,i)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1
},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e,i){if(!n){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e,!this._mouseDownEvent.pageX&&i.pageX&&(this._mouseDownEvent.pageX=i.pageX,this._mouseDownEvent.pageY=i.pageY);var s=this,o=1===e.which||1===i.which,r="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;
return o&&!r&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t,i)
},this._mouseUpDelegate=function(t){return s._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),n=!0,!0)):!0}},_mouseMove:function(e,i){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which&&!i.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)
},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),n=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet
},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});t.widget("ui.draggable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()
},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)
},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()
}catch(s){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)
},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();
if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()
}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")
},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),o=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o
},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)
},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}
},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}
},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options,n=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=t(o.containment),s=i[0],void(s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)
},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,o,n,r=this.options,h=this._isRootNode(this.scrollParent[0]),a=t.pageX,l=t.pageY;
return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(a=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(a=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,l=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=i?n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}
},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))
},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var o=t.extend({},i,{item:s.element});
s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i,s){var o=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))
})},drag:function(e,i,s){t.each(s.sortables,function(){var o=!1,n=this;n.positionAbs=s.positionAbs,n.helperProportions=s.helperProportions,n.offset.click=s.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o})),o?(n.isOver||(n.isOver=1,n.currentItem=i.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return i.helper[0]
},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=s.offset.click.top,n.offset.click.left=s.offset.click.left,n.offset.parent.left-=s.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=s.offset.parent.top-n.offset.parent.top,s._trigger("toSortable",e),s.dropped=n.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,n.fromOutside=s),n.currentItem&&(n._mouseDrag(e),i.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()
}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var o=t("body"),n=s.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,i,s){var o=s.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var o=t(i.helper),n=s.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,i,s){var o=s.options;o._opacity&&t(i.helper).css("opacity",o._opacity)
}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var o=s.options,n=!1,r=s.scrollParentNotHidden[0],h=s.document[0];r!==h&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(s.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-s.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(s.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-s.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(h).scrollTop()<o.scrollSensitivity?n=t(h).scrollTop(t(h).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(h).scrollTop())<o.scrollSensitivity&&(n=t(h).scrollTop(t(h).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(h).scrollLeft()<o.scrollSensitivity?n=t(h).scrollLeft(t(h).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(h).scrollLeft())<o.scrollSensitivity&&(n=t(h).scrollLeft(t(h).scrollLeft()+o.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)
}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var o=s.options;s.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var o,n,r,h,a,l,c,p,u,d,f=s.options,g=f.snapTolerance,m=i.offset.left,v=m+s.helperProportions.width,_=i.offset.top,b=_+s.helperProportions.height;
for(u=s.snapElements.length-1;u>=0;u--)a=s.snapElements[u].left-s.margins.left,l=a+s.snapElements[u].width,c=s.snapElements[u].top-s.margins.top,p=c+s.snapElements[u].height,a-g>v||m>l+g||c-g>b||_>p+g||!t.contains(s.snapElements[u].item.ownerDocument,s.snapElements[u].item)?(s.snapElements[u].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[u].item})),s.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(o=Math.abs(c-b)<=g,n=Math.abs(p-_)<=g,r=Math.abs(a-v)<=g,h=Math.abs(l-m)<=g,o&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),n&&(i.position.top=s._convertPositionTo("relative",{top:p,left:0}).top),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:a-s.helperProportions.width}).left),h&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),d=o||n||r||h,"outer"!==f.snapMode&&(o=Math.abs(c-_)<=g,n=Math.abs(p-b)<=g,r=Math.abs(a-m)<=g,h=Math.abs(l-v)<=g,o&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),n&&(i.position.top=s._convertPositionTo("relative",{top:p-s.helperProportions.height,left:0}).top),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:a}).left),h&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[u].snapping&&(o||n||r||h||d)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[u].item})),s.snapElements[u].snapping=o||n||r||h||d)
}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var o,n=s.options,r=t.makeArray(t(n.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var o=t(i.helper),n=s.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)
},stop:function(e,i,s){var o=s.options;o._zIndex&&t(i.helper).css("zIndex",o._zIndex)}});t.ui.draggable;t.widget("ui.droppable",{version:"1.11.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}
},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)
};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;
i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,o=!1;
return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1
},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,o){if(!i.offset)return!1;var n=(e.positionAbs||e.position.absolute).left+e.margins.left,r=(e.positionAbs||e.position.absolute).top+e.margins.top,h=n+e.helperProportions.width,a=r+e.helperProportions.height,l=i.offset.left,c=i.offset.top,p=l+i.proportions().width,u=c+i.proportions().height;switch(s){case"fit":return n>=l&&p>=h&&r>=c&&u>=a;
case"intersect":return l<n+e.helperProportions.width/2&&h-e.helperProportions.width/2<p&&c<r+e.helperProportions.height/2&&a-e.helperProportions.height/2<u;case"pointer":return t(o.pageY,c,i.proportions().height)&&t(o.pageX,l,i.proportions().width);case"touch":return(r>=c&&u>=r||a>=c&&u>=a||c>r&&a>u)&&(n>=l&&p>=n||h>=l&&p>=h||l>n&&h>p);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,o,n=t.ui.ddmanager.droppables[e.options.scope]||[],r=i?i.type:null,h=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();
t:for(s=0;s<n.length;s++)if(!(n[s].options.disabled||e&&!n[s].accept.call(n[s].element[0],e.currentItem||e.element))){for(o=0;o<h.length;o++)if(h[o]===n[s].element[0]){n[s].proportions().height=0;continue t}n[s].visible="none"!==n[s].element.css("display"),n[s].visible&&("mousedown"===r&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions({width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))
}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,o,n,r=t.ui.intersect(e,this,this.options.tolerance,i),h=!r&&this.isover?"isout":r&&!this.isover?"isover":null;h&&(this.options.greedy&&(o=this.options.scope,n=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===o
}),n.length&&(s=t(n[0]).droppable("instance"),s.greedyChild="isover"===h)),s&&"isover"===h&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,i),s&&"isout"===h&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}};t.ui.droppable;t.widget("ui.resizable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0
},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return e[s]>0?!0:(e[s]=1,o=e[s]>0,e[s]=0,o)},_create:function(){var e,i,s,o,n,r=this,h=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)s=t.trim(e[i]),n="ui-resizable-"+s,o=t("<div class='ui-resizable-handle "+n+"'></div>"),o.css({zIndex:h.zIndex}),"se"===s&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(o);
this._renderAxis=function(e){var i,s,o,n;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),n=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(o,n),this._proportionallyResize()),t(this.handles[i]).length
},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),h.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(t(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){h.disabled||r.resizing||(t(this).addClass("ui-resizable-autohide"),r._handles.hide())
})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this
},_mouseCapture:function(e){var i,s,o=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var i,s,o,n=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),n.containment&&(i+=t(n.containment).scrollLeft()||0,s+=t(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),r.addClass("ui-resizable-resizing"),this._propagate("start",e),!0
},_mouseDrag:function(e){var i,s,o=this.originalMousePosition,n=this.axis,r=e.pageX-o.left||0,h=e.pageY-o.top||0,a=this._change[n];return this._updatePrevProperties(),a?(i=a.apply(this,[e,r,h]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1
},_mouseStop:function(e){this.resizing=!1;var i,s,o,n,r,h,a,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,n=s?0:c.sizeDiff.width,r={width:c.helper.width()-n,height:c.helper.height()-o},h=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,a=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(r,{top:a,left:h})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1
},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t
},_updateVirtualBoundaries:function(t){var e,i,s,o,n,r=this.options;n={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=n.minHeight*this.aspectRatio,s=n.minWidth/this.aspectRatio,i=n.maxHeight*this.aspectRatio,o=n.maxWidth/this.aspectRatio,e>n.minWidth&&(n.minWidth=e),s>n.minHeight&&(n.minHeight=s),i<n.maxWidth&&(n.maxWidth=i),o<n.maxHeight&&(n.maxHeight=o)),this._vBoundaries=n
},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t
},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,n=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,r=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,h=this.originalPosition.left+this.originalSize.width,a=this.position.top+this.size.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return n&&(t.width=e.minWidth),r&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),n&&l&&(t.left=h-e.minWidth),s&&l&&(t.left=h-e.maxWidth),r&&c&&(t.top=a-e.minHeight),o&&c&&(t.top=a-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t
},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(s[e],10)||0,i[e]+=parseInt(o[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})
},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}
},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))
},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,o=i._proportionallyResizeElements,n=o.length&&/textarea/i.test(o[0].nodeName),r=n&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,h=n?0:i.sizeDiff.width,a={width:i.size.width-h,height:i.size.height-r},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;
i.element.animate(t.extend(a,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&t(o[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,o,n,r,h,a=t(this).resizable("instance"),l=a.options,c=a.element,p=l.containment,u=p instanceof t?p.get(0):/parent/.test(p)?c.parent().get(0):p;
u&&(a.containerElement=t(u),/document/.test(p)||p===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(u),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=a._num(e.css("padding"+s))}),a.containerOffset=e.offset(),a.containerPosition=e.position(),a.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=a.containerOffset,o=a.containerSize.height,n=a.containerSize.width,r=a._hasScroll(u,"left")?u.scrollWidth:n,h=a._hasScroll(u)?u.scrollHeight:o,a.parentData={element:u,left:s.left,top:s.top,width:r,height:h}))
},resize:function(e){var i,s,o,n,r=t(this).resizable("instance"),h=r.options,a=r.containerOffset,l=r.position,c=r._aspectRatio||e.shiftKey,p={top:0,left:0},u=r.containerElement,d=!0;u[0]!==document&&/static/.test(u.css("position"))&&(p=a),l.left<(r._helper?a.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-a.left:r.position.left-p.left),c&&(r.size.height=r.size.width/r.aspectRatio,d=!1),r.position.left=h.helper?a.left:0),l.top<(r._helper?a.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-a.top:r.position.top),c&&(r.size.width=r.size.height*r.aspectRatio,d=!1),r.position.top=r._helper?a.top:0),o=r.containerElement.get(0)===r.element.parent().get(0),n=/relative|absolute/.test(r.containerElement.css("position")),o&&n?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-p.left:r.offset.left-a.left)),s=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-p.top:r.offset.top-a.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,c&&(r.size.height=r.size.width/r.aspectRatio,d=!1)),s+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-s,c&&(r.size.width=r.size.height*r.aspectRatio,d=!1)),d||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)
},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,o=e.containerPosition,n=e.containerElement,r=t(e.helper),h=r.offset(),a=r.outerWidth()-e.sizeDiff.width,l=r.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(n.css("position"))&&t(this).css({left:h.left-o.left-s.left,width:a,height:l}),e._helper&&!i.animate&&/static/.test(n.css("position"))&&t(this).css({left:h.left-o.left-s.left,width:a,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);
e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).resizable("instance"),o=s.options,n=s.originalSize,r=s.originalPosition,h={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-r.top||0,left:s.position.left-r.left||0},a=function(e,s){t(e).each(function(){var e=t(this),o=t(this).data("ui-resizable-alsoresize"),n={},r=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];
t.each(r,function(t,e){var i=(o[e]||0)+(h[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?a(o.alsoResize):t.each(o.alsoResize,function(t,e){a(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)
},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,o=i.size,n=i.originalSize,r=i.originalPosition,h=i.axis,a="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=a[0]||1,c=a[1]||1,p=Math.round((o.width-n.width)/l)*l,u=Math.round((o.height-n.height)/c)*c,d=n.width+p,f=n.height+u,g=s.maxWidth&&s.maxWidth<d,m=s.maxHeight&&s.maxHeight<f,v=s.minWidth&&s.minWidth>d,_=s.minHeight&&s.minHeight>f;
s.grid=a,v&&(d+=l),_&&(f+=c),g&&(d-=l),m&&(f-=c),/^(se|s|e)$/.test(h)?(i.size.width=d,i.size.height=f):/^(ne)$/.test(h)?(i.size.width=d,i.size.height=f,i.position.top=r.top-u):/^(sw)$/.test(h)?(i.size.width=d,i.size.height=f,i.position.left=r.left-p):((0>=f-c||0>=d-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=r.top-u):(f=c-e.height,i.size.height=f,i.position.top=r.top+n.height-f),d-l>0?(i.size.width=d,i.position.left=r.left-p):(d=c-e.height,i.size.width=d,i.position.left=r.left+n.width-d))
}});t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})
})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");
s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,o=t.data(this,"selectable-item");return o?(s=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),o.unselecting=!s,o.selecting=s,o.selected=s,s?i._trigger("selecting",e,{selecting:o.element}):i._trigger("unselecting",e,{unselecting:o.element}),!1):void 0
}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,o=this.options,n=this.opos[0],r=this.opos[1],h=e.pageX,a=e.pageY;return n>h&&(i=h,h=n,n=i),r>a&&(i=a,a=r,r=i),this.helper.css({left:n,top:r,width:h-n,height:a-r}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===o.tolerance?l=!(i.left>h||i.right<n||i.top>a||i.bottom<r):"fit"===o.tolerance&&(l=i.left>n&&i.right<h&&i.top>r&&i.bottom<a),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))
}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})
}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t
},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")
})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,o=!1,n=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,n.widgetName+"-item")===n?(s=t(this),!1):void 0
}),t.data(e.target,n.widgetName+"-item")===n&&(s=t(e.target)),s&&(!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(o=!0)}),o))?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,s){var o,n,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",r.cursor),this.storedStylesheet=t("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(n)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));
return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,o,n,r=this.options,h=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-t(document).scrollTop()<r.scrollSensitivity?h=t(document).scrollTop(t(document).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<r.scrollSensitivity&&(h=t(document).scrollTop(t(document).scrollTop()+r.scrollSpeed)),e.pageX-t(document).scrollLeft()<r.scrollSensitivity?h=t(document).scrollLeft(t(document).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<r.scrollSensitivity&&(h=t(document).scrollLeft(t(document).scrollLeft()+r.scrollSpeed))),h!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],o=s.item[0],n=this._intersectsWithPointer(s),n&&s.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===n?"next":"prev"]()[0]!==o&&!t.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],o):!0)){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;
this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,o=this.placeholder.offset(),n=this.options.axis,r={};n&&"x"!==n||(r.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(r.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){s._clear(e)
})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this
},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,o=s+this.helperProportions.height,n=t.left,r=n+t.width,h=t.top,a=h+t.height,l=this.offset.click.top,c=this.offset.click.left,p="x"===this.options.axis||s+l>h&&a>s+l,u="y"===this.options.axis||e+c>n&&r>e+c,d=p&&u;
return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:n<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&h<s+this.helperProportions.height/2&&o-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=e&&i,o=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();
return s?this.floating?n&&"right"===n||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;
return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){h.push(this)}var s,o,n,r,h=[],a=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(n=t(l[s]),o=n.length-1;o>=0;o--)r=t.data(n[o],this.widgetFullName),r&&r!==this&&!r.options.disabled&&a.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);
for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=a.length-1;s>=0;s--)a[s][0].each(i);return t(h)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];
var i,s,o,n,r,h,a,l,c=this.items,p=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(o=t(u[i]),s=o.length-1;s>=0;s--)n=t.data(o[s],this.widgetFullName),n&&n!==this&&!n.options.disabled&&(p.push([t.isFunction(n.options.items)?n.options.items.call(n.element[0],e,{item:this.currentItem}):t(n.options.items,n.element),n]),this.containers.push(n));
for(i=p.length-1;i>=0;i--)for(r=p[i][1],h=p[i][0],s=0,l=h.length;l>s;s++)a=t(h[s]),a.data(this.widgetName+"-item",r),c.push({item:a,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,o,n;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=o.outerWidth(),s.height=o.outerHeight()),n=o.offset(),s.left=n.left,s.top=n.top);
if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)n=this.containers[i].element.offset(),this.containers[i].containerCache.left=n.left,this.containers[i].containerCache.top=n.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;
s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(o)}):"img"===s&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o
},update:function(t,o){(!i||s.forcePlaceholderSize)&&(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var i,s,o,n,r,h,a,l,c,p,u=null,d=null;
for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(u&&t.contains(this.containers[i].element[0],u.element[0]))continue;u=this.containers[i],d=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);
else{for(o=1e4,n=null,c=u.floating||this._isFloating(this.currentItem),r=c?"left":"top",h=c?"width":"height",p=c?"clientX":"clientY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[d].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(a=this.items[s].item.offset()[r],l=!1,e[p]-a>this.items[s][h]/2&&(l=!0),Math.abs(e[p]-a)<o&&(o=Math.abs(e[p]-a),n=this.items[s],this.direction=l?"up":"down"));if(!n&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));
n?this._rearrange(e,n,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;
return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s
},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();
return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();
return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options;
"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])
},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:o.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:o.scrollLeft())*s}
},_generatePosition:function(e){var i,s,o=this.options,n=e.pageX,r=e.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/o.grid[1])*o.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,s=this.originalPageX+Math.round((n-this.originalPageX)/o.grid[0])*o.grid[0],n=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-o.grid[0]:s+o.grid[0]:s)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:h.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:h.scrollLeft())}
},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");
this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())
}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||o.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(o.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;s<o.length;s++)o[s].call(this,t);
this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})});
;define("wkcommon:widget/ui/js_core/lazy_load/lazy_load.js",function(a,t,i){var o=a("wkcommon:widget/ui/lib/jquery/jquery.js"),n=a("wkcommon:widget/ui/lib/browser/browser.js"),e=(6==n.ie?!0:!1,function(a){this.defaultConfig={lazyLoadAttr:"data-src",preloadHeight:0,loadedCallback:null,lazyLoadBg:!0,lazyLoadBgClass:"lazybg"},this.config=o.extend(!0,this.defaultConfig,a||{}),this.init.call(this)});o.extend(e.prototype,{init:function(){this._cache(),this._initEvent(),this.acitonLazy()},_initEvent:function(){{var a=this;
this.config}this.acitonLazy=o.proxy(a._lazy,a),o(window).on("scroll",a.acitonLazy),o(window).on("resize",a.acitonLazy),o(window).on("load",a.acitonLazy),o(a).on("afterLoaded",function(t){a._afterLoaded(t.img,t.loadType)})},_cache:function(){this.lazyImgs=this._getLazyImgs(),this.lazyImgsLen=this.lazyImgs.length,this.acitonLazy=null},_getLazyImgs:function(){var a=this.config,t=[],i=null;return o("img").each(function(){i=o(this),i.attr(a.lazyLoadAttr)&&t.push(i)}),a.lazyLoadBg&&o("."+a.lazyLoadBgClass).each(function(){i=o(this),i.attr(a.lazyLoadAttr)&&t.push(i)
}),t},_lazy:function(){var a=this,t=this.config,i=t.lazyLoadAttr,n=t.preloadHeight,e=o(window),s=e.scrollTop(),l=e.innerHeight(),d=s+l+n,r=s-n;o.each(this.lazyImgs,function(n,e){var s=e.offset().top,l=s+e.innerHeight(),c=e.attr(i);d>s&&l>r&&c&&(e.hasClass(t.lazyLoadBgClass)?(e.css("background-image","url( "+c+" )"),e.removeAttr(i),a.lazyImgsLen--,o(a).trigger({type:"afterLoaded",img:e,loadType:"bg"})):(e.css("display","none"),e.attr("src",c),e.removeAttr(i),a.lazyImgsLen--,o(a).trigger({type:"afterLoaded",img:e,loadType:"img"})))
}),a.lazyImgsLen||a._dispose()},_dispose:function(){o(window).off("scroll",this.acitonLazy),o(window).off("resize",this.acitonLazy)},_afterLoaded:function(a,t){var i=this.config;o.isFunction(i.loadedCallback)?i.loadedCallback(a,t):"img"==t&&a.fadeIn("slow")}}),i.exports.lazyLoad=e});
;define("wkcommon:widget/ui/js_core/lightMask/lightMask.js",function(t,e,i){var s=t("wkcommon:widget/ui/lib/jquery/jquery.js"),o=function(t){this.init(t)};s.extend(o.prototype,{init:function(t){var e=this;e.options=t,e.el=s('<div class="light-mask"></div>').appendTo(document.body),e.createChild(),e.render()},createChild:function(){var t=this,e=0,i=[];for(i.push('<table class="child-mask-table">'),e;9>e;e++){e%3===0&&i.push('<tr class="row-'+Math.floor(e/3)+'">');var o="dark",h="&nbsp;";4===e&&(o="light",h=t.options.content||"&nbsp;"),i.push('<td class="cell-'+e+" "+o+'">'+h+"</td>"),(e+1)%3===0&&i.push("</tr>")
}i.push("</table>"),i=i.join(""),t.table=s(i).appendTo(t.el)},render:function(t){var e=this;t=t||e.options.space;var i=t[0]+t[2],o=t[1]+t[3],h=s(document.body).width(),l=s(document.body).height();i=i>h?i:h,o=o>l?o:l,e.el.css({width:i,height:o}),e.table.css({width:i,height:o}),s(".cell-0",e.table).css({width:t[0]||1,height:t[1]||1}),s(".cell-4",e.table).css({width:t[2],height:t[3]}),s(".cell-6",e.table).css({height:o-t[1]-t[3]})},dispose:function(){var t=this;t.el.remove()}}),i.exports=o});
;define("wkcommon:widget/ui/js_core/mvp/event/event.js",function(t,e,n){var i=t("wkcommon:widget/lib/tangram/base/base.js"),s=t("wkcommon:widget/ui/js_core/util/util.js"),r={},h=Array.prototype.slice,o=function(){this.pending=[],this.afterStack=[],this.beforeStack=[],this.status=0,this._lock=!1,this.eventCache=null};s.mix(o.prototype,{_empty:function(){},then:function(t,e){return t=t||this._empty,e=e||this._empty,this.pending.push({resolve:t,reject:e}),1===this.status&&this.resolve(this.eventCache),2===this.status&&this.reject(),this
},_iterator:function(t,e){for(var n=0,s=t.length;s>n;n++)i.lang.isFunction(t[n])&&t[n](e)},_fire:function(t,e){var n;if(this.eventCache=e,!this._lock){if(this.pending[0]){try{this.status=1,this._iterator(this.beforeStack,e),n=i.lang.isFunction(this.pending[0][t])&&this.pending[0][t](e),this._iterator(this.afterStack,e)}catch(s){this.status=2,t="reject",e=s,i.lang.isFunction(this.pending[0][t])&&this.pending[0][t](e)}this.pending.shift()}return this.isDeferred(n)?this._pipe(n,this):this.pending[0]&&this._fire(t,e),this
}},_pipe:function(t,e){return t&&t.then&&t.then(function(){e.resolve(h.call(arguments))},function(){e.reject(h.call(arguments))}),t},resolve:function(t){this.status=1,this._fire("resolve",t)},reject:function(t){this.status=2,this._fire("reject",t)},_getToken:function(){return r},isDeferred:function(t){return i.lang.isObject(t)&&i.lang.isFunction(t._getToken)&&t._getToken()===r},wait:function(t){return this.then(function(){var e=new o,n=new Date;return setTimeout(function(){e.resolve((new Date).getTime()-n.getTime())
},1e3*t),e})},start:function(){this.resolve.apply(this,arguments)},parallel:function(t){function e(t){return function(e){s||(u[t]=e),++a===r._count&&(s=!0,r._count=0,r.resolve.call(r,u))}}t=i.lang.isArray(t)?t:h.call(arguments);var n,s,r=new o,u=[],c=0,a=0,l=t.length,f=this;for(r._count=r._count||t.length;l>c;c++)n=t[c],i.lang.isFunction(n)&&!f.isDeferred(n)&&(n=n()),f.isDeferred(n)?n.then(e(c),e(c)):e(c)(n);return r},lock:function(){return this._lock=!0,this},unlock:function(){return this._lock=!1,this.resolve.apply(this,arguments),this
},error:function(t){return this.then(!1,t)},any:function(){return this._count=1,this},some:function(t){return this._count=t,this},when:function(){return this.parallel.apply(this,h.call(arguments))},clear:function(){return this.pending.length=0,this},after:function(){return this.afterStack=this.afterStack.concat(h.call(arguments)),this},before:function(){return this.beforeStack=this.beforeStack.concat(h.call(arguments)),this}});var u=function(){this.listeners={},o.apply(this,h.call(arguments))};i.lang.inherits(u,o),s.mix(u.prototype,{on:function(t,e,n){return t&&e?(this.listeners[t]||(this.listeners[t]=[]),this._isUnique(t,e,n)&&this.listeners[t].push([e,n]),this):!1
},_findEvent:function(t,e,n){for(var i=this.listeners[t],s=0,r=i.length;r>s;s++)if(i[s][0]===e&&i[s][1]===n)return i[s];return null},_isUnique:function(t,e,n){return null===this._findEvent(t,e,n)?!0:!1},off:function(t,e,n){var i=this.listeners[t],s=0,r=i.length;if(!e)return void(i.length=0);for(;r>s;s++)i[s][0]===e&&i[s][1]===n&&i.splice(s,1);return this},fire:function(t,e){var n,i=this.listeners[t]?this.listeners[t].length:0,s=0,r=new o;for(e=e||{},e.promise=r;i>s;s++)this._iterator(this.beforeStack,e),n=this.listeners[t][s][0].call(this.listeners[t][s][1]||this,e),this._iterator(this.afterStack,e);
return n},when:function(t){var e,n,s=0,r=[];for(t=h.call(arguments),e=t.length;e>s;s++)n=i.lang.isArray(t[s])?t[s]:[t[s]],r.push(this.fire.apply(this,n));return this.parallel(r)},once:function(t,e,n){function i(){e.apply(n,h.call(arguments)),s.off(t,i,n)}var s=this;return this.on(t,i,n),this}},!0),n.exports.deferred=o,n.exports.custEvent=u});
;define("wkcommon:widget/ui/js_core/mvp/jqEvent/jqEvent.js",function(e,t,r){var n=e("wkcommon:widget/ui/lib/jquery/jquery.js"),i=function(){};n.extend(i.prototype,{listeners:{},on:function(e,t){return e&&t?(this.listeners[e]||(this.listeners[e]=new n.Callbacks("unique")),this.listeners[e].has(t)||this.listeners[e].add(t),this):!1},fire:function(e,t){var r=t||!1,i=new n.Deferred,s=this;try{s.listeners[e].fire(r),i.resolve()}catch(o){console.error(o),i.reject(),i.eorrEx=o}return i},off:function(e,t){var r=this.listeners[e];
return t?(r.remove(t),this):void r.empty()}}),r.exports=i});
;define("wkcommon:widget/ui/js_core/mvp/model/model.js",function(t,i,e){var n=t("wkcommon:widget/lib/tangram/base/base.js"),s=t("wkcommon:widget/ui/js_core/util/util.js"),r=Array.prototype.slice,o=n.lang.createClass(function(t,i){this.attributes=n.object.clone(t),this.changes={},this.uid=s.uniqueId("model__"),this.modelList=i}).extend({attr:function(t,i){var e=n.object.clone(this.attributes);if(0===arguments.length)return n.object.extend(e,this.changes),e;if(2===arguments.length)return this.attributes[t]===i?delete this.changes[t]:this.changes[t]=i,this;
if("object"==typeof t){for(var s in t)this.attr(s,t[s]);return this}return t in this.changes?this.changes[t]:e[t]},attrs:function(t){var i=this;n.lang.isObject(t)&&n.object.each(t,function(t,e){i.attr(e,t)})},callPersistMethod:function(t,i){var e=this,n=function(){"create"===t?e.modelList.add(e):"destroy"===t&&e.modelList.remove(e)},s=function(s){s&&(e.merge(e.changes).reset(),n(),e.dispatchEvent(t));var r;return i&&(r=i.apply(e,arguments)),r};this.modelList._persistence?this.modelList._persistence[t](this,s):s.call(this,!0)
},destroy:function(t){return this.callPersistMethod("destroy",t),this},id:function(){return this.attributes[this.modelList.unique_key]},merge:function(t){return s.mix(this.attributes,t),this},newRecord:function(){return void 0===this.id()},reset:function(){return this.errors.clear(),this.changes={},this},save:function(t){if(this.valid()){var i=this.newRecord()?"create":"update";this.callPersistMethod(i,t)}else t&&t(!1);return this},valid:function(){return this.errors.clear(),this.validate(),0===this.errors.size()
},validate:function(){return this}}),c=n.lang.createClass(function(t){t=t||{},this.options=t,s.mix(this,this.options,!0),this.collection=[],this.uid=s.uniqueId("modelList__"),this.model=this.model||o,this._wrap()}).extend({unique_key:"id",_wrap:function(){var t=this,i=["each","every","filter","find","hash","indexOf","lastIndexOf","map","reduce","some","contains"];n.array.each(i,function(i){t[i]=function(){var e=r.call(arguments,0);return e.unshift(t.collection),n.array[i].apply(t,e)}}),this.select=this.find
},chain:function(t){return n.object.extend({},{collection:t})},add:function(){for(var t=[],i=0;i<arguments.length;i++){var e=arguments[i];n.lang.isFunction(this.wrapModel)&&(e=this.wrapModel(e,i)),e=new this.model(e,this);var s=e.id();-1!==n.array.indexOf(e,this.collection)||s&&this.findId(s)||(this.collection.push(e),t.push(e))}return t.length>0&&this.fire("add",{data:t}),this},all:function(){return this.collection.slice()},count:function(){return this.all().length},findId:function(t){return this.find(function(i){return i.id()===t
})},findIndexOf:function(t){var i,e,n=this.collection,s=n.length;if("function"==typeof t)for(e=0;s>e;e++)if(i=n[e],!0===t.call(n,i,e))return e;return-1},first:function(){return this.all()[0]},load:function(t){if(this._persistence){var i=this;this._persistence.read.call(this,function(e){t&&t.call(i,e)})}return this},last:function(){var t=this.all();return t[t.length-1]},pluck:function(t){for(var i=this.all(),e=[],n=0,s=i.length;s>n;n++)e.push(i[n].attr(t));return e},persistence:function(t){if(0==arguments.length)return this._persistence;
var i=r.call(arguments,1);return i.unshift(this),this._persistence=t.apply(t,i),this},remove:function(t){for(var i,e=0,n=this.collection.length;n>e;e++)if(this.collection[e]===t){i=e;break}return void 0!==i?(this.collection.splice(i,1),this.dispatchEvent("remove",{data:[t]}),!0):!1},sort:function(t){var i=this.all().sort(t);return i},sortBy:function(t){var i=n.lang.isFunction(t),e=function(i){return t.call(i)};return this.sort(function(n,s){var r=i?e(n):n.attr(t),o=i?e(s):s.attr(t);return o>r?-1:r>o?1:0
})},count:function(){return this.collection.length},lastFind:function(t){var i,e=this.count(),s=this;if(n.lang.isFunction(t))for(;e--;)if(i=this.collection[e],!0===t.call(s,i,e))return i;return null},dispose:function(){this.fire("dispose"),n.lang.Class.prototype.dispose.call(this)}});e.exports.Model=o,e.exports.ModelList=c});
;define("wkcommon:widget/ui/js_core/mvp/presenter/presenter.js",function(e,i,t){var n=e("wkcommon:widget/lib/tangram/base/base.js"),s=e("wkcommon:widget/ui/js_core/util/util.js"),r=Array.prototype.slice,a=n.lang.createClass(function(e){e=e||{},this.options=e,n.object.extend(this,e),this.cid=s.uniqueId("presenter__")}).extend({plugin:[],_init:function(){},_plugin:function(){var e=this,i=this.plugin;!n.lang.isArray(i)&&(i=[i]),n.array.each(i,function(i){n.lang.isObject(i)&&n.array.each(i,function(i,t){s.punch(e,"init",i,t)
})})},mediator:null,after:function(){var e=this.mediator;e&&e.after.apply(e,r.call(arguments))},before:function(){var e=this.mediator;e&&e.before.apply(e,r.call(arguments))},dispose:function(){this.mediator&&this.mediator.fire("p:dispose"),this.fire("dispose"),n.lang.Class.prototype.dispose.call(this)}});t.exports.Presenter=a});
;define("wkcommon:widget/ui/js_core/mvp/route/route.js",function(t,n,e){var a=t("wkcommon:widget/lib/tangram/base/base.js"),o=function(){function t(t){var n=r.contentWindow.document;t=t||"#",n.open(),n.write('<script>window.top.location.hash="'+t+'";</script>'),n.close(),n.location.hash=t}function n(){c&&c(),i=window.location.hash.replace(/^#/,"")||""}function e(){var e=location.hash.replace(/^#/,"");e!=i&&(r?t(e):n())}function o(o){i="",o&&(c=o),a.browser.ie?(r=document.createElement("iframe"),r.style.display="none",document.body.appendChild(r),t(window.location.hash),r.attachEvent("onload",function(){n()
}),setInterval(e,100)):a.browser.firefox<3.6?setInterval(e,100):(i!=location.hash.replace(/^#/,"")&&(i=window.location.hash.replace(/^#/,"")||""),window.onhashchange=n)}var i,r,c;return o}(),i=[],r=/:([\w\d]+)/g,c=/\*([\w\d]+)/g,h=/[-[\]{}()+?.,\\^$|#\s]/g,s=/^#*/,l={add:function(t,n){var e=this;a.lang.isObject(t)?a.object.each(t,function(t,n){_slef.add(n,t)}):i.push(e._warp(t,n))},_warp:function(t,n){var e;return"string"==typeof t?(t=t.replace(h,"\\$&").replace(r,"([^/]*)").replace(c,"(.*?)"),e=new RegExp("^"+t+"$")):e=t,{route:e,callback:n}
},getPath:function(){return window.location.pathname},getHash:function(){return window.location.hash},getHost:function(){return(document.location+"").replace(this.getPath()+this.getHash(),"")},getFragment:function(){return this.getHash().replace(s,"")},navigate:function(){var t=a.lang.toArray(arguments),n=!0;"boolean"==typeof t[t.length-1]&&(n=t.pop());var e=t.join("/");this.path!==e&&(n||(this.path=e),window.location.hash=e)},change:function(){var t=this.getFragment();if(t!==this.path){this.path=t;
for(var n=0;n<i.length;n++)if(this._match(i[n],t))return}},_match:function(t,n){var e=t.route.exec(n);if(!e)return!1;var a=e.slice(1);return t.callback(a),!0},create:function(){var t=this;a.dom.ready(function(){t.change(),o(a.fn.bind(t.change,t))})}};e.exports.Route=l});
;define("wkcommon:widget/ui/js_core/mvp/view/view.js",function(e,t,n){var i=e("wkcommon:widget/lib/tangram/base/base.js"),s=e("wkcommon:widget/ui/js_core/util/util.js"),r=e("wkcommon:widget/ui/js_core/mvp/template/template.js").template,l=/^(\S+)\s*([\s\S]*)$/,a=i.dom.create("div"),o=i.lang.createClass(function(e){e=e||{},i.lang.isElement(e.el)&&i.dom.getAttr(e.el,"data-options")&&(e=i.object.merge(e,i.json.parse(i.dom.getAttr(e.el,"data-options")))),this.options=e,i.object.extend(this,e),this._eventStack=[],this.cid=s.uniqueId("view__"),this._ensureElement(),i.lang.isElement(this.el)&&i.lang.isObject(this.elements)&&this.refreshElements(),i.lang.isElement(this.el)&&i.lang.isObject(this.events)&&this.delegateEvents()
}).extend({el:null,applyEl:null,tag:"div",elements:null,events:null,_viewPlugin:{format:i.string.format,template:r},_init:function(){},_ensureElement:function(){if(this.el)i.lang.isString(this.el)&&(this.el=i.dom.query(this.el)[0]);else{var e=this.attr||{};this.el=i.dom.create(this.tag,e)}},delegateEvents:function(e){var t=this;return e||(e=this.events)?(i.object.each(e,function(e,n){var r=n.match(l),a=r[1],o=r[2];""===o?i.on(t.el,a,i.fn.bind(t[e],t)):s.delegate(t.el,o,a,i.fn.bind(t[e],t)),t._addEventStack(t.el,a)
}),this):!1},_addEventStack:function(e,t){var n,r=s.domData,l=i.array.indexOf;(n=r.get(e,"__events"))||(n=[]),-1===l(n,t)&&(n.push(t),r.set(e,"__events",n),-1===l(this._eventStack,e)&&this._eventStack.push(e))},render:function(){return this},appendTo:function(){return this},refreshElements:function(e){var t,n,s=e||this.elements,r=[];for(t in s)s.hasOwnProperty(t)&&(n=s[t],r.push(this[n]=i.dom.query(t,this.el)));return r},renderView:function(e,t){return null===e.type?e.view:this._viewPlugin[e.type](e.view,t)
},unAllEvent:function(){var e=s.domData;return i.array.each(this._eventStack,function(t){var n=e.get(t,"__events");i.array.each(n,function(e){try{i.event.un(t,e)}catch(n){}}),e.remove(t)}),this._eventStack=[],this},unElementAllEvent:function(e){e=i.dom._g(e);for(var t,n,s,r=i.event._listeners,l=r.length;l--;)t=r[l],t[0]===e&&(n=t[4],s=t[3],e.removeEventListener?e.removeEventListener(n,s,!1):e.detachEvent&&e.detachEvent("on"+n,s),r.splice(l,1))},removeDom:function(e){if(!i.lang.isElement(e))return!1;
var t=s.domData;this.unElementAllEvent(e),t.remove(e),i.dom.remove(e),i.browser.ie&&i.browser.ie<9&&(a.appendChild(e),a.innerHTML=""),e=null},dispose:function(){this.fire("dispose");var e=s.domData;this.unAllEvent(),e.remove(this.el),i.dom.remove(this.el),i.browser.ie&&i.browser.ie<9&&(a.appendChild(this.el),a.innerHTML=""),i.lang.Class.prototype.dispose.call(this)}});n.exports.View=o});
;define("wkcommon:widget/ui/js_core/pager/pager.js",function(t,e,a){var _=t("wkcommon:widget/lib/tangram/base/base.js"),n=t("wkcommon:widget/ui/js_core/widget/widget.js").widget,r=t("wkcommon:widget/ui/js_core/util/util.js"),s=n({Options:{el:"",total:0,displayNumber:10,current:1,onclick:function(){}},template:{box:['<div class="ui-pager pager-center">','<div class="pager">','<div class="pager-inner">',"__PAGER_CONTENT__","</div>","</div>","</div>"].join(""),first:'<a href="###" data-pn="1" class="first pn-item" data-status="first" data-index="0">\u9996\u9875</a>',previous:'<a href="###" class="pre pn-item" data-pn="__PRE__" data-status="pre" data-index="__INDEX__">&lt;\u4e0a\u4e00\u9875</a>',current:'<span class="cur no__DIGIT__ pn-item" data-pn="__PN__" data-status="current" data-index="__INDEX__">__PN__</span>',next:'<a href="###" data-pn="__NEXT__" class="next pn-item" data-status="next" data-index="__INDEX__">\u4e0b\u4e00\u9875&gt;</a>',last:'<a href="###" class="last pn-item" data-pn="__PN__" data-status="last" data-index="__INDEX__">\u5c3e\u9875</a>',normal:'<a href="###" class="no__DIGIT__ pn-item" data-pn="__PN__" data-status="normal" data-index="__INDEX__">__PN__</a>'},_init:function(){this._action()
},_action:function(){var t=this;r.delegate(this.el,".pn-item","click",function(e){var a=_.event.getTarget(e),n=_.dom.getAttr;t.onclick(n(a,"data-pn"),n(a,"data-status"),n(a,"data-index")),_.event.preventDefault(e)})},_getHTML:function(t){var e,a=this.template,_=[],n=t.total,r=t.displayNumber,s=t.current,c=Math.ceil(r/2),p=1;if(r>n&&(r=n),1>=n||1>r)return a.box.replace("__PAGER_CONTENT__","");for(s>c&&n>r&&(_.push(a.first),p++),s>1&&_.push(a.previous.replace("__PRE__",s-1).replace("__INDEX__",p++)),e=+c+1>=s?1:+c+1>n-s?n-r+1:s-c+1,i=0;r>i;i++,e++)n>=e&&_.push(a[e==s?"current":"normal"].replace(/__PN__/g,e).replace("__DIGIT__",this._getDigit(e)).replace("__INDEX__",p++));
return s!=n&&(_.push(a.next.replace("__NEXT__",+s+1).replace("__INDEX__",p++)),e!=n&&n>r&&_.push(a.last.replace(/__PN__/g,n).replace("__INDEX__",p++))),a.box.replace("__PAGER_CONTENT__",_.join(""))},_getDigit:function(t){return t.toString().length},render:function(){return this},show:function(t){t=t||{},this.el.innerHTML=this._getHTML(r.mix(this.options,t,!0))}},{type:"pager"}),c=function(t){var e=new s(t);return e.render(),e.fire("onload"),e};a.exports.pagerCreate=c});
;define("wkcommon:widget/ui/js_core/qrcode/qrcode.js",function(t,e,r){var o;!function(){function t(t){this.mode=h.MODE_8BIT_BYTE,this.data=t}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var o=0;o<t.length-r;o++)this.num[o]=t[o+r]}function n(t,e){this.totalCount=t,this.dataCount=e
}function i(){this.buffer=[],this.length=0}function a(){return"undefined"!=typeof CanvasRenderingContext2D}function s(){var t=!1,e=navigator.userAgent;return/android/i.test(e)&&(t=!0,aMat=e.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(t=parseFloat(aMat[1]))),t}function u(t,e){for(var r=1,o=0,n=m.length;n>=o;o++){var i=0;switch(e){case l.L:i=m[o][0];break;case l.M:i=m[o][1];break;case l.Q:i=m[o][2];break;case l.H:i=m[o][3]}if(t.length<=i)break;r++}if(r>m.length)throw new Error("Too long data");
return r}t.prototype={getLength:function(){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},e.prototype={addData:function(e){var r=new t(e);this.dataList.push(r),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);
for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[o][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,r),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)
},setupPositionProbePattern:function(t,e){for(var r=-1;7>=r;r++)if(!(-1>=t+r||this.moduleCount<=t+r))for(var o=-1;7>=o;o++)-1>=e+o||this.moduleCount<=e+o||(this.modules[t+r][e+o]=r>=0&&6>=r&&(0==o||6==o)||o>=0&&6>=o&&(0==r||6==r)||r>=2&&4>=r&&o>=2&&4>=o?!0:!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;8>r;r++){this.makeImpl(!0,r);var o=f.getLostPoint(this);(0==r||t>o)&&(t=o,e=r)}return e},createMovieClip:function(t,e,r){var o=t.createEmptyMovieClip(e,r),n=1;this.make();for(var i=0;i<this.modules.length;i++)for(var a=i*n,s=0;s<this.modules[i].length;s++){var u=s*n,h=this.modules[i][s];
h&&(o.beginFill(0,100),o.moveTo(u,a),o.lineTo(u+n,a),o.lineTo(u+n,a+n),o.lineTo(u,a+n),o.endFill())}return o},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=f.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],n=t[r];if(null==this.modules[o][n])for(var i=-2;2>=i;i++)for(var a=-2;2>=a;a++)this.modules[o+i][n+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a?!0:!1
}},setupTypeNumber:function(t){for(var e=f.getBCHTypeNumber(this.typeNumber),r=0;18>r;r++){var o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(var r=0;18>r;r++){var o=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,o=f.getBCHTypeInfo(r),n=0;15>n;n++){var i=!t&&1==(o>>n&1);6>n?this.modules[n][8]=i:8>n?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(var n=0;15>n;n++){var i=!t&&1==(o>>n&1);
8>n?this.modules[8][this.moduleCount-n-1]=i:9>n?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,o=this.moduleCount-1,n=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;2>s;s++)if(null==this.modules[o][a-s]){var u=!1;i<t.length&&(u=1==(t[i]>>>n&1));var h=f.getMask(e,o,a-s);h&&(u=!u),this.modules[o][a-s]=u,n--,-1==n&&(i++,n=7)}if(o+=r,0>o||this.moduleCount<=o){o-=r,r=-r;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,r,o){for(var a=n.getRSBlocks(t,r),s=new i,u=0;u<o.length;u++){var h=o[u];
s.put(h.mode,4),s.put(h.getLength(),f.getLengthInBits(h.mode,t)),h.write(s)}for(var l=0,u=0;u<a.length;u++)l+=a[u].dataCount;if(s.getLengthInBits()>8*l)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*l+")");for(s.getLengthInBits()+4<=8*l&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;;){if(s.getLengthInBits()>=8*l)break;if(s.put(e.PAD0,8),s.getLengthInBits()>=8*l)break;s.put(e.PAD1,8)}return e.createBytes(s,a)},e.createBytes=function(t,e){for(var o=0,n=0,i=0,a=new Array(e.length),s=new Array(e.length),u=0;u<e.length;u++){var h=e[u].dataCount,l=e[u].totalCount-h;
n=Math.max(n,h),i=Math.max(i,l),a[u]=new Array(h);for(var g=0;g<a[u].length;g++)a[u][g]=255&t.buffer[g+o];o+=h;var c=f.getErrorCorrectPolynomial(l),d=new r(a[u],c.getLength()-1),m=d.mod(c);s[u]=new Array(c.getLength()-1);for(var g=0;g<s[u].length;g++){var p=g+m.getLength()-s[u].length;s[u][g]=p>=0?m.get(p):0}}for(var v=0,g=0;g<e.length;g++)v+=e[g].totalCount;for(var A=new Array(v),E=0,g=0;n>g;g++)for(var u=0;u<e.length;u++)g<a[u].length&&(A[E++]=a[u][g]);for(var g=0;i>g;g++)for(var u=0;u<e.length;u++)g<s[u].length&&(A[E++]=s[u][g]);
return A};for(var h={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},g={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;f.getBCHDigit(e)-f.getBCHDigit(f.G15)>=0;)e^=f.G15<<f.getBCHDigit(e)-f.getBCHDigit(f.G15);
return(t<<10|e)^f.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;f.getBCHDigit(e)-f.getBCHDigit(f.G18)>=0;)e^=f.G18<<f.getBCHDigit(e)-f.getBCHDigit(f.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return f.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case g.PATTERN000:return(e+r)%2==0;case g.PATTERN001:return e%2==0;case g.PATTERN010:return r%3==0;case g.PATTERN011:return(e+r)%3==0;case g.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;
case g.PATTERN101:return e*r%2+e*r%3==0;case g.PATTERN110:return(e*r%2+e*r%3)%2==0;case g.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),o=0;t>o;o++)e=e.multiply(new r([1,c.gexp(o)],0));return e},getLengthInBits:function(t,e){if(e>=1&&10>e)switch(t){case h.MODE_NUMBER:return 10;case h.MODE_ALPHA_NUM:return 9;case h.MODE_8BIT_BYTE:return 8;case h.MODE_KANJI:return 8;default:throw new Error("mode:"+t)
}else if(27>e)switch(t){case h.MODE_NUMBER:return 12;case h.MODE_ALPHA_NUM:return 11;case h.MODE_8BIT_BYTE:return 16;case h.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case h.MODE_NUMBER:return 14;case h.MODE_ALPHA_NUM:return 13;case h.MODE_8BIT_BYTE:return 16;case h.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,o=0;e>o;o++)for(var n=0;e>n;n++){for(var i=0,a=t.isDark(o,n),s=-1;1>=s;s++)if(!(0>o+s||o+s>=e))for(var u=-1;1>=u;u++)0>n+u||n+u>=e||(0!=s||0!=u)&&a==t.isDark(o+s,n+u)&&i++;
i>5&&(r+=3+i-5)}for(var o=0;e-1>o;o++)for(var n=0;e-1>n;n++){var h=0;t.isDark(o,n)&&h++,t.isDark(o+1,n)&&h++,t.isDark(o,n+1)&&h++,t.isDark(o+1,n+1)&&h++,(0==h||4==h)&&(r+=3)}for(var o=0;e>o;o++)for(var n=0;e-6>n;n++)t.isDark(o,n)&&!t.isDark(o,n+1)&&t.isDark(o,n+2)&&t.isDark(o,n+3)&&t.isDark(o,n+4)&&!t.isDark(o,n+5)&&t.isDark(o,n+6)&&(r+=40);for(var n=0;e>n;n++)for(var o=0;e-6>o;o++)t.isDark(o,n)&&!t.isDark(o+1,n)&&t.isDark(o+2,n)&&t.isDark(o+3,n)&&t.isDark(o+4,n)&&!t.isDark(o+5,n)&&t.isDark(o+6,n)&&(r+=40);
for(var l=0,n=0;e>n;n++)for(var o=0;e>o;o++)t.isDark(o,n)&&l++;var g=Math.abs(100*l/e/e-50)/5;return r+=10*g}},c={glog:function(t){if(1>t)throw new Error("glog("+t+")");return c.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return c.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},d=0;8>d;d++)c.EXP_TABLE[d]=1<<d;for(var d=8;256>d;d++)c.EXP_TABLE[d]=c.EXP_TABLE[d-4]^c.EXP_TABLE[d-5]^c.EXP_TABLE[d-6]^c.EXP_TABLE[d-8];for(var d=0;255>d;d++)c.LOG_TABLE[c.EXP_TABLE[d]]=d;
r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),o=0;o<this.getLength();o++)for(var n=0;n<t.getLength();n++)e[o+n]^=c.gexp(c.glog(this.get(o))+c.glog(t.get(n)));return new r(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=c.glog(this.get(0))-c.glog(t.get(0)),o=new Array(this.getLength()),n=0;n<this.getLength();n++)o[n]=this.get(n);for(var n=0;n<t.getLength();n++)o[n]^=c.gexp(c.glog(t.get(n))+e);
return new r(o,0).mod(t)}},n.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],n.getRSBlocks=function(t,e){var r=n.getRsBlockTable(t,e);
if(void 0==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=r.length/3,i=[],a=0;o>a;a++)for(var s=r[3*a+0],u=r[3*a+1],h=r[3*a+2],l=0;s>l;l++)i.push(new n(u,h));return i},n.getRsBlockTable=function(t,e){switch(e){case l.L:return n.RS_BLOCK_TABLE[4*(t-1)+0];case l.M:return n.RS_BLOCK_TABLE[4*(t-1)+1];case l.Q:return n.RS_BLOCK_TABLE[4*(t-1)+2];case l.H:return n.RS_BLOCK_TABLE[4*(t-1)+3];default:return void 0}},i.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)
},put:function(t,e){for(var r=0;e>r;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var m=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],p=a()?function(){function t(){n.src=o.toDataURL("image/png"),n.style.display="block",o.style.display="none"
}function e(t,e){if(i=e,a=t,null===h){var r=document.createElement("img"),o=function(){h=!1,i&&i()},n=function(){h=!0,a&&a()};return r.onabort=o,r.onerror=o,r.onload=n,void(r.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}h===!0&&a?a():h===!1&&i&&i()}var r=null,o=null,n=null,i=null,a=null,u=null,h=null,l=null,g=!1,f=s();if(f&&2.1>=f){var c=1/window.devicePixelRatio,d=CanvasRenderingContext2D.prototype.drawImage;
CanvasRenderingContext2D.prototype.drawImage=function(t,e,r,o,n,i,a,s){if("nodeName"in t&&/img/i.test(t.nodeName))for(var u=arguments.length-1;u>=1;u--)arguments[u]=arguments[u]*c;else"undefined"==typeof s&&(arguments[1]*=c,arguments[2]*=c,arguments[3]*=c,arguments[4]*=c);d.apply(this,arguments)}}var m=function(t,e){u=e,o=document.createElement("canvas"),o.width=e.width,o.height=e.height,t.appendChild(o),r=t,l=o.getContext("2d"),g=!1,n=document.createElement("img"),n.style.display="none",r.appendChild(n),h=null
};return m.prototype.draw=function(t){n.style.display="none";var e=t.getModuleCount(),r=u.width/e,o=u.height/e,i=Math.round(r),a=Math.round(o);this.clear();for(var s=0;e>s;s++)for(var h=0;e>h;h++){var f=t.isDark(s,h),c=h*r,d=s*o;l.strokeStyle=f?u.colorDark:u.colorLight,l.lineWidth=1,l.fillStyle=f?u.colorDark:u.colorLight,l.fillRect(c,d,r,o),l.strokeRect(Math.floor(c)+.5,Math.floor(d)+.5,i,a),l.strokeRect(Math.ceil(c)-.5,Math.ceil(d)-.5,i,a)}g=!0},m.prototype.makeImage=function(){g&&e(t)},m.prototype.isPainted=function(){return g
},m.prototype.clear=function(){l.clearRect(0,0,o.width,o.height),g=!1},m.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},m}():function(){var t=null,e=null,r=function(r,o){t=r,e=o};return r.prototype.draw=function(r){for(var o=r.getModuleCount(),n=Math.floor(e.width/o),i=Math.floor(e.height/o),a=['<table style="border:0;border-collapse:collapse;">'],s=0;o>s;s++){a.push("<tr>");for(var u=0;o>u;u++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+n+"px;height:"+i+"px;background-color:"+(r.isDark(s,u)?e.colorDark:e.colorLight)+';"></td>');
a.push("</tr>")}a.push("</table>"),t.innerHTML=a.join("");var h=t.childNodes[0],l=(e.width-h.offsetWidth)/2,g=(e.height-h.offsetHeight)/2;l>0&&g>0&&(h.style.margin=g+"px "+l+"px")},r.prototype.clear=function(){t.innerHTML=""},r}();o=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.H},"string"==typeof e&&(e={text:e}),e)for(var r in e)this._htOption[r]=e[r];"string"==typeof t&&(t=document.getElementById(t)),this._android=s(),this._el=t,this._oQRCode=null,this._oDrawing=new p(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)
},o.prototype.makeCode=function(t){this._oQRCode=new e(u(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._oDrawing.draw(this._oQRCode),this.makeImage()},o.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},o.prototype.clear=function(){this._oDrawing.clear()},o.CorrectLevel=l}(),r.exports=o});
;define("wkcommon:widget/ui/js_core/pgc_share/pgc_share.js",function(e,s,i){var a=e("wkcommon:widget/lib/tangram/base/base.js"),c=e("wkcommon:widget/lib/fis/data/data.js"),t=e("wkcommon:widget/ui/lib/jquery/jquery.js"),o=e("wkcommon:widget/ui/js_core/log/log.js"),r=e("wkcommon:widget/ui/js_core/qrcode/qrcode.js"),n=['<div class="pgc_share">','<span class="pgc_share_title">\u5206\u4eab\u5230</span>','<div class="bdsharebuttonbox">','<a class="wechart share" href="javascript:void(0);" ></a>','<a href="#" class="bds_qzone share" data-cmd="qzone" title="\u5206\u4eab\u5230QQ\u7a7a\u95f4"></a>','<a href="#" class="bds_tsina share" data-cmd="tsina" title="\u5206\u4eab\u5230\u65b0\u6d6a\u5fae\u535a"></a>','<a href="#" class="bds_renren share" data-cmd="renren" title="\u5206\u4eab\u5230\u4eba\u4eba\u7f51"></a>',"</div>",'<div class="pgc_msg">','<div class="pgc_inner">','<p class="pgc_notice_one">\u63d0\u793a\u5185\u5bb9\u63d0\u793a\u5185\u5bb9\u63d0</p>','<p class="pgc_notice_two">\u6269\u5927\u4f60\u7684\u5f71\u54cd\u529b\u6709\uff01</p>','<a href="javascript:void(0);" class="pgc_notice_ok">\u77e5\u9053\u4e86</a>',"</div>",'<span class="pgc_msg_pos share"></span>',"</div>",'<div class="pgc_qcode">','<div class="pgc_qcode_inner">','<div class="pgc_qcode_img" id="wechartqcode"></div>','<p class="pgc_qcode_text">\u626b\u63cf\u4e8c\u7ef4\u7801\uff0c\u5feb\u901f\u5206\u4eab\u5230\u5fae\u4fe1\u670b\u53cb\u5708</p>',"</div>",'<span class="pgc_qcode_pos share"></span>',"</div>","</div>","<script>","window._bd_share_config={",'"common":{','"bdSnsKey":{"tsina":2273341579, "tqq":801199444},','"bdText":"sharetext",','"bdMini":"2",','"bdMiniList":false,','"bdPic":"sharepic",','"bdStyle":"1",','"bdSize":"16"',"},",'"share":{},','"image":{','"viewList":["qzone","tsina","renren"],','"viewText":"\u5206\u4eab\u5230\uff1a",','"viewSize":"16"',"}","};",'with(document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date()/36e5)];',"</script>"].join(""),h=c.get("gpData"),p={createShare:function(){this.init(),this.getDom(),this.drawQcode(),this.showMsgPop(),this.closeMsgPop(),this.navHover()
},init:function(){if(h.isSelfPage)this.isSelfPage=!0,n=n.replace("sharetext","\u6211\u5728\u767e\u5ea6\u6587\u5e93\u8ba4\u8bc1\u7684\u5b98\u65b9\u4e2a\u4eba\u9875\uff0c\u628a\u5bb6\u5e95\u513f\u638f\u5e72\uff0c\u6587\u6863\u8d44\u6e90\u90fd\u653e\u4e0a\u53bb\u4e86\uff0c\u597d\u591a\u5e72\u8d27\uff0c\u6709\u5174\u8da3\u7684\u670b\u53cb\u8fc7\u6765\u81ea\u53d6\u5427\uff01~\u6587\u6863\u4e0b\u8f7d\u5730\u5740\uff1a");else{if(h.username)var e=h.tname;else if(h.orgname)var e=h.orgname;else var e="\u6587\u5e93\u7528\u6237";
n=n.replace("sharetext",e+"\u5728\u767e\u5ea6\u6587\u5e93\u7684\u5b98\u65b9\u4e3b\u9875\uff0c\u597d\u591a\u4e13\u4e1a\u8d44\u6599\uff0c\u63a8\u8350\u7ed9\u5927\u5bb6\u770b\u770b\uff01~\u597d\u8d44\u6e90\u4e0d\u5bb9\u9519\u8fc7\uff0c\u4e0b\u8f7d\u6587\u6863\u4e0d\u7528\u6101\uff01~ \u6587\u6863\u4e0b\u8f7d\u5730\u5740\uff1a")}h.username&&(this.pgc=!0,n=n.replace("sharepic","http://img.baidu.com/img/iknow/wenku/pgc_weibo2.jpg")),h.orgname&&(this.bgc=!0,n=n.replace("sharepic","http://img.baidu.com/img/iknow/wenku/bgc_weibo2.jpg"));
var s=t(window),i=(parseInt(s.width())-980)/2-70+"px";t("body").append(n),6===a.browser.ie?(t(".pgc_share").css({display:"block",position:"absolute",right:i,top:"350px"}),this.pageScroll()):t(".pgc_share").css({display:"block",right:i})},getDom:function(){this.shareBox=t(".pgc_share"),this.shareNav=t(".bdsharebuttonbox a"),this.msgPop=t(".pgc_msg"),this.parOne=t(".pgc_notice_one"),this.parTwo=t(".pgc_notice_two"),this.msgPopBtn=t(".pgc_notice_ok"),this.qcodePop=t(".pgc_qcode"),this.qcodeIner=t(".pgc_qcode_img")
},showMsgPop:function(){var e="",s="";if(this.isSelfPage){if(this.pgc)var i=a.cookie.get("selfpgcshare");if(this.bgc)var i=a.cookie.get("selfbgcshare")}else{if(this.pgc)var i=a.cookie.get("pgcshare");if(this.bgc)var i=a.cookie.get("bgcshare")}i||(h.isSelfPage?(e="\u628a\u9875\u9762\u5206\u4eab\u7ed9\u670b\u53cb\u4eec\uff0c",s="\u6269\u5927\u4f60\u7684\u5f71\u54cd\u529b\u5466\uff01"):(e="\u89c9\u5f97\u4ed6\u7684\u6587\u6863\u4e0d\u9519\u5427\uff0c",s="\u5206\u4eab\u7ed9\u670b\u53cb\u4eec\u4e0b\u8f7d\uff01~"),this.parOne.html(e),this.parTwo.html(s),this.msgPop.show())
},setCookie:function(){var e=new Date,s="",i=e.getDate();this.isSelfPage?(this.pgc&&(s="selfpgcshare"),this.bgc&&(s="selfbgcshare")):(this.pgc&&(s="pgcshare"),this.bgc&&(s="bgcshare")),a.cookie.set(s,i,{path:"/",expires:31536e6})},closeMsgPop:function(){var e=this;this.msgPopBtn.click(function(){e.setCookie(),e.msgPop.hide()})},navHover:function(){var e=this;this.shareNav.each(function(){var s=t(this),i=s.attr("class").split(" ")[0];s.click(function(){o.xsend(1,100221),"block"==e.msgPop.css("display")&&(e.setCookie(),e.msgPop.hide())
}),s.hover(function(){switch(s.css({opacity:1}),i){case"wechart":e.qcodePopDisplay("show");break;case"bds_tsina":break;case"bds_qzone":break;case"bds_renren":break;default:return!1}},function(){switch(i){case"wechart":e.qcodePopDisplay("hide");break;case"bds_tsina":break;case"bds_qzone":break;case"bds_renren":break;default:return!1}})})},drawQcode:function(){var e=location.href,s=document.getElementById("wechartqcode");new r(s,{text:e,width:89,height:89,colorDark:"#000000",colorLight:"#ffffff",correctLevel:r.CorrectLevel.L})
},qcodePopDisplay:function(e){"show"===e&&this.qcodePop.show(),"hide"===e&&this.qcodePop.hide()},pageScroll:function(){var e=this,s=t(window);s.scroll(function(){var i=s.scrollTop();e.shareBox.stop().animate({top:350+i},500)})}};i.exports.pgc_share=p});
;define("wkcommon:widget/ui/js_core/popmessage/popmessage.js",function(e,t,o){var s=e("wkcommon:widget/lib/tangram/base/base.js"),n=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,i=e("wkcommon:widget/ui/js_core/util/util.js"),r=e("wkcommon:widget/ui/js_core/layerControl/layerControl.js").layerControl,l=n({Options:{el:""},_init:function(){var e=this;i.mix(this,i.zIndexManger),e.timer=null,e.on("onload",function(){e.show(),e._addHack()}),e.on("onCloseBefore",function(){e._delHack()})},_fx:function(e,t,o){var s=Math[e-t>0?"floor":"ceil"],o=o||.1;
return function(){return[e+=s((t-e)*o),e-t]}},moveTo:function(e){clearInterval(this.timer);var t=this,o=parseInt(s.dom.getStyle(this.el,"bottom"),10)||0,n=this._fx(o,parseInt(e,10),this.factor),i=0;this.fire("onMoveToBefore"),this.timer=setInterval(function(){if(i=n(),t.el.style.bottom=i[1]+"px",0===+i[1]){clearInterval(t.timer);var e=t.fire("onMoveToAfter");e&&t._addHack()}},10)},getY:function(){var e=s.page.getScrollTop(),t=s.page.getViewHeight(),o=this.el?this.el.offsetHeight:0;return{bottom:e+t+o+"px",top:e+t-o+"px"}
},close:function(){this.fire("onCloseBefore"),this.hide(),this.fire("onCloseAfter")},_addHack:function(){this.el&&s.browser.ie&&s.browser.ie<7&&(this.el.style.cssText+=";top:expression(documentElement.scrollTop+documentElement.clientHeight-this.offsetHeight);",document.documentElement.style.cssText+=";background:url(about:blank) fixed;")},_delHack:function(){this.el&&s.browser.ie&&s.browser.ie<7&&(this.el.style.top="0px")}},{type:"popMessage",superClass:r}),a=n({Options:{el:"",orientation:"bottom",hdContent:"",bdContent:"",closeSelectors:".close",className:""},template:['<div class="mod #{className}">','<b class="top"><b class="tl"></b><b class="tr"></b></b>','<div class="inner">','<div class="hd">#{hdContent}</div>','<div class="bd">#{bdContent}</div>',"</div>",'<b class="top"><b class="tl"></b><b class="tr"></b></b>',"</div>"].join(""),_init:function(){var e=this;
e.hdElement=null,e.bdElement=null,e.styleId="style-"+e.type+"-"+s.lang.guid(),e.on("onload",function(){e._action(),e.hdElement=s.q("hd",e.el),e.bdElement=s.q("bd",e.el)}),e.on("onShowAfter",function(){e.moveTo(e.getY()[e.orientation])}),e.on("onCloseAfter",function(){e.dispose()}),e.on("ondispose",function(){var t=s.g(e.styleId);t&&s.dom.remove(t)})},_action:function(){var e=this;i.delegate(this.el,this.closeSelectors,"click",function(t){e.close(),s.event.stop(t)})},addStyle:function(e){return i.importCssString(e,this.styleId),this
},render:function(e){this.fire("onRenderBefore"),e=i.mix(this.options,e,!0);var t=s.string.format(this.template,e);return this.el=i.createDom(t),this.el.style.cssText="position:fixed;",s.browser.ie&&s.browser.ie<7&&(this.el.style.cssText+=";position:absolute"),document.body.appendChild(this.el),this.fire("onRenderAfter"),this}},{type:"popmessage",superClass:l}),c=function(e){window.disableCBGPop=!0;var t=new a(e);return t.render(),t.fire("onload"),t};o.exports.control=l,o.exports.popMessage=a,o.exports.popMessageCreate=c
});
;define("wkcommon:widget/ui/js_core/preload/preload.js",function(e,o,n){var a=e("wkcommon:widget/lib/tangram/base/base.js"),t=void 0!==document.documentElement.style.MozAppearance,r=function(e,o){var n=document.body;a.lang.isString(e)&&(e=[e]),a.array.each(e,function(e){var r;t?(r=document.createElement("object"),r.style.position="absolute",r.data=e):r=new Image,r.width=r.height=0,r.onerror=r.onload=function(){o(e),t&&a.dom.remove(r),r.onerror=r.onload=r=null},t?a.dom.ready(function(){n.appendChild(r)
}):r.src=e})};n.exports.preload=r});
;define("wkcommon:widget/ui/js_core/recommendation/recommendation.js",function(t,e,o){var n=t("wkcommon:widget/lib/tangram/base/base.js"),i=t("wkcommon:widget/ui/js_core/util/util.js"),r=t("wkcommon:widget/ui/js_core/mvp/template/template.js").template,s=t("wkcommon:widget/ui/js_core/widget/widget.js").widget,a=t("wkcommon:widget/ui/js_core/log/log.js"),c=t("wkcommon:widget/lib/fis/data/data.js"),u=function(t,e){var o={father_url:encodeURIComponent(location.href),refer:encodeURIComponent(document.referrer||"")};
e=e||{},a.send("general",t,i.mix(o,e))};o.exports.log=u;var d=s({Options:{el:"",container:document.body,page:"",template:"",onrequest:n.fn.blank,cookie:"recommendation",changeSelector:".dochange"},_init:function(){this.status=0,this.url="/rec/getrprec?from="+this.page,this.pn=this._getPn()||0,this.cnt=0,this.data={},this._getData()},_getData:function(){var t=this,e=this.url+"&r="+(this.cnt?"t":"f");this.status=1,n.ajax.request(e+"&t="+ +new Date,{method:"POST",onsuccess:function(e,o){var i;t.status=0;
try{i=n.json.parse(o),t.onrequest.call(t,i),i.status&&"0"==i.status.code&&t.render(i)}catch(r){console.log("JSON Parse Error!")}},onfailure:function(){t.status=0}})},_getPn:function(){return this.cookie===!1?0:n.cookie.get(this.cookie)},_setCookie:function(){return n.cookie.set(this.cookie,this.pn)},_formatData:function(t){var e,o,n,r=t.data.tag_list,s=t.data.doc_list,a=i.cutString,u=c.get("WkInfo").PageInfo.docTypeList;for(e=0,o=r.length;o>e;e+=1)r[e]={str:r[e],cutstr:a(r[e],6,"..."),search:"http://wenku.baidu.com/search?word="+r[e]};
for(e=0,o=s.length;o>e;e+=1)n=u[s[e].type],s[e].cuttitle=a(s[e].title,11,"..."),s[e].cover="http://retype.wenku.bdimg.com/img/"+s[e].store_id,s[e].url="http://wenku.baidu.com/view/"+s[e].doc_id+".html?rec_module=rprec&from_page="+this.page,s[e].ppt="ppt"===n[0],s[e].docType=n,s[e].index=e;return t},render:function(t){var e,o=(n.g,this.container);"undefined"==typeof t?e=this.content:this.content=e=r(this.template,this._formatData(t)),o&&(o.innerHTML=e,!this.cnt++&&this._bindEvent()),this.pn++,this.cookie!==!1&&this._setCookie()
},_bindEvent:function(){var t=this;i.delegate(this.container,this.changeSelector,"click",function(e){!t.status&&t._getData(),n.event.stop(e)})}});o.exports.recommendation=d;var m=function(t){return new d(t)};o.exports.recommendationCreate=m});
;define("wkcommon:widget/ui/js_core/rightCornerPop/rightCornerPop.js",function(e,t,a){var s=e("wkcommon:widget/lib/tangram/base/base.js"),o=e("wkcommon:widget/ui/js_core/popmessage/popmessage.js"),i=function(e){var t=['<span class="act">','    <a class="close-pop ir">&times;</a>',"</span>","#args{title}"].join(""),a=['<div class="event-#args{name}">',"    #args{html}","</div>"].join(""),i=[],n=[".#args{className}{width: #args{width}px;height:#args{height}px;right:5px;display:none;_text-align:left;}",".#args{className}-iframe{width:100%;height:9999px;position:absolute;background:#ccc;top:0px;left:0px;filter:alpha(opacity=0);opacity:0;}",".#args{className} .inner{background: #FAFAFA;border: 1px solid #BBD1C8;border-top: 5px solid #2F805D;box-shadow: 0 0 6px #666;padding: 10px 20px;}",".#args{className} .inner .hd{border-bottom: 1px solid #E5E5E5;height: 20px;margin-bottom: 3px;}",".#args{className} .close-pop{_position:relative;width: 16px;height: 16px;margin-right: -20px;margin-top: -10px;cursor:pointer;background: url(http://wenku.baidu.com/static/wkcommon/ui/css_core/ui/dialog/images/dialog_30c55ca2.png) no-repeat 0 0;}",".#args{className} .close-pop:hover{background-position: 0 -16px;}",".#args{className} .event-btn{text-align: center;margin-top:8px;}",".#args{className} .event-des{text-indent:28px;font-size:14px;}",".#args{className} .event-tip{color:#999;text-align:center;}"].join("\n");
return e.title=e.title||"",e.content=e.content||[],e.className=e.className||"rbc-pop",e.width=parseInt(e.width)||426,e.height=parseInt(e.height)||256,t=t.replace(/#args\{title\}/g,e.title?"<h3>"+e.title+"</h3>":""),s.each(e.content,function(e){i.push(a.replace(/#args\{name\}/g,e.name).replace(/#args\{html\}/g,e.html))}),i=i.join(""),n=n.replace(/#args\{className\}/g,e.className).replace(/#args\{width\}/g,e.width).replace(/#args\{height\}/g,e.height),o.popMessageCreate({closeSelectors:".close-pop",className:e.className,hdContent:t,orientation:"bottom",bdContent:i,onRenderAfter:function(){var e=this,t=document.createElement("iframe");
t.className=e.className+"-iframe",this.el.appendChild(t),e.addStyle(n)},onMoveToBefore:function(){var e=this;e.bringToFront(s.q("inner",e.el)[0]),setTimeout(function(){e.el.style.display="block"},20)}})},n=function(e,t,a){if(a||null===s.cookie.get(t)){var o=i(e),n=new Date,r=1;return n.setDate(n.getDate()+1),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),s.cookie.set(t,r,{path:"/",expires:n}),o}return null};a.exports.rbcPopCreate=i,a.exports.showPopEveryDay=n});
;define("wkcommon:widget/ui/js_core/scroll_fix/scroll_fix.js",function(o){var t=o("wkcommon:widget/ui/lib/jquery/jquery.js"),i=o("wkcommon:widget/ui/lib/browser/browser.js"),e={fixTop:0,fixOn:"auto"};t.fn.extend({scrollFix:function(o){var o=t.extend({},e,o);return this.each(function(){var e,s,n,r,c=t(this),f=!1;return 0==o.fixOn?void c.css({position:"fixed",top:o.fixTop}):(s="auto"==o.fixOn?+c.offset().top:+o.fixOn,e=6==i.ie?function(){var t=document.body.scrollTop||document.documentElement.scrollTop;
t>=s&&!f?(f=!0,n=c.css("position"),r=c.css("top"),c.css({position:"absolute"}),c[0].style.cssText+=";top:expression(documentElement.scrollTop+"+o.fixTop+");",c.trigger("onfixed",{target:c[0]})):s>t&&f&&(f=!1,c.css({position:n,top:r}),c.trigger("unfixed",{target:c[0]}))}:function(){var t=document.body.scrollTop||document.documentElement.scrollTop;t>=s&&!f?(f=!0,n=c.css("position"),r=c.css("top"),c.css({position:"fixed",top:o.fixTop}),c.trigger("onfixed",{target:c[0]})):s>t&&f&&(f=!1,c.css({position:n,top:r}),c.trigger("unfixed",{target:c[0]}))
},e(),void t(window).scroll(e))})}})});
;define("wkcommon:widget/ui/js_core/sethomepage/sethomepage.js",function(e){e.async(["wkcommon:widget/ui/lib/jquery/jquery.js","wkcommon:widget/ui/js_core/dialog/dialog.js","wkcommon:widget/lib/fis/data/data.js","wkcommon:widget/ui/js_core/log/log.js"],function(e,o,t,i){var n={cookieName:"bd_wk_setHomePage_click",setInUserHome:function(e){if(document.all)try{return document.body.style.behavior="url(#default#homepage)",document.body.setHomePage(e),!0}catch(o){return!1}},setCookie:function(){var e=this;
T.cookie.set(e.cookieName,1,{path:"/",expires:2592e6})},pop:function(){var t=this;o.dialogCreate().confirm({title:"\u4e3b\u9875\u8bbe\u7f6e",btnText:["\u786e\u8ba4","\u53d6\u6d88"],content:'<p class="text">\u662f\u5426\u5c06\u767e\u5ea6\u6587\u5e93\u8bbe\u7f6e\u4e3a\u4e3b\u9875\uff1f<br/><em>http://wenku.baidu.com/</em></p>',height:240,width:470,className:"sethomepage-dialog",onOk:function(){T.dom.hide(T.dom.g("WkDialogWrap")),t.setCookie(),t.setInUserHome("http://wenku.baidu.com/?fr=swsy"),i.xsend(1,100543)
},onCancel:function(){T.dom.hide(T.dom.g("WkDialogWrap")),t.setCookie()},onClosed:function(){T.dom.hide(T.dom.g("WkDialogWrap")),t.setCookie()}});var n=e("#WkDialogWrap");n.find(".ui-btn").removeClass("ui-btn-26-green ui-btn-26-light").find(".btText").removeClass("btText").addClass("ui-bz-btn-p-16 ui-bz-btc")},init:function(){T.browser.ie&&!T.cookie.get(this.cookieName)&&(this.pop(),i.xsend(1,100542))}};n.init()})});
;define("wkcommon:widget/ui/js_core/slide/slide.js",function(i,t,a){function s(i){this.defaultConfig={el:"banner",playSpeed:5e3,playType:"opacity",playNavClass:"play-nav",customPlayMethod:null},this.config=e.extend(!0,this.defaultConfig,i||{}),this.init.call(this)}var e=i("wkcommon:widget/ui/lib/jquery/jquery.js");s.prototype={init:function(){this._cache(),this._dynCalSize(),this._autoPlay(),this._initEvent()},_initEvent:function(){var i=this;e(this.imgUl).on("mouseover",e.proxy(this.stopPlay,this)),e(this.imgUl).on("mouseout",e.proxy(this._autoPlay,this)),this.navUl.delegate("li","mouseover",function(){var t=e(this),a=t.attr("data-idx");
i.nowPage!=a&&(i.stopPlay(),i.lastPage=i.nowPage,i.nowPage=a,i._play())})},stopPlay:function(){this.autoPlayTimer&&(clearInterval(this.autoPlayTimer),this.autoPlayTimer=null)},_autoPlay:function(){var i=this,t=this.config;i.stopPlay(),this.autoPlayTimer=setInterval(function(){i.next()},t.playSpeed)},_cache:function(){var i=this.config,t=null;i.el="string"===e.type(i.el)?e("#"+i.el):i.el,t=i.el.children("ul"),this.imgUl=t[0],this.imgList=e(this.imgUl).children("li"),this.totalPage=this.imgList.length,this.nowPage=1,this.lastPage=null,this.autoPlayTimer=null,t.length<2&&this._createNavUl()
},_dynCalSize:function(){var i=this.config,t=i.playType,a=e(this.imgUl),s=e(this.imgList[0]);"horizontal"===t&&(this.liWidth=s.width(),a.css("width",this.liWidth*this.totalPage)),"vertical"===t&&(this.liHeight=s.height(),a.css("height",this.liHeight*this.totalPage))},_createNavUl:function(){for(var i=this.config,t="",a=0;a<this.totalPage;a++){var s=a+1;t+='<li data-idx="'+s+'"><a href="javascript:void(0);">'+s+"</a></li>"}t='<ul class="'+i.playNavClass+'">'+t+"</ul>",this.navUl=e(t),this.navList=this.navUl.children("li"),i.el.append(this.navUl),e(this.navList[0]).addClass("cur")
},next:function(){this.config;this.lastPage=this.nowPage,this.nowPage++,this.nowPage>this.totalPage&&(this.nowPage=1,e(this).trigger("onPlayLast")),this._play()},pre:function(){this.config;this.lastPage=this.nowPage,this.nowPage--,this.nowPage<1&&(this.nowPage=this.totalPage,e(this).trigger("onPlayFirst")),this._play()},_play:function(){var i=this,t=this.config,a=e(this.imgList[this.nowPage-1]).find("img");if(e(this).trigger({type:"onSwitchBefore",curImg:a}),e.isFunction(t.customPlayMethod))t.customPlayMethod.call(i);
else switch(t.playType){case"base":i._basePlay();break;case"opacity":i._opacityPlay();break;case"vertical":i._verticalPlay();break;case"horizontal":i._horizontalPlay();break;default:i._basePlay()}i._focusNav(),e(this).trigger({type:"onSwitchAfter",curImg:a})},_basePlay:function(){var i=(this.config,this.imgList);i.each(function(){e(this).hide()}),e(i[this.nowPage-1]).show()},_opacityPlay:function(){var i=this,t=(this.config,this.imgList),a=e(t[i.nowPage-1]);a.css("opacity",1),t.each(function(s){var n=e(t[s]);
n.stop(),s!==i.nowPage-1&&n.animate({opacity:0},"normal","swing",function(){a.css("zIndex",9),n.css("zIndex",1)})})},_horizontalPlay:function(){var i=(this.config,this.nowPage),t=e(this.imgUl),a=-(this.liWidth*(i-1));t.stop(),t.animate({left:a})},_verticalPlay:function(){var i=(this.config,this.nowPage),t=e(this.imgUl),a=-(this.liHeight*(i-1));t.stop(),t.animate({top:a})},_focusNav:function(){var i=(this.config,this.navList);i.each(function(){e(this).removeClass("cur")}),e(i[this.nowPage-1]).addClass("cur")
}},a.exports.slide=s});
;define("wkcommon:widget/ui/js_core/subjectSelector/subjectSelector.js",function(t,i,e){var s=t("wkcommon:widget/lib/tangram/base/base.js"),a=t("wkcommon:widget/ui/js_core/dialog/dialog.js"),o=t("wkcommon:widget/ui/js_core/category/category.js"),n=t("wkcommon:widget/ui/js_core/util/util.js"),d=function(){this.innerHTML="<div id='courseList'><h3>\u60a8\u5df2\u7ecf\u9009\u62e9\u4ee5\u4e0b\u79d1\u76ee\u4e0e\u5e74\u7ea7</h3><ul><li class='header'>\u5df2\u9009\u62e9\u7684\u79d1\u76ee<b>\u64cd\u4f5c</b></li></ul></div>",this.datas={size:0}
};d.prototype={add:function(t,i){if((i||this.datas.size!==this.max&&void 0==this.datas[t.id])&&0!=t.id[1]&&0!=t[2]){var e=document.createElement("li");e.innerHTML=t.title+"<a href='#' class='del'>X</a>",e.id=t.id,this.el.appendChild(e),this.datas[t.id]=t.title,++this.datas.size===this.max&&(this.addButton.className="bt ui-btn ui-btn-26-disabled")}},remove:function(t){this.el.removeChild(t),this.datas[t.id]=void 0,this.datas.size--,this.addButton.className="bt ui-btn ui-btn-26-green pop_btn_short"
},init:function(){this.datas.size=0;for(var t in this.datas)"size"!==t&&null!=this.datas[t]&&this.add({id:t,title:this.datas[t]},!0)},getData:function(){var t={},i=!0;for(var e in this.datas)"size"!==e&&this.datas[e]&&(t[e]=this.datas[e],i=!1);return i?(alert("\u8bf7\u9009\u62e9\u4e00\u4e2a\u79d1\u76ee\u4e0e\u5e74\u7ea7"),!1):t}};var r=function(t,i){this.items=new d,this.items.max=i||1,this.addButton='<span class="add_btn_short"><a id="addButton" class="pop_btn_short bt ui-btn ui-btn-26-green"><b class="btc"><b class="btText">\u6dfb\u52a0</b></b></a>                     <br/><span id="categorytips">\u8bf7\u9009\u62e9'+this.items.max+"\u4e2a\u79d1\u76ee\u4e0e\u5e74\u7ea7</span></span>",this.dialog=a.dialogCreate(),this.callback=t,this.items.max=i||1
};r.prototype={render:function(){return this.el&&s.g("category-selector")?s.dom.show(this.el):(this._initDialog(),this._initCategory(),this._bindEvents(),void this.items.init())},_initDialog:function(){var t=this.callback,i=this.items;this.dialog.confirm({title:"\u9009\u62e9\u79d1\u76ee\u4e0e\u5e74\u7ea7",content:this.items.innerHTML+"<div id='category-selector'><div id='WkDialogCon-category'></div>"+this.addButton+"</div>",width:600,height:440,onOk:function(){var e=i.getData();return e?(s.dom.hide(s.dom.g("WkDialogWrap")),t(e)):e
}})},_initCategory:function(){this.category=o.categoryCreate({el:"WkDialogCon-category",defaults:[1,1001,10001],limitLevel:0,maxLevel:4,dataUrl:"http://static.wenku.bdimg.com/static/wkcommon/asets/lec_classlevel.js",isDefaultSelect:!0})},_bindEvents:function(){var t=s.dom.g("WkDialogWrap"),i=this.items,e=this.category;i.el=s.dom.query("#courseList ul")[0],i.parentNode=t,i.addButton=s.dom.query(".pop_btn_short",t)[0],n.delegate(t,".pop_btn_short","click",function(){var t={};return t.id=e.getCategory().slice(0,3),0==t.id[1]||0==t.id[2]?alert("\u8bf7\u5177\u4f53\u7684\u5230\u79d1\u76ee"):(t.title=e.getCategoryText().join(">"),void i.add(t))
}),n.delegate(t,".del","click",function(t){i.remove(this.parentNode),s.event.stopPropagation(t),s.event.preventDefault(t)}),this.el=t}},e.exports.subjectSelector=r});
;define("wkcommon:widget/ui/js_core/tabs/tabs.js",function(e,t,n){var o=e("wkcommon:widget/lib/tangram/base/base.js"),a=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,i=a({Options:{el:"",bindEvent:"mouseover",onClassName:"current",unClassName:"disabled",controlClassName:"tabControl",controlChildTag:"li",contentClassName:"tabContent",contentChildTag:"li",delay:0,selectIndex:0},_init:function(){var e=this;e.actime=null,e.on("onload",function(){o.lang.isString(e.el)&&(e.el=o.g(el)),e.hdElement=o.dom.query("."+e.controlClassName+">"+e.controlChildTag,e.el),e.bdElement=o.dom.query("."+e.contentClassName+">"+e.contentChildTag,e.el),e._action().gotoIndex(e.selectIndex)
})},_change:function(e){var t=this;return t.fire("onBeforeAction"),o.array.each(this.bdElement,function(n,o){var a=t.hdElement[o];e===o?(t.fire("onBeforeCurrent",{hdElement:a,bdElement:n}),t._current(n,a),t.fire("onAfterCurrent",{hdElement:a,bdElement:n})):(t.fire("onBeforeDisabled",{hdElement:a,bdElement:n}),t._disable(n,a),t.fire("onAfterDisabled",{hdElement:a,bdElement:n}))}),t.fire("onAfterAction"),this},_action:function(){var e=this;return o.array.each(this.hdElement,function(t,n){o.event.on(t,e.bindEvent,function(t){clearTimeout(e.actime),e.delay>0?e.actime=setTimeout(o.fn.bind(e._change,e,n),e.delay):e._change(n),o.event.stop(t)
}),o.event.on(t,"mouseout",function(){clearTimeout(e.actime)})}),this},_current:function(e,t){return o.dom.removeClass(e,"disabled current"),o.dom.addClass(e,"current"),o.dom.removeClass(t,"disabled current"),o.dom.addClass(t,"current"),this},_disable:function(e,t){return o.dom.removeClass(e,"disabled current"),o.dom.addClass(e,"disabled"),o.dom.removeClass(t,"disabled current"),o.dom.addClass(t,"disabled"),this},gotoIndex:function(e){return this.hdElement[e]&&this._change(e),this}},{type:"tabs"}),r=function(e){var t=new i(e);
return t.fire("onload"),t};n.exports.tabs=i,n.exports.tabsCreate=r});
;define("wkcommon:widget/ui/js_core/tips/tips.js",function(e,t,i){var o=e("wkcommon:widget/lib/tangram/base/base.js"),s=e("wkcommon:widget/ui/js_core/widget/widget.js").widget,n=e("wkcommon:widget/ui/js_core/util/util.js"),r=e("wkcommon:widget/ui/js_core/layerControl/layerControl.js").layerControl,l=s({Options:{el:"",applyEl:"",closeSelectors:".close",className:"",content:""},template:'<div class="tips #{className}">#{content}</div>',_init:function(){var e=this;n.mix(this,n.zIndexManager),e.styleId="style-"+e.type+"-"+o.lang.guid(),e.on("onload",function(){e._action()
}),e.on("ondispose",function(){o.dom.remove(e.styleId)})},close:function(){this.fire("onCloseBefore"),this.hide(),this.fire("onCloseAfter")},_action:function(){var e=this;n.delegate(this.el,this.closeSelectors,"click",function(t){e.close(),o.event.stop(t)})},addStyle:function(e){return n.importCssString(e,this.styleId),this},render:function(e){this.fire("onRenderBefore"),e=n.mix(this.options,e,!0);var t=o.string.format(this.template,data),i=o.lang.isElement(this.applyEl)?this.applyEl:document.body;
return this.el=n.createDom(t),i.appendChild(this.el),this.fire("onRenderAfter"),this}},{type:"tips",superClass:r}),a=function(e){var t=new l(e);return t.fire("onload"),t};i.exports.tips=l,i.exports.tipsCreate=a});
;define("wkcommon:widget/ui/js_core/toolkit/toolkit.js",function(e,r,t){var s=(e("wkcommon:widget/ui/lib/jquery/jquery.js"),function(e,r){for(var t=0,s=[],a=e.split(""),n=0;n<a.length;n++){if(a[n].charCodeAt(0)<299?t++:t+=2,!(r>t))return s=s.join("")+"...";s.push(a[n])}return s=s.join("")});t.exports.getSubstr=s;var a=function(e,r){var t=[],s=new Date(parseInt(e)),a=s.getFullYear()+"",n=s.getMonth()+1+"",u=s.getDate()+"",c=s.getHours()+"",o=s.getMinutes()+"",p=s.getSeconds()+"",h=r.match(/\/|:|-|\s/)[0];
r=r.split(/\/|:|-/);for(var i=0;i<r.length;i++)switch(r[i]){case"YYYY":a=a.toString(),t.push(a);break;case"YY":a=a.toString().substring(2),t.push(a);break;case"MM":n=n.length<2?"0"+n:n,t.push(n);break;case"M":t.push(n);break;case"DD":u=u.length<2?"0"+u:u,t.push(u);break;case"D":t.push(u);break;case"hh":c=c.length<2?"0"+c:c,t.push(c);break;case"h":t.push(c);break;case"mm":o=o.length<2?"0"+o:o,t.push(o);break;case"m":t.push(o);break;case"ss":p=p.length<2?"0"+p:p,t.push(p);break;case"s":t.push(p)}return t.join(h)
};t.exports.formatDate=a;var n=function(e){switch(e){case"0":return"none";case"1":return"doc";case"2":return"xls";case"3":return"ppt";case"4":return"doc";case"5":return"xls";case"6":return"ppt";case"7":return"pdf";case"8":return"txt";case"9":return"wps";case"10":return"et";case"11":return"dps";case"12":return"vsd";case"13":return"rtf";case"14":return"pot";case"15":return"pps";case"16":return"epub";case"17":return"html";case"18":return"pack"}};t.exports.getDocType=n});
;define("wkcommon:widget/ui/js_core/tree/tree.js",function(t,e,i){var s=t("wkcommon:widget/lib/tangram/base/base.js"),o=t("wkcommon:widget/ui/js_core/util/util.js"),r=o.createDom,n=n||{};void function(t){function e(t,e){if(t=s.g(t),e=s.g(e),t==e)return!0;var i;return d(e,function(e){return t==e?(i=!1,!1):void 0}),i}function i(t,e){t=s.g(t),t&&(t.removeAttribute("id"),t.parentNode.insertBefore(r(e,!0),t),t.parentNode.removeChild(t))}function o(t,e){t=s.g(t),t&&t.appendChild(r(e,!0))}function n(t,e){t=s.g(t),t&&t.insertBefore(r(e,!0),t.firstChild)
}function h(t,e,i){if(t=s.g(t),t&&t.getAttribute&&t.setAttribute){var o=t.getAttribute(e);if(o){for(var r=o.indexOf(i);r>=0;){if(/^\s*$/.test(o.charAt(r-1)+o.charAt(r+i.length)))return;r=o.indexOf(i,r+1)}o+=" "+i}else o=i;t.setAttribute(e,o)}}function d(t,e){if(t=s.g(t),t&&e)for(;t&&!/^html$/i.test(t.tagName);){if(0==e(t))return;t=t.parentNode}}function a(t,e){this.parentNode=t,this.tree=t.tree,this.layer=t.layer+1,this.id=e[this.tree.fieldIdentifier],/^u/.test(this.id)&&(this.id="_guid_"+N++),this.did=[this.tree.didPrefix,this.tree.handler,this.id].join("-"),this.cid=[this.tree.didPrefix,this.tree.handler,this.id,"childs"].join("-"),y[this.did]=this,this.data=e,this.status={},this.childNodes=[],this.tree.oncreated&&this.tree.oncreated(this)
}function l(t){t=t||{};for(var e in g)!(e in t)&&(t[e]=g[e]);for(var e in t)this[e]=t[e];this.tree=this,this.layer=0,this.index=0,this.handler=v++,this.childNodes=[],this.focusDid="",this.cid=this.parent,h(this.parent,"data-handler",this.handler),this.oninit&&this.oninit(this)}function c(t){var e;return t=s.g(t),d(t,function(t){var i=y[t.id];return i?(e=i,!1):void 0}),e}var p={remove:function(t){t=s.g(t),t&&t.parentNode.removeChild(t)},each:function(t,e){if(t&&e)for(var i=0;i<t.length&&e(t[i],i)!==!1;i++);}},u=0,f={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};
f.optgroup=f.option,f.tbody=f.tfoot=f.colgroup=f.caption=f.thead,f.th=f.td;var y={},v=0,N=0;a.prototype.remove=function(t){if(this.tree.focusDid==this.did&&(this.tree.focusDid=""),this.removeAll(!0),delete y[this.did],!t){this.parentNode.childNodes=[].concat(this.parentNode.childNodes.slice(0,this.index),this.parentNode.childNodes.slice(this.index+1));for(var i=this.index;i<this.parentNode.childNodes.length;i++)this.parentNode.childNodes[i].index=i;this.tree.onsort?this.parentNode.refresh():(!e(this.did,this.cid)&&p.remove(this.cid),p.remove(this.did))
}},a.prototype.appendChild=function(t,e){if(t){"undefined"==typeof e&&(e=!0);var s=new a(this,t);return s.index=this.childNodes.length,this.childNodes.push(s),e&&s.loadChilds(t[this.tree.fieldChilds],!0),this.tree.onsort?(this.childNodes.sort(this.tree.onsort),i(this.did,this.reader())):o(this.cid,s.reader()),s}},a.prototype.insertChild=function(t,e){if(this.tree.onsort)return this.appendChild(t,e);if(t){"undefined"==typeof e&&(e=!0);var i=new a(this,t);this.childNodes.unshift(i);for(var s=0;s<this.childNodes.length;s++)this.childNodes[s].index=s;
return e&&i.loadChilds(t[this.tree.fieldChilds],!0),n(this.cid,i.reader()),i}},a.prototype.appendChilds=function(t,e){if(t){"undefined"==typeof e&&(e=!0);var i=this,s=[];if(p.each(t,function(t){var o=new a(i,t);s.push(o),o.index=i.childNodes.length,i.childNodes.push(o),e&&o.loadChilds(t[i.tree.fieldChilds],!0)}),this.tree.onsort)this.tree.onsort&&this.childNodes.sort(this.tree.onsort),this.refresh();else{var r=[];p.each(s,function(t){r.push(t.reader())}),o(this.cid,r.join(""))}return s}},a.prototype.sort=function(t,e){if(this.tree.onsort){this.childNodes.sort(this.tree.onsort);
var i;return p.each(this.childNodes,function(e,s){e.index!=s&&(e.index=s,i=!0),t&&e.sort(!0,!0)&&(i=!0)}),i&&!e&&this.refresh(),i}},a.prototype.updateData=function(t,e){if(t){var i=!1;for(var s in t)this.data[s]!==t[s]&&(this.data[s]=t[s],i=!0);e&&this.loadChilds(t[this.tree.fieldChilds],!0),(i||e)&&(this.tree.onsort&&this.parentNode.childNodes.sort(this.tree.onsort),this.parentNode.refresh())}},a.prototype.reader=function(){if(!this.tree.onreader)return"";var t=[];if(p.each(this.childNodes,function(e){t.push(e.reader())
}),this==this.tree)return t.join("");var e=this;return this.tree.onreader(this).replace(/(^\s*<\w+)([^>]*>)([\s\S]*$)/,function(i,s,o,r){return r=r.replace(/(<\w+\b[^>]*)(\bdata-type="childs"[^>]*>)(\s*<\/\w+>)/,function(i,s,o,r){return[s,' id="',e.cid,'"',o,t.join(""),r].join("")}),[s,' id="',e.did,'"',o,r].join("")})},a.prototype.removeAll=function(t){p.each(this.childNodes,function(t){t.remove(!0)}),this.childNodes=[],t||this.refresh()},a.prototype.loadChilds=function(t,e){if((0!=this.childNodes.length||!t||0!=t.length)&&(this.removeAll(!0),t)){var i=this;
p.each(t,function(t){var e=new a(i,t);i.childNodes.push(e),e.loadChilds(t[i.tree.fieldChilds],!0)}),this.tree.onsort&&this.childNodes.sort(this.tree.onsort),p.each(this.childNodes,function(t,e){t.index=e}),!e&&this.refresh()}},a.prototype.each=function(t){var e;return t&&p.each(this.childNodes,function(i){return result=t(i)||i.each(t),e===!1?e:void 0}),e},a.prototype.setStatus=function(t,e,i){t&&this.status[t]!=e&&(this.status[t]=e,i||this.refresh())},a.prototype.getStatus=function(t){return this.status[t]
},a.prototype.getClasses=function(t){var e=[];for(var i in this.status)this.tree.statusClasses.test(i)&&(!this.status[i]||t&&!this.tree.childsClasses.test(i)||e.push(i));return e.join(" ")},a.prototype.refresh=function(){if(this!=this.tree)!e(this.did,this.cid)&&p.remove(this.cid),i(this.did,this.reader());else if(u&&/^(col|colgroup|frameset|table|tbody|tfoot|thead|title|tr)$/i.test(this.parent.tagName)){for(var t=this.parent.childNodes.length-1;t>=0;t--)/^(tr|th)$/i.test(this.parent.childNodes[t].tagName)&&this.parent.removeChild(this.parent.childNodes[t]);
this.parent.appendChild(r(a.prototype.reader.call(this),!0))}else this.parent.innerHTML=a.prototype.reader.call(this)},a.prototype.expand=function(){this.setStatus("expand",!0)},a.prototype.collapse=function(){this.setStatus("expand",!1)},a.prototype.toggle=function(){this.setStatus("expand",!this.getStatus("expand"))},a.prototype.nextNode=function(){return this.childNodes.length&&this.getStatus("expand")?this.childNodes[0]:this.parentNode.childNodes[this.index+1]},a.prototype.previousNode=function(){if(!this.index){if(this.parentNode==this.tree)return;
return this.parentNode}return this.parentNode.childNodes[this.index-1]},a.prototype.focus=function(t){this.tree.setFocused(this,t)},a.prototype.element=function(){return s.g(this.did)},a.prototype.childsElement=function(){return s.g(this.cid)};var g={didPrefix:"node",fieldIdentifier:"id",fieldChilds:"nodes",statusClasses:/^(focus|hover|select|expand)$/,childsClasses:/^(expand)$/};l.prototype.loadChilds=function(t,e){0==this.childNodes.length&&t&&0==t.length||(e&&this.saveStatus(),a.prototype.loadChilds.call(this,t,!0),e&&this.restoreStatus(),this.refresh())
},l.prototype.insertChild=function(t,e){return a.prototype.insertChild.call(this,t,e)},l.prototype.appendChild=function(t,e){return a.prototype.appendChild.call(this,t,e)},l.prototype.appendChilds=function(t,e){return a.prototype.appendChilds.call(this,t,e)},l.prototype.updateData=function(t,e){if(t){var i=this.node4data(t);return i&&i.updateData(t,e),i}},l.prototype.sort=function(t){if(/^f/.test(typeof t)){var e=this.onsort;this.onsort=t,a.prototype.sort.call(this,!0,!1),this.onsort=e}else a.prototype.sort.call(this,t||/^u/.test(typeof t),!1)
},l.prototype.refresh=function(){a.prototype.refresh.call(this)},l.prototype.removeAll=function(){this.childNodes.length&&(a.prototype.removeAll.call(this),this.refresh())},l.prototype.removeNode=function(t){if(t){var e=this.node4data(t);e&&e.remove()}},l.prototype.setFocused=function(t,e){if(t){var i=this.node4data(t);if(i&&i.did!=this.focusDid){var o=y[this.focusDid];if(o&&o.setStatus("focus",!1),i.setStatus("focus",!0),e){var r=s.g(i.did);r&&r.scrollIntoView(1==e)}this.focusDid=i.did,this.onfocus&&this.onfocus(i)
}}},l.prototype.getFocused=function(){return y[this.focusDid]},l.prototype.node4data=function(t){if(t){if(t instanceof a&&t.tree==this)return t;var e="string"==typeof t?t:t[this.fieldIdentifier],i=[this.didPrefix,this.handler,e].join("-");return y[i]?y[i]:void 0}},l.prototype.node4target=function(t){var e=c(t);if(e&&e.tree==this)return e},l.prototype.each=function(t){return a.prototype.each.call(this,t)},l.prototype.saveStatus=function(){var t={};this.status=t,this.each(function(e){t[e.did]=e.status
})},l.prototype.restoreStatus=function(){if(this.status){var t=this.status;this.each(function(e){e.did in t&&(e.status=t[e.did])}),this.status=null}},t.create=function(t){return new l(t)},t.node4target=c}(n),i.exports.Tree=n});
;define("wkcommon:widget/ui/js_core/upload/upload.js",function(t,l,e){var i=t("wkcommon:widget/lib/tangram/base/base.js"),a=t("wkcommon:widget/ui/js_core/widget/widget.js").widget,o=t("wkcommon:widget/ui/js_core/util/util.js"),s=t("wkcommon:widget/ui/flashFactory/flashFactory.js").BiguploaderApi,n={UPLOAD_TYPE_FLASH:"flash",UPLOAD_TYPE_HTML5:"html5",FILE_STATE_INIT:"init",FILE_STATE_INITED:"getided",FILE_STATE_UPLOADING:"uploding",FILE_STATE_UPLOAD_ERROR:"uploadFail",FILE_STATE_CANCEL_ERROR:"cancel",FILE_STATE_REPEAT_ERROR:"repeat",FILE_STATE_TYPE_ERROR:"typeError",FILE_STATE_SIZE_ERROR:"fileSizeFail",FILE_STATE_COUNT_ERROR:"countError",FILE_STATE_UPLOADED_OK:"0",FILE_STATE_UPLOADED_REPEAT_USER_PUBLIC:"1",FILE_STATE_UPLOADED_REPEAT_USER_CONVERTING:"2",FILE_STATE_UPLOADED_REPEAT_OTHER_PUBLIC:"3",FILE_STATE_UPLOADED_SIMILARITY_USER:"4",FILE_STATE_UPLOADED_SIMILARITY_OTHER:"5"},r=[1],d=function(){return{guid:"",fileId:"",fileName:"",fileSize:0,fileType:0,uploadType:"",uploadProgress:0,state:"",isFold:!1,htmlFileObj:null,uploadResult:null}
},_=a({Options:{el:"",dropEl:null,isEnableHtml5Upload:!1,maxFileSize:10,maxFileCount:10,allowFlashUploadType:"MS word\u6587\u6863[*.doc;*.docx;]|MS ppt\u6587\u6863[*.ppt;*.pptx;*.pps;*.pot;]|MS xls\u6587\u6863[*.xls;*.xlsx]|MS \u6269\u5c55[*.vsd;*.rtf;]|WPS \u7cfb\u5217[*.wps;*.et;*.dps;]|PDF[*.pdf]|\u7eaf\u6587\u672c[*.txt]|EPUB[*.epub]",allowHtml5UploadType:"doc|docx|ppt|pptx|pps|pot|xls|xlsx|vsd|rtf|wps|et|dps|pdf|txt|epub",uploadUrl:"/upload",deleteUrl:"/submit",flashId:"WKFlashUploader",flashUrl:s,bottonStyle:0,smart:"",bduss:"",bgColor:"#FD9526",checkRepeat:!0,checkCount:!0,width:"100%",height:"100%",firstSkinID:0,modDocId:"",skinArr:"/static/core/assets/btn_flash_upload.png",flashUploadType:"doc",progressDelayTime:500,clickUploadCallback:null,cancelSelectFileCallback:null,initFileListCallback:null,uploadSuccessCallback:null,uploadErrorCallback:null,uploadProgressCallback:null,dragenterCallback:null,dragleaveCallback:null,dragoverCallback:null,dropCallback:null,allowCancelAjax:!0,allowDirectReUpload:!1},_initProperties:function(){var t=this;
this._flash=null,this._perfix="WK_FLASH_UPLOAD_"+i.lang.guid(),this._fileList={},this._waitUploadList=[],this._normalUploadList=[],this._uploadCount=0,this._isUploading=!1,this._xhr=null,this.support={xhrUpload:!(!window.FormData||!window.XMLHttpRequest||!window.XMLHttpRequestUpload&&!(new XMLHttpRequest).upload)},function(){var l=document.createElement("div"),e="draggable"in l||"ondragstart"in l&&"ondrop"in l;t.support.dragAndDrop=e,t.support.dragUpload=t.support.xhrUpload&&e,l=null}()},_init:function(){var t=this;
t._initProperties(),o.mix(this,o.zIndexManager),t._foldId="0",t.on("onload",function(){t._action()})},_action:function(){this._initFlashUpload(),this.options.isEnableHtml5Upload&&this._initHtml5Upload()},_initFlashUpload:function(){var t=i.json.stringify(this._getFlashCallBackConfig()),l={id:this.flashId,width:this.options.width,height:this.options.height,ver:"10.0.0",errorMessage:"Please download the newest flash player.",url:this.options.flashUrl,bgColor:this.options.bgColor,wmode:"opaque",align:"left",allowfullscreen:"false",allowscriptaccess:"always",vars:{uploadurl:this.options.uploadUrl,deleteurl:this.options.deleteUrl,maxSize:this.options.maxFileSize,maxNum:this.options.maxFileCount,smart:this.options.smart,bduss:this.options.bduss,file:this.options.allowFlashUploadType,skinArr:this.options.skinArr,firstSkinID:this.options.firstSkinID,modDocId:this.options.modDocId,interfaceNames:t,flag:this.options.flag||1}};
i.swf.create(l,this.el),this._flash=this.getFlash()},_initHtml5Upload:function(){this.options.dropEl&&this.support.dragUpload&&(i.on(this.options.dropEl,"dragenter",i.fn.bind(this._dragenter,this)),i.on(this.options.dropEl,"dragleave",i.fn.bind(this._dragleave,this)),i.on(this.options.dropEl,"dragover",i.fn.bind(this._dragover,this)),i.on(this.options.dropEl,"drop",i.fn.bind(this._drop,this)))},_callBallHandler:function(t,l){i.lang.isFunction(t)&&setTimeout(function(){t(l)},0)},_dragenter:function(t){i.event.stopPropagation(t),i.event.preventDefault(t),this._callBallHandler(this.options.dragenterCallback)
},_dragleave:function(t){i.event.stopPropagation(t),i.event.preventDefault(t),this._callBallHandler(this.options.dragleaveCallback)},_dragover:function(t){i.event.stopPropagation(t),i.event.preventDefault(t),this._callBallHandler(this.options.dragoverCallback)},_drop:function(t){var l,e,a=this,o=[],s=!1;i.event.stopPropagation(t),i.event.preventDefault(t),l=t.originalEvent?t.originalEvent.dataTransfer:t.dataTransfer,l&&(e=l.files),!e||e.length<1||(o=i.array.map(e,function(t){var l=String(t.name),e=l.lastIndexOf("."),i=e>=0?e:l.length-1,a=new d;
return e>=0?(i=e,a.fileType=l.slice(i).replace(".","").toLowerCase()):(i=l.length,a.fileType=l.slice(i-1).replace(".","").toLowerCase(),a.isFold=!0,s=!0),a.fileName=l.substr(0,i),a.fileSize=t.size,a.uploadType="html5",a.state=n.FILE_STATE_INIT,a.htmlFileObj=t,a}),o=a._initFilesHandler(o),this._callBallHandler(this.options.dropCallback,s),this._callBallHandler(this.options.initFileListCallback,o))},_xhrUpload:function(t){var l=this,e=new XMLHttpRequest,a=t.htmlFileObj,o=!1;l._xhr=e,e.upload.onprogress=function(e){t.state=n.FILE_STATE_UPLOADING,t.uploadProgress=(e.loaded/t.fileSize).toFixed(2),l._callBallHandler(l.options.uploadProgressCallback,t),l._isUploading=!0
},e.upload.onerror=function(){l._isUploading=!1,l._currentGuid="",l._callBallHandler(l.options.uploadErrorCallback),l.uploadFile()},e.upload.onabort=function(){},e.onreadystatechange=function(){if(4==e.readyState){if(o)return void(e&&e.abort());if(o=!0,l._isUploading=!1,l._currentGuid="",200==e.status){var a=l.xml2Json(e.responseText),s=l.options.uploadErrorCallback;if(t.uploadResult=a,"0"===a.type)t.state=n.FILE_STATE_UPLOADED_OK,s=l.options.uploadSuccessCallback;else if("7"===a.type)t.state=n.FILE_STATE_SIZE_ERROR;
else if("9"===a.type)t.state=n.FILE_STATE_TYPE_ERROR;else switch(a.repeat_no){case n.FILE_STATE_UPLOADED_REPEAT_USER_PUBLIC:case n.FILE_STATE_UPLOADED_REPEAT_USER_CONVERTING:case n.FILE_STATE_UPLOADED_REPEAT_OTHER_PUBLIC:case n.FILE_STATE_UPLOADED_SIMILARITY_USER:case n.FILE_STATE_UPLOADED_SIMILARITY_OTHER:t.state=a.repeat_no,s=l.options.uploadSuccessCallback;break;default:t.state=n.FILE_STATE_UPLOAD_ERROR,l._updateUploadCount(t.guid),i.array.contains(r,parseInt(a.type))&&(t.canReUpload=!0)}}l._callBallHandler(s,t),l.uploadFile()
}},e.open("POST",l.options.uploadUrl,!0);var s=new FormData;s.append("docfile",a),s.append("Filename",a.name),e.send(s)},_initFilesHandler:function(t){for(var l=this,e=n.FILE_STATE_INIT,t=t||[],a=0,o=t.length,s=null;o>a;a++)s=new RegExp(l.options.allowHtml5UploadType,"g"),t[a].guid=i.lang.guid(),t[a].foldId=l._foldId,t[a].fileType=String(t[a].fileType).toLowerCase(),0==s.test(t[a].fileType)?e=n.FILE_STATE_TYPE_ERROR:l.checkCount&&l._uploadCount>=l.options.maxFileCount?e=n.FILE_STATE_COUNT_ERROR:l._checkFileRepeat(t[a])?e=n.FILE_STATE_REPEAT_ERROR:t[a].fileSize>1024*this.options.maxFileSize*1024?e=n.FILE_STATE_SIZE_ERROR:""!=t[a].state&&(l._uploadCount++,e=t[a].state,l._waitUploadList.push(t[a].guid),l._normalUploadList.push(t[a].guid)),l._fileList[t[a].guid]=t[a],t[a].state=e;
return t},_checkFileRepeat:function(t){var l=!1,e=this._fileList;for(var i in e)if((this.allowDirectReUpload||e[i].state!==n.FILE_STATE_UPLOAD_ERROR)&&e[i].fileName==t.fileName&&e[i].fileSize==t.fileSize&&e[i].fileType==t.fileType&&this.checkRepeat){l=!0;break}return l},_getFlashCallBackConfig:function(){var t=null,l=this._perfix+".AS_uploadBtnClick",e=this._perfix+".AS_cancelSelectFile",a=this._perfix+".AS_uninitFileList",o=this._perfix+".AS_getFileProgress",s=this._perfix+".AS_fileUploadComplete",n=this._perfix+".AS_fileError",t={progressDelayTime:this.options.progressDelayTime,AS_uploadBtnClick:l,AS_cancelSelectFile:e,AS_uninitFileList:a,AS_getFileProgress:o,AS_fileUploadComplete:s,AS_fileError:n};
return i.lang.module(l,i.fn.bind(this._flashCall_uploadBtnClick,this)),i.lang.module(e,i.fn.bind(this._flashCall_cancelSelectFile,this)),i.lang.module(a,i.fn.bind(this._flashCall_uninitFileList,this)),i.lang.module(o,i.fn.bind(this._flashCall_getFileProgress,this)),i.lang.module(s,i.fn.bind(this._flashCall_fileUploadComplete,this)),i.lang.module(n,i.fn.bind(this._flashCall_fileError,this)),t},_flashCall_uploadBtnClick:function(){var t=this;t._callBallHandler(t.options.clickUploadCallback)},_flashCall_cancelSelectFile:function(){var t=this;
t._callBallHandler(t.options.cancelSelectFileCallback)},_flashCall_uninitFileList:function(t){var l=this,t=t,e=[];e=l._initFilesHandler(t);try{l._getFlash(),l._flash.JS_initedFileList(e)}catch(i){}l._callBallHandler(l.options.initFileListCallback,e)},_flashCall_getFileProgress:function(t){var l=this,e=null;e=l.getFileInfoByGuid(t.guid),o.mix(e,t,!0),this._callBallHandler(this.options.uploadProgressCallback,e),l._isUploading=!0},_flashCall_fileUploadComplete:function(t){var l=this,e=null,a=l.options.uploadErrorCallback,s={};
if(l._isUploading=!1,l._currentGuid="",e=l.getFileInfoByGuid(t.guid),o.mix(e,t,!0),"doc"==this.flashUploadType)if(s=l.xml2Json(t.uploadResult),"0"===s.type)e.state=n.FILE_STATE_UPLOADED_OK,a=this.options.uploadSuccessCallback;else if("7"===s.type)e.state=n.FILE_STATE_SIZE_ERROR;else if("9"===s.type)e.state=n.FILE_STATE_TYPE_ERROR;else switch(s.repeat_no){case n.FILE_STATE_UPLOADED_REPEAT_USER_PUBLIC:case n.FILE_STATE_UPLOADED_REPEAT_USER_CONVERTING:case n.FILE_STATE_UPLOADED_REPEAT_OTHER_PUBLIC:case n.FILE_STATE_UPLOADED_SIMILARITY_USER:case n.FILE_STATE_UPLOADED_SIMILARITY_OTHER:e.state=s.repeat_no,a=this.options.uploadSuccessCallback;
break;default:e.state=n.FILE_STATE_UPLOAD_ERROR,l._updateUploadCount(e.guid),i.array.contains(r,parseInt(s.type))&&(e.canReUpload=!0)}"video"==this.flashUploadType&&(s=i.json.parse(t.uploadResult),0==s.status.code?(e.state=n.FILE_STATE_UPLOADED_OK,a=this.options.uploadSuccessCallback):(e.state=n.FILE_STATE_UPLOAD_ERROR,l._updateUploadCount(e.guid))),e.uploadResult=s,l._setFileStateForFlash(e),l._callBallHandler(a,e),l.uploadFile()},_flashCall_fileError:function(t){var l=this,e=t.state;t.guid&&(t=o.mix(l.getFileInfoByGuid(t.guid)||t,t,!0),t.state=e,l._updateUploadCount(t.guid),t.guid===l._currentGuid&&(l._isUploading=!1,l._currentGuid=""),t.state===n.FILE_STATE_UPLOAD_ERROR&&(t.canReUpload=!0)),this._callBallHandler(this.options.uploadErrorCallback,t),l.uploadFile()
},_setFileStateForFlash:function(t){var l=this;if(t)try{l._getFlash(),l._flash.JS_setFileState(t.guid,t.state)}catch(e){}},xml2Json:function(t){var l=t.match(/ docid="([0-9a-zA-Z]+)"[ />]/)||[0,"0"],e=t.match(/ c_docid="([0-9a-zA-Z]+)"[ />]/)||[0,"0"],i=t.match(/ type="(\d+)"[ />]/)||[0,"1"],a=t.match(/ repeat_no="([0-9a-zA-Z]+)"[ />]/)||[0,"0"],o=t.match(/ needValve="(\d)"[ />]/)||[0,"0"],s=t.match(/ filetype="(\d+)"[ />]/)||[0,"0"],n=t.match(/ title="(\W+)"[ />]/)||[0,"0"],r=t.match(/ pn="(\d+)"[ />]/)||[0,"0"];
return{type:i[1],repeat_no:a[1],docid:l[1],c_docid:e[1],filetype:s[1],title:n[1],needValve:o[1],pn:r[1]}},_bind:function(){},check:function(){},getFlash:function(){return i.swf.getMovie(this.flashId)},_getFlash:function(){this._flash=this.getFlash()},beginSelectFile:function(){},uploadFile:function(){var t=this,l="",e=null;if(!t._isUploading){if(!this._checkIsHasUpladFile())return void(t._currentGuid="");if(l=t._waitUploadList.shift(),e=t.getFileInfoByGuid(l),!e)return void(t._currentGuid="");if(t._isUploading=!0,t._currentGuid=l,e.uploadType===n.UPLOAD_TYPE_FLASH)try{t._getFlash(),t._flash.JS_uploadFile(l)
}catch(i){console.log(i)}else t._xhrUpload(e);e.startUploadTime=new Date}},_checkIsHasUpladFile:function(){return this._waitUploadList.length},_updateUploadCount:function(t){var l=this;t&&i.array.contains(l._normalUploadList,t)&&(i.array.remove(l._normalUploadList,t),l._uploadCount--)},getFileInfoByGuid:function(t){return this._fileList[t]},cancelFile:function(t){var l,e=this,a=e.getFileInfoByGuid(t),o="";if(a){if(delete e._fileList[t],i.array.remove(e._waitUploadList,t),e._updateUploadCount(t),a.uploadType===n.UPLOAD_TYPE_FLASH)try{e._getFlash(),e._flash.JS_fileUploadCancel(t)
}catch(s){}else e._currentGuid===t&&e._xhr&&e._xhr.abort();e.allowCancelAjax&&a.uploadResult&&a.uploadResult.docid&&(l="0"==a.uploadResult.c_docid?a.uploadResult.docid:a.uploadResult.c_docid,o=i.string.format(e.options.deleteUrl+"?ct=20013&doc_id=#{docId}&doc_title=#{docTitle}&piracy=#{piracy}&piracy_title=#{piracyTitle}",{docId:l,docTitle:encodeURIComponent(a.fileName)}),i.ajax.get(o))}},changeSkin:function(t){if(this._flash)try{this._getFlash(),this._flash.JS_changeSkin(t)}catch(l){}return this
},setUploadFold:function(t){return this._foldId=/^\d+$/.test(t)?t:"0",this},isFree:function(){return!(this._checkIsHasUpladFile()||this._isUploading)},isInInterval:function(){return!this._isUploading},setFlashPosition:function(t,l){var e=i.g(this.el);return l=l||{top:0,left:0},e.style.left=t.left+l.left+"px",e.style.top=t.top+l.top+"px",this},setFlashPositionByEl:function(t,l){return this.setFlashPosition(i.dom.getPosition(t),l),this},switchBtnEnable:function(t){try{this._getFlash(),this._flash.JS_switchBtnEnable(!!t)
}catch(l){}return this},switchFlashVisible:function(t){try{this._getFlash(),this._flash.JS_switchSwfVisiable(!!t)}catch(l){}return this},reUploadFile:function(t){var l=this,e=l.getFileInfoByGuid(t);return e&&e.state===n.FILE_STATE_UPLOAD_ERROR&&(!e.uploadResult||"1"===e.uploadResult.type)&&e.fileSize<1024*l.options.maxFileSize*1024?(e.state=n.FILE_STATE_INIT,delete e.startUploadTime,l._waitUploadList.push(t),i.array.contains(l._normalUploadList,t)||(l._uploadCount++,l._normalUploadList.push(t)),l._fileList[t]=e,l.uploadFile(),!0):!1
},clearUpFileList:function(){var t=this;i.object.each(t._fileList,function(l,e){l.state!==n.FILE_STATE_UPLOAD_ERROR||l.uploadResult&&"1"!==l.uploadResult.type||delete t._fileList[e]})},cancelRestAll:function(){var t=this,l=t._waitUploadList.concat([]);t._waitUploadList=[],i.each(l,function(l){delete t._fileList[l]}),t._currentGuid&&t.cancelFile(t._currentGuid)}},{type:"upload"}),p=function(t){var l=new _(t);return l.fire("onload"),l};e.exports.uploadCreate=p});
;define("wkcommon:widget/ui/js_core/yueduSuggestion/model.js",function(t,e,o){var i=t("wkcommon:widget/ui/lib/jquery/jquery.js"),n=(t("wkcommon:widget/ui/js_core/mvp/event/event.js").custEvent,t("wkcommon:widget/ui/js_core/mvp/model/model.js").ModelList),s=t("wkcommon:widget/lib/tangram/base/base.js"),r=s.lang.createClass(function(t,e){this._init(t,e)},{superClass:n}).extend({_init:function(t,e){this.mediator=e,this.loading=!1,this.timer=null,this._initEvent()},_initEvent:function(){var t=this,e=t.mediator;
e.on("m:getData",i.proxy(t.getData,t))},getData:function(t){var e=this,o=t.promise,i=t.key,n=e.findId(i);return n?o.resolve(n.attr()):(e.loading&&e.loading.abort(),clearTimeout(e.timer),e.timer=setTimeout(function(){e.request(i,o)},200)),o},request:function(t,e){var o=this;o.loading=i.ajax({url:"http://nssug.baidu.com/su",dataType:"jsonp",data:{wd:t,prod:"yuedu"},jsonp:"cb",cache:!1}).done(function(i){i.keyword=t,o.add(i),o.loading=!1,e.resolve(o.findId(t).attr())})},wrapModel:function(t){var e,o=this,n={authors:[],books:[]},s=t.s,r=0,a=s.length;
for(n.id=t.keyword,r;a>r;r++){var u=s[r].split("{#S+_}");if(u.length>1&&""!==u[1]){n.authors.push(u[0]);var d=o.splitBook(i.trim(u[1]),u[0]);n.books=n.books.concat(d)}else e=u[0]||"",e=e.split("^^^"),n.books.push(e.length>1&&""!==e[1]?[e[1],e[0]]:u[0])}return n},splitBook:function(t,e){t=t.split("^^^");var o=[],n=0,s=t.length;for(n;s>n;n++)o.push([e,i.trim(t[n].replace(e,""))]);return o}});o.exports=r});
;define("wkcommon:widget/ui/js_core/yueduSuggestion/view.js",function(e,t,i){function o(e){for(var t={},i=0;i<e.length;i++)t[e[i].name]=e[i].value;return t}var s=e("wkcommon:widget/ui/lib/jquery/jquery.js"),n=(e("wkcommon:widget/ui/js_core/mvp/event/event.js").custEvent,e("wkcommon:widget/ui/js_core/mvp/view/view.js").View),u=e("wkcommon:widget/ui/js_core/mvp/template/template.js").template,l=e("wkcommon:widget/lib/tangram/base/base.js"),a=e("wkcommon:widget/ui/lib/url/url.js"),r=e("wkcommon:widget/ui/js_core/log/log.js"),d=["<%var i=0,n=0%>","<%if(authors.length>0){%>",'<div class="authors-mod sug-mod">','<div class="authors-label sug-label">\u4f5c\u8005</div>','<div class="content">',"<%for(i;i<authors.length&&i<2;i++){%>",'<div class="sug-item sug-item-author" data-type="author" data-value="<%=authors[i]%>" data-index="<%=i%>"><%=highlight(authors[i], keyword)%></div>',"<%}%>","</div>","</div>","<%}%>","<%if(books.length>0){%>",'<div class="books-mod sug-mod">','<div class="books-label sug-label">\u56fe\u4e66</div>','<div class="content">',"<%for(n;n<books.length&&n<8;n++){%>",'<%if(typeof(books[n])!=="string"){%>','<div class="sug-item sug-item-book" data-type="book" data-value="<%=books[n][1]%>" data-index="<%=(i+n)%>"><%=highlight(books[n][1], keyword)%> <span class="book-author">- <%=highlight(books[n][0], keyword)%></span></div>',"<%}else{%>",'<div class="sug-item sug-item-book" data-type="book" data-value="<%=books[n]%>" data-index="<%=(i+n)%>"><%=highlight(books[n], keyword)%></div>',"<%}%>","<%}%>","</div>","</div>","<%}%>"].join(""),c=l.lang.createClass(function(e,t){this._init(e,t)
},{superClass:n}).extend({template:u(d),events:{input:"doInput",keydown:"doKeyDown",propertychange:"doPropertychange",blur:"doBlur"},_init:function(e,t){var i=this;i.mediator=t,i.fillItems=[],i.selectIndex=!1,i.timer=null,i._status="hide",i.sugEl=s('<div class="yuedu-sug"></div>').appendTo(s(document.body)),i.resize(),i._initEvent()},_initEvent:function(){var e=this;s(e.sugEl).on("mouseenter",".sug-item",s.proxy(e.doHover,e)),s(e.sugEl).on("click",".sug-item",s.proxy(e.doClick,e)),s(e.sugEl).on("mouseleave",s.proxy(e.doLeave,e)),s(e.sugEl).on("mouseenter",s.proxy(e.doSearchHover,e)),s(e.el).on("mouseenter",s.proxy(e.doSearchHover,e)),s(e.el).on("mouseleave",s.proxy(e.doLeave,e))
},resize:function(){var e=this,t=s(e.el),i=t.offset();width=t.innerWidth(),height=t.innerHeight(),s(e.sugEl).css({top:i.top+height+1,left:i.left,width:width})},doClick:function(e){var t=this;t.submit(s(e.target).data("index"))},doBlur:function(){var e=this;setTimeout(function(){e.hide()},500)},doPropertychange:function(){var e=this;return e._fromSelect?void(e._fromSelect=!1):void e.doInput()},doInput:function(){var e=this,t=s.trim(this.el.value);return t?(e.value=t,void this.mediator.fire("v:inputChange",{key:t}).then(function(t){t.books.length||t.authors.length?(e.fillSug(t),e.show()):e.hide()
})):void e.hide()},doHover:function(e){var t=this;index=s(e.target).data("index"),s.isNumeric(index)&&(t.selectIndex=index,t.select())},doLeave:function(){var e=this;"hide"!==e._status&&(e.timer=setTimeout(function(){e.hide()},500))},doSearchHover:function(){var e=this;"hide"!==e._status&&e.timer&&clearTimeout(e.timer)},doKeyDown:function(e){var t=this,i=e.keyCode;if("hide"!==t._status){if(40===i)return t.next(),!1;if(38===i)return t.prev(),!1;if(27===i)t.hide();else if(13===i)return t.submit(),!1
}},next:function(){var e=this,t=e.fillItems,i=t.length;0!==i&&(e.selectIndex===!1?e.selectIndex=0:e.selectIndex++,e.selectIndex+1>i&&(e.selectIndex=!1),e.select())},prev:function(){var e=this,t=e.fillItems,i=t.length;0!==i&&(e.selectIndex===!1?e.selectIndex=i-1:e.selectIndex--,e.selectIndex<0&&(e.selectIndex=!1),e.select())},select:function(){var e=this,t=e.fillItems,i=t.eq([e.selectIndex]);s(".sug-item-active",e.sugEl).removeClass("sug-item-active"),i.addClass("sug-item-active")},fillSug:function(e){var t=this;
t.selectIndex=!1,t.sugEl.html(this.template(s.extend(e,{keyword:s.trim(s(t.el).val()),highlight:t.highlight}))),t.fillItems=s(".sug-item",t.sugEl)},fillInput:function(){var e=this;e._fromSelect=!0,selectItem=s(".sug-item-active",e.sugEl),selectItem.length&&(e.el.value=selectItem.data("value"))},show:function(){var e=this;e._status="show",e.resize(),e.sugEl.show()},hide:function(){var e=this;e._status="hide",e.selectIndex=!1,e.sugEl.hide()},highlight:function(e,t){return t&&e?e.replace(new RegExp(t,"g"),"<em>$&</em>"):e
},submit:function(e){var t,i,n,u,l,d,c=this,h=s(c.el.form),v=s(c.el);if(e="number"==typeof e?e:"number"==typeof c.selectIndex?c.selectIndex:!1,t=c.fillItems.eq(e),i=t.data("type"),n=t.data("value"),d=v.val(),"hide"!==c._status&&"number"==typeof e&&i){if(r.xsend(2,200227,{sug_type:i}),u=o(h.serializeArray()),l=h.attr("action"),"book"===i)return u.word=n,u.sug="book",u.t=+new Date,u.input_value=d,setTimeout(function(){location.href=l+"?"+a.jsonToQuery(u)},200),!1;if("author"===i)return u.word=n,u.author=n,u.sug="author",u.t=+new Date,u.input_value=d,setTimeout(function(){location.href=l+"?"+a.jsonToQuery(u)
},200),!1}return h.submit()}});i.exports=c});
;define("wkcommon:widget/ui/js_core/yueduSuggestion/presenter.js",function(e,t,i){var n=e("wkcommon:widget/ui/lib/jquery/jquery.js"),o=e("wkcommon:widget/ui/js_core/mvp/presenter/presenter.js").Presenter,s=e("wkcommon:widget/ui/js_core/mvp/event/event.js").custEvent,r=e("wkcommon:widget/ui/js_core/yueduSuggestion/view.js"),u=e("wkcommon:widget/ui/js_core/yueduSuggestion/model.js"),m=e("wkcommon:widget/lib/tangram/base/base.js"),a=m.lang.createClass(function(e){this._init(e)},{superClass:o}).extend({_init:function(e){this.mediator=new s,this.model=new u(e,this.mediator),this.view=new r(e,this.mediator),this._initEvent()
},_initEvent:function(){var e=this,t=e.mediator;t.on("v:inputChange",n.proxy(e.getData,e))},getData:function(e){var t=e.promise;return this.mediator.fire("m:getData",{key:e.key}).then(function(e){t.resolve(e)}),t}});i.exports=a});
;define("wkcommon:widget/ui/js_core/yueduSuggestion/yueduSuggestion.js",function(e,u,n){var o=(e("wkcommon:widget/ui/lib/jquery/jquery.js"),e("wkcommon:widget/ui/js_core/yueduSuggestion/presenter.js")),i=function(e){return new o(e)};n.exports=i});
;define("wkcommon:widget/header/search_box/search_box.js",function(t){var o=t("wkcommon:widget/lib/tangram/base/base.js"),e=(t("wkcommon:widget/ui/js_core/util/util.js"),t("wkcommon:widget/ui/js_core/Suggestion/Suggestion.js").Suggestion),n=t("wkcommon:widget/ui/js_core/log/log.js"),i=t("wkcommon:widget/ui/lib/jquery/jquery.js"),a=t("wkcommon:widget/ui/lib/cookie/cookie.js"),r=t("wkcommon:widget/lib/fis/data/data.js"),s=t("wkcommon:widget/ui/js_core/xform/xform.js");i(".s_ipt").on("focus",function(){i(this).closest(".s_ipt_wr").addClass("focus")
}).on("blur",function(){i(this).closest(".s_ipt_wr").removeClass("focus")}),i(".type-check").on("click",function(){n.xsend(1,100331)}),i(".hoilday-logo").length&&n.xsend(1,100611),i(function(){(el=o.g("favorite"))&&o.event.on(el,"click",function(t){if(window.sidebar||window.opera)return!0;try{window.external.AddFavorite("http://wenku.baidu.com/","\u767e\u5ea6\u6587\u5e93")}catch(t){alert("\u6211\u592a\u6ca1\u7528\u4e86\uff0c\u6ca1\u80fd\u6dfb\u52a0\u6210\u529f\uff0c\u8bf7\u60a8\u6309\u952e\u76d8\u4e0a\u7684Ctrl+D \u624b\u52a8\u6dfb\u52a0\u5427")
}return o.event.stop(t),!1}),i.ajax({type:"get",url:"http://wenku.baidu.com/shifen/get",data:{pid:49,tid:1},dataType:"jsonp",success:function(t){var o=t[0];if(o.tpl_data){var e="url("+o.tpl_data[0].infoImg+") no-repeat right bottom",a=o.tpl_data[0].link;i("#adbg").css("background",e),i("#banurl").attr("href",a);for(var r=0;r<t.length;r++)n.xsend(1,100421,{action_type:"display",group_id:49,advertiser:t[r].from,ad_id:t[r].ad_id})}else{var e="url(http://img.baidu.com/img/iknow/wenku/mitiguanggaowei230X85.png) no-repeat right bottom",a="http://wenku.baidu.com/miti";
i("#adbg").css("background",e),i("#banurl").attr("href",a).addClass("default-data")}},error:function(t){window.console&&console.log(t)}});var t=[];s.getJSON("search_suggestion",{success:function(o){o.keywords.length&&(t=o.keywords)}});var d=new e({view:function(t){var e=6==o.browser.ie||7==o.browser.ie,n=void 0!=o.browser.chrome,i="/search"===location.pathname?544:429;return{top:t.top+(e?5:6),left:t.left-(n?9:11),width:i}},getData:function(t){var e=this;o.sio.callByServer("http://nssug.baidu.com/su?wd="+encodeURIComponent(t)+"&prod=wenku&oe=utf-8&&t="+Math.random(),function(t){e.callback(t)
},{queryField:"cb"})},onconfirm:function(t){if(!isNaN(t.data.index)){var e="/tongji/sug.gif?action=confirm&index="+(t.data.index+1)+"&t="+Math.round(2147483647*Math.random());n.imageReq(e)}var i=o.g("kw").form;i.onsubmit&&i.onsubmit()===!1||i.submit()},onbeforepick:function(t){return function(e){t.innerHTML=e.data.item.content,e.data.item.content=e.data.item.value=o.dom.getText(t)}}(document.createElement("div")),callback:function(e){var i=this;console.log(t);for(var a=0;a<t.length;a++)if(e.q.indexOf(t[a])>=0)return i.hide(),!1;
var r=e.s,s=e.q,c=[];if(o.array.each(r,function(t,o){"/new"===location.pathname&&o>=4||c.push(s&&-1!=t.indexOf(s)?t.replace(s,"<b>"+s+"</b>"):"<b>"+t+"</b>")}),d.show(s,c),r.length){var u="/tongji/sug.gif?action=render&t="+Math.round(2147483647*Math.random());n.imageReq(u)}}});d.render(o.g("kw"));var c=new e({view:function(t){var e=6==o.browser.ie||7==o.browser.ie,n=void 0!=o.browser.chrome,i="/search"===location.pathname?544:429;return{top:t.top+(e?5:6),left:t.left-(n?9:11),width:i}},onconfirm:function(){var t=o.g("kw").form;
t.onsubmit&&t.onsubmit()===!1||setTimeout(function(){t.submit()},100)},onbeforepick:function(t){return function(e){var a=e.data.item.content;-1!=a.indexOf("</span>")&&(a=i(".word-content").eq(e.data.index).text()),parseInt(e.data.index)>=0&&parseInt(e.data.index)<=9&&n.xsend(1,100054,{index:parseInt(e.data.index)+1}),t.innerHTML=a,e.data.item.content=e.data.item.value=o.dom.getText(t)}}(document.createElement("div"))});c.render(o.g("kw"));var u=r.get("hotword")||[],l=[],m=[],g="";if(u.length>0){for(var w=0,f=0;f<u.length;f++)g=3>f?'<b class="top b">'+(f+1)+"</b>":'<b class="b">'+(f+1)+"</b>",g=g+'<span class="word-content">'+u[f].content+"</span>",1==u[f].isnew&&(l.push(u[f].content),g+='<span class="newhotword">\u65b0\uff01</span>',w++),m.push(g);
var h=0;if(i(document).on("click",function(t){var o=t.target.className;"arrow-box"==o&&0==h?(i(".arrow-box").css("backgroundPosition","-20px 0px"),c.show("word",m),h=1):(i(".arrow-box").css("backgroundPosition","0px 0px"),h=0)}),a.get("wk_hotsearchword")){for(var b=a.get("wk_hotsearchword").split("&"),f=0;f<l.length;f++)if(l[f]!=b[f]){i(".hot-box").text(w),i(".hot-box").removeClass("hide");break}}else i(".hot-box").text(w),i(".hot-box").removeClass("hide");i(".hot-box").on("click",function(){c.show("word",m),i(".hot-box").addClass("hide"),l=l.join("&"),a.set("wk_hotsearchword",l,{expires:31536e6})
})}else i(".hot-box").addClass("hide"),i(".arrow-box").addClass("hide");var p=o.g("kw"),v=o.g("kw-plhd"),k=o.string.trim(o.dom.getAttr(p,"data-default"));""!=k&&function(){function t(){""==o.string.trim(p.value)&&o.dom.setStyle(v,"display","inline")}o.on(p,"focus",function(){o.dom.setStyle(v,"display","none")}),o.on(p,"blur",t),o.on(v,"click",function(){p.focus()}),o.on(o.g("topSearchBox"),"submit",function(){""==o.string.trim(p.value)&&(o.dom.setStyle(v,"display","none"),p.value=k)}),t()}()})});

;define("wkcommon:widget/user_bar/user_bar.js",function(e){function t(e){var t=+e.vipinfo.remain_day,n=+e.vipinfo.mini_vip,s=o.dom.q("member-icon")[0],r=['<p class="recharge-top-wrap">','<a href="###" class="pop-close"></a>','<span class="pop-content"><span class="red">'+t+"\u5929</span>\u5185\u7eed\u8d39\u5e74\u8d39VIP\u5373\u53ef\u9886\u53d6</span>",'<a href="/cashier/browse/dispatch?cashier_code=31_8_22&default_goods_id=1"','target="_blank" class="goto-recharge"></a>',"</p>"].join(""),l=o.cookie.get("VIPRM"),c=new Date,p=""+c.getFullYear()+(c.getMonth()+1)+c.getDate();
if((!l||l&&l!==p&&"N"!==l)&&t>=1&&15>=t&&0===n){var d=o.dom.q("recharge-top-wrap",s,"p")[0];d&&o.dom.remove(d),d=i.createDom(r),o.dom.insertAfter(d,o.dom.first(s));var u=o.dom.q("pop-close",d,"a")[0],g=o.dom.q("goto-recharge",d,"a")[0];return a.xsend(1,100654,{index:1}),l&&o.cookie.set("VIPRM","N",{path:"/",expires:1728e6}),o.event.on(u,"click",function(){o.dom.hide(d);var e=p;l||o.cookie.set("VIPRM",e,{path:"/"}),a.xsend(1,100654,{index:2})}),o.event.on(g,"click",function(){o.dom.hide(d),o.cookie.set("VIPRM","N",{path:"/",expires:1728e6})
}),!0}return!1}var o=e("wkcommon:widget/lib/tangram/base/base.js"),i=e("wkcommon:widget/ui/js_core/util/util.js"),a=e("wkcommon:widget/ui/js_core/log/log.js"),n=e("wkcommon:widget/ui/js_core/rightCornerPop/rightCornerPop.js"),s=e("wkcommon:widget/ui/js_core/popmessage/popmessage.js"),r=i.delegate,l=e("wkcommon:widget/ui/lib/jquery/jquery.js"),c=e("wkcommon:widget/ui/js_core/dropDown/dropDown.js").dropDownCreate,p=e("wkcommon:widget/ui/js_core/login/login.js").login,d=e("wkcommon:widget/ui/js_core/dialog/dialog.js"),u=e("wkcommon:widget/lib/fis/data/data.js"),g=u,h=function(){var e=null;
return function(){return e||(e=d.dialogCreate()),e}}();l(function(){var e=o.q("uname"),t=(u.get("WkInfo")||{},o.q("user-my-name-tip"));e.length&&c({bindEl:e[0],el:t[0]});var i=o.q("user-my-wenku"),a=o.q("user-my-wenku-tip"),n=o.g("btn-fillin-username");i.length&&c({bindEl:i[0],el:a[0]}),n&&o.on(n,"click",function(){p.notifyToFillinUsername("userbar")});var s=function(e){var t="http://msg.baidu.com/msg/msg_dataGetmsgCount?un="+e;o.sio.callByServer(t,function(e){e&&+e.mailMsgNum>0&&(o.g("mnum").innerHTML=e.mailMsgNum)
})},r=o.g("login"),l=o.g("logout");if(r&&o.on(r,"click",function(e){p.log(),setTimeout(function(){var e=o.dom.q("pass_login_form","login-normal","form")[0];if(e)var t=e.u;var i=encodeURI(location.href).replace(/[#?].*$/g,""),a="from_mod=user_bar";t&&(i+=-1==i.indexOf("?")?"?"+a:"&"+a,t.value=i)},500),o.event.preventDefault(e)}),l){{o.trim(o.g("userNameCon").innerHTML)}s("un");var d=location.href;g.get("logined_page")&&(d=g.get("logout_url")&&"string"==typeof g.get("logout_url")?g.get("logout_url"):"http://wenku.baidu.com"),l.href="http://passport.baidu.com/?logout&aid=7&u="+escape(d);
var h=document.location.pathname,m=o.cookie.get("BDUSS"),f={homepage:/^\/$/i,edu:/^\/edu\/index$/i,ppt:/^\/ppt\/index$/i,pro:/^\/pro\/index$/i,form:/^\/form\/index$/i,org:/^\/org\//i,topic:/^\/topic$/i,search:/^\/search/i,catelist:/^\/list\//i,hotlist:/^\/hotlist/i,upload:/^\/new/i,submit:/^\/submit/i,view:/^\/view\//i,userlist:/^\/userlist\//i,latest:/^\/latest/i,album:/^\/album\//i,usercenter:/^\/(room|user\/)/i};for(var v in f)if(f.hasOwnProperty(v)){var _=f[v];_.test(h)&&m&&l.setAttribute("data-logsend",'{"send":["general","logout",{"refer":"'+v+'", "bduss":"'+m+'"}]}')
}}}),l(function(){function e(e,o){return{newstext:t[e].text.replace(/xy/g,"<em>"+o+"</em>"),url:t[e].url}}var t={1:{text:"xy\u4e2a\u4ed8\u8d39\u6587\u6863\u4e0a\u4f20\u6210\u529f",url:"http://"+location.host+"/user/contribution?st=4&range_time=1"},2:{text:"xy\u4e2a\u4ed8\u8d39\u6587\u6863\u8f6c\u5316\u5931\u8d25",url:"http://"+location.host+"/user/contribution?st=2"},3:{text:"xy\u4e2a\u8d22\u5bcc\u503c\u6587\u6863\u4e0a\u4f20\u6210\u529f",url:"http://"+location.host+"/user/contribution?st=1"},4:{text:"xy\u4e2a\u8d22\u5bcc\u503c\u6587\u6863\u8f6c\u5316\u5931\u8d25",url:"http://"+location.host+"/user/contribution?st=2"},5:{text:"xy\u4e2a\u6587\u8f91\u672a\u901a\u8fc7",url:"http://"+location.host+"/user/album?st=2"},6:{text:"xy\u4e2a\u6d3b\u52a8\u4efb\u52a1\u6587\u6863\u4e0a\u4f20\u6210\u529f",url:"http://"+location.host+"/user/contribution?st=1"},7:{text:"xy\u4e2a\u6d3b\u52a8\u4efb\u52a1\u6587\u6863\u4e0a\u4f20\u5931\u8d25",url:"http://"+location.host+"/user/contribution?st=2"},8:{text:"xy\u4e2a\u8ba4\u8bc1\u7b49\u7ea7\u4efb\u52a1\u5b8c\u6210",url:"http://"+location.host+"/pgc/browse/pgc"},9:{text:"xy\u4e2a\u7cfb\u7edf\u6d88\u606f",url:"http://"+location.host+"/user/mymessage"},10:{text:"xy\u4e2a\u7533\u8bc9\u6d88\u606f",url:"http://"+location.host+"/user/contribution?st=3"}},i={bubble_html:['<div id="docBubble" class="docBubble"><i class="triangle-t"></i><i title="\u5173\u95ed" class="close markSend">\u5173\u95ed</i><div class="tl"><div class="inner log-xsend" data-logxsend="[1,100002]"></div></div><div class="tr"></div><div class="bl"></div></div>'].join("")},n=o.g("user-my-class");
o.dom.insertHTML(document.body,"beforeEnd",i.bubble_html);var s,l,c=o.g("docBubble"),p=o.dom.q("inner",c,"div")[0],d=(o.dom.q("close",c,"i")[0],"");for(var u in t)t[u].url==location.href&&(d="show_type="+u,o.ajax.post("/message/readnotice",d,function(e,t){var i=o.json.parse(t);0==i.status.code}));setTimeout(function(){d="url="+location.pathname,o.ajax.post("/message/getnotice",d,function(t,i){try{var r=o.json.parse(i)}catch(d){return!1}if("0"==r.status.code){var u=r.data.system,g=r.data.advert,h=r.data.system_num,m=r.data.diy;
if(parseInt(h,10)>99&&(h="N"),0==u.length&&0==g.length&&0==m.length)return;if(u.length>0||m.length>0){var f=[],v="",_=o.dom.q("my-notice",n,"span")[0],b=o.dom.q("close",c,"i")[0];if(o.event.on(b,"click",function(){a.send("general","close_click",{module:"message"})}),u.length>0)for(var k=0;k<u.length;k++)v="<li show_type='"+u[k].show_type+"'><a href='"+e(u[k].show_type,u[k].msg_num).url+'\' data-logSend=\'{"send":["general","system_click",{"module":"message"}]}\' class=\'logSend\'>'+e(u[k].show_type,u[k].msg_num).newstext+"</a></li>",f.push(v);
if(m.length>0)for(var k=0;k<m.length;k++){var w="<li show_type='11' class='diy'><a data-msg-id='"+m[k].msg_id+"' href='"+m[k].url+'\' data-logSend=\'{"send":["general","system_click",{"module":"message"}]}\' class=\'logSend\'>'+m[k].content+"</a></li>";f.push(w)}p.innerHTML=s="<ul id='message-ul'>"+f.join("")+"</ul>",o.dom.addClass(c,"my-class"),c.style.left=o.dom.getPosition(n).left-134+"px",_.innerHTML="<i>"+h+"</i>",a.send("general","system_show",{module:"message"})}if(0!=g.length&&0!=g.text.length){o.dom.setAttr(c,"advert_id",g.advert_id);
var y="",x="",I="";if(g.title&&0!=o.string.trim(g.title).length&&(x="<h1><a href='"+g.link+'\' class=\'markSend logSend\' target=\'_blank\' data-logSend=\'{"send":["general","advert_click",{"module":"message"}]}\'>'+g.title+"</a></h1>"),g.pic&&0!=o.string.trim(g.pic).length&&(I="<a href='"+g.link+'\' class=\'markSend logSend\' target=\'_blank\' data-logSend=\'{"send":["general","advert_click",{"module":"message"}]}\'><img src=\''+g.pic+"'/></a>"),g.uname&&0!=o.string.trim(g.uname).length&&(y='<span class="uname">\u4eb2\u7231\u7684'+g.uname+":</span>"),l=I+x+y+"<p>"+g.text+"...<a href='"+g.link+'\' class=\'markSend logSend\' target=\'_blank\' data-logSend=\'{"send":["general","advert_click",{"module":"message"}]}\' style=\'display:block;text-align:right;\'>\u67e5\u770b\u8be6\u60c5</a></p>',0==u.length){p.innerHTML=l;
var j=o.g("mywenku");o.g("mnum")?(o.dom.addClass(c,"my-notice"),c.style.left=o.dom.getPosition(j).left-120+"px"):o.dom.addClass(c,"my-notice unlogin"),a.send("general","advert_show",{module:"message"})}}}}),o.on(window,"resize",function(){var e=o.g("docBubble"),t=o.g("  mywenku"),i=o.g("user-my-class");t&&e&&"none"!=e.style.display&&(e.style.left=/my-class/g.test(e.className)?o.dom.getPosition(i).left-142+"px":o.dom.getPosition(t).left-126+"px")})},1e3),r(c,".markSend","click",function(){var e=null;
if(/my-class/g.test(this.parentNode.className)){for(var t=o.dom.query("li",c),i=[],a=0;a<t.length;a++)i.push(o.dom.getAttr(t[a],"show_type"));d="show_type="+i.join("_"),e=o.dom.q("my-notice",n,"span")[0]}else{var s=o.dom.getAttr(c,"advert_id");d="advert_id="+s,e=null}o.ajax.post("/message/readnotice",d,function(t,i){var a=o.json.parse(i);0==a.status.code&&(c.style.display="none",e&&(e.innerHTML=""))})})}),l(function(){r(o.q("user-bar")[0],".user-bar-home-link","click",function(e){var t=u.get("WkInfo")||{};
return t.UserInfo.isNoUsername?(p.notifyToFillinUsername("userbar"),o.event.preventDefault(e),!1):void 0})});var m={priority:["lossUser","outvip_last10day","setHomePage","outvip_over10day","shifen"],_date:{},popConf:{setHomePage:{status:1,popWrap:"sethomepage-dialog",cookieName:"bd_wk_setHomePage_click",setInUserHome:function(e){if(document.all)try{return document.body.style.behavior="url(#default#homepage)",document.body.setHomePage(e),!0}catch(t){return!1}},getTpl:function(){return this.tpl='<p class="text">\u662f\u5426\u5c06\u767e\u5ea6\u6587\u5e93\u8bbe\u7f6e\u4e3a\u4e3b\u9875\uff1f<br/><em>http://wenku.baidu.com/</em></p>',this.tpl
},showPop:function(){var e=this;setTimeout(function(){d.dialogCreate().confirm({title:"\u4e3b\u9875\u8bbe\u7f6e",btnText:["\u786e\u8ba4","\u53d6\u6d88"],content:e.getTpl(),height:240,width:470,className:e.popWrap,onOk:function(){o.dom.hide(o.dom.g("WkDialogWrap")),e.setCookie(),e.setInUserHome("http://wenku.baidu.com/?fr=swsy"),a.xsend(1,100543)},onCancel:function(){o.dom.hide(o.dom.g("WkDialogWrap")),e.setCookie()},onClosed:function(){o.dom.hide(o.dom.g("WkDialogWrap")),e.setCookie()}});var t=l("#WkDialogWrap");
l(".sethomepage-dialog").css("z-index","99999"),t.find(".ui-btn").removeClass("ui-btn-26-green ui-btn-26-light").find(".btText").removeClass("btText").addClass("ui-bz-btn-p-16 ui-bz-btc")},2e3)},setCookie:function(){var e=this;o.cookie.set(e.cookieName,1,{path:"/",expires:2592e6})},init:function(){o.browser.ie&&!o.cookie.get(this.cookieName)&&(document.body.style.behavior="url(#default#homepage)","undefined"!=typeof document.body.setHomePage&&(this.status=2,a.xsend(1,100542)))}},shifen:{status:1,getTpl:function(e){var t,o=this.data.tpl_data[0];
1===+e?(t='<a class="tiger-shifen-dialog click-btn" href="###url###" target="_blank">\n    <div class="tiger-shifen-dialog-inner" style="background: url(###bg###) no-repeat; _background: url(###bg_ie###) no-repeat;"></div>\n    <div class="tiger-shifen-dialog-mask" style="background: #000; opacity: ###opacity###; filter: alpha(opacity=###alpha###);"></div>\n    <a href="#" target="_blank" class="close-icon close close-pop"></a>\n    <iframe src="" frameborder="0" class="bg-ifr"></iframe>\n</a>',this.tpl=t.replace("###url###",o.link).replace("###bg###",o.imgsrc24).replace("###bg_ie###",o.imgsrc8).replace("###opacity###",o.opacity).replace("###alpha###",100*o.opacity),this.popWrap="tiger-shifen-dialog"):(t='<div id="lastcell-dialog">\n    <a class="area log-xsend" data-logxsend="[1, 100720]" href="###link###" target="_blank">\n        <img src="###src###" />\n    </a>\n    <span class="close-dialog close-pop"></span>\n</div>',this.tpl=t.replace("###link###",o.link).replace("###src###",o.infoImg),this.popWrap="lastcell-dialog")
},showPop:function(){var e=this,t=s.popMessageCreate({bdContent:e.tpl,className:e.popWrap});this.pop=t,this.bind(),this.adjust()},bind:function(){var e=this;l(this.pop.el).on("click",".close-pop",function(t){t.stopPropagation(),t.preventDefault(),e.addCookie(2),e.pop.close()}),l(this.pop.el).on("click",function(){e.addCookie(1),e.pop.close()})},addCookie:function(e){var t=this,i=o.cookie.get("wk_shifen_pop_window"),a=null===i?[]:i.split("|"),n=[],s=0,r=a.length;for(s=0;r>s;s++)a[s].split("_")[0]!==t.data.ad_id&&n.push(a[s]);
n.push(t.data.ad_id+"_"+e+"_"+(new Date).getTime()),o.cookie.set("wk_shifen_pop_window",n.join("|"),{expires:31536e6,path:"/"})},init:function(){var e=this;l.ajax({async:!1,url:"/shifen/get?",type:"get",dataType:"jsonp",data:{pid:55,limit:1,tid:1,"catch":!1}}).done(function(t){if(e.data=t[0],"undefined"!=typeof e.data.tpl_data&&e.data.tpl_data.length>0){var o=u.get("WkInfo")||{};if(1===+e.data.tpl_id&&!o.DocInfo)return;e.getTpl(e.data.tpl_id),a.xsend(1,100421,{action_type:"display",group_id:e.data.pid,advertiser:e.data.from,ad_id:e.data.ad_id}),e.status=2
}})},adjust:function(){var e=this,t=u.get("WkInfo")||{};if(t.DocInfo&&"html"===t.DocInfo.readerType){var o=45,i=0,a=l(e.pop.el).eq(0);e.pop.on("onMoveToAfter",function(){var e=arguments.callee;o>i&&setTimeout(function(){i+=3,a.css("bottom",i+"px"),e()},10)})}}},lossUser:{status:0,options:{coupon_voucher:5,voucher_expire_time:3},dialog:"tiger-lossUser-dialog",tpl:['<div class="tiger-lossUser-dialog">','   <div class="ico-red-stone"></div>','   <div class="tiger-lossUser-dialog-inner">',"       <p>\u627e\u5230\u597d\u6587\u6863\uff0c\u5374\u4e3a\u8d22\u5bcc\u503c\u53d1\u6101\uff1f\u5feb\u4f7f\u7528<em>\u6587\u5e93VIP</em>\u514d\u4e0b\u8f7d\u5238\u7279\u6743</p>","       <h2>\u606d\u559c\u60a8\uff0c<em>\u83b7\u5f97###coupon_voucher###\u5143VIP\u4ee3\u91d1\u5238\uff0c###voucher_expire_time###\u65e5</em>\u5185\u8d2d\u4e70\u6587\u5e93VIP\u76f4\u63a5\u62b5\u7528\u73b0\u91d1</p>",'       <a href="javascript:;" class="btn btn-get">\u9886\u53d6\u4ee3\u91d1\u5238</a>',"   </div>",'   <div class="tiger-lossUser-dialog-mask"></div>','   <a href="#" class="close-icon close close-icon-loss"></a>','   <iframe src="" frameborder="0" class="bg-ifr"></iframe>',"</div>"],init:function(e){this.options=l.extend(this.options,e||{}),this.tpl=this.tpl.join(""),this.tpl=this.tpl.replace(/###coupon_voucher###/gi,this.options.coupon_voucher),this.tpl=this.tpl.replace(/###voucher_expire_time###/gi,this.options.voucher_expire_time),this.status=2
},showPop:function(){var e=this,t=s.popMessageCreate({bdContent:e.tpl,className:e.dialog});this.pop=t,this._addEventListener(),this.adjust(),a.xsend(1,100317)},adjust:function(){var e=this,t=u.get("WkInfo")||{};if(t.DocInfo&&"html"===t.DocInfo.readerType){var o=45,i=0,a=l(e.pop.el).eq(0);e.pop.on("onMoveToAfter",function(){var e=arguments.callee;o>i&&setTimeout(function(){i+=3,a.css("bottom",i+"px"),e()},10)})}},_addEventListener:function(){var e=this;l(this.pop.el).on("click",".btn-get",function(){var t=l(this);
l.ajax({url:encodeURI("/coupon/promotion/sendvoucher"),type:"get",cache:!1,data:{token:e.options.token},success:function(o){o&&0==o.status.code?(t.attr({href:"/cashier/browse/dispatch?dqStatCode=31_8_90_93",target:"_blank"}).css({"font-size":"16px"}),t.html("\u9886\u53d6\u6210\u529f\uff0c\u52a0\u5165VIP"),a.xsend(1,100322),t.on("click",function(){e.pop.close()})):(t.html("\u9886\u53d6\u5931\u8d25\uff01"),t.off(),t.on("click",function(){window.location.reload()}))}})}),l(this.pop.el).on("click",".close-icon-loss",function(){a.xsend(1,100320),l.ajax({url:encodeURI("/coupon/promotion/vippop?act=close"),type:"get",cache:!1,success:function(e){console.log(e)
}})})}},outvip_over10day:{status:0,options:{uname:"",vip_expire_time:3,voucher_expire_time:3,coupon_voucher:10},dialog:"tiger-vipPop-dialog",tpl:['<div class="tiger-vipPop-dialog tiger-vip-dialog">','   <div class="tiger-vipPop-dialog-inner tiger-vipPop-dialog-inner-continue">',"       <h2>\u4eb2\u7231\u7684VIP ###uname###\uff1a</h2>",'       <div class="content">','           <p>\u60a8\u7684\u6587\u5e93VIP\u5df2\u7ecf\u8fc7\u671f<span class="day">###vip_expire_time###</span>\u5929\u5566~\u6211\u4eec\u90fd\u5f88\u60f3\u5ff5\u4f60</p>','           <p>\u9001\u60a8\u4e00\u5f20VIP\u4ee3\u91d1\u5238,<em class="validity">###voucher_expire_time###</em>\u65e5\u5185\u8d2d\u4e70\u6587\u5e93VIP\u76f4\u63a5\u62b5\u7528\u73b0\u91d1\uff1a','           <div class="coupon coupon-###coupon_voucher###"></div>','           <a class="btn btn-get" href="javascript:;">\u9886\u53d6\u4ee3\u91d1\u5238</a>','           <a class="btn btn-buy hide" href="/cashier/browse/dispatch?dqStatCode=31_8_88"',' target="_blank">\u53bb\u8d2d\u4e70VIP</a>',"       </div>","   </div>",'   <a href="#" class="close-icon close close-popVip"></a>',"</div>"],init:function(e){this.options=l.extend(this.options,e||{}),this.tpl=this.tpl.join(""),this.tpl=this.tpl.replace(/###uname###/gi,this.options.uname),this.tpl=this.tpl.replace(/###vip_expire_time###/gi,this.options.vip_expire_time),this.tpl=this.tpl.replace(/###voucher_expire_time###/gi,this.options.voucher_expire_time),this.tpl=this.tpl.replace(/###coupon_voucher###/gi,this.options.coupon_voucher),this.status=2
},showPop:function(){var e=this,t=s.popMessageCreate({bdContent:e.tpl,className:e.dialog}),o=u.get("WkInfo");if(o.DocInfo&&"html"==o.DocInfo.readerType){var i=45,n=0,r=l(t.el).eq(0);t.on("onMoveToAfter",function(){var e=arguments.callee;i>n&&setTimeout(function(){r.css("bottom",n++ +"px"),e()},10)})}this.pop=t,this._addEventListener(),a.xsend(1,100316)},_addEventListener:function(){var e=this;l(this.pop.el).on("click",".btn-get",function(){var t=l(this);l.ajax({url:encodeURI("/coupon/promotion/sendvoucher"),type:"get",cache:!1,data:{token:e.options.token},success:function(o){o&&0==o.status.code?(t.attr({href:"/cashier/browse/dispatch?dqStatCode=31_8_90_92",target:"_blank"}).css({"font-size":"16px"}),t.html("\u9886\u53d6\u6210\u529f\uff0c\u52a0\u5165VIP"),a.xsend(1,100321),t.on("click",function(){e.pop.close()
})):(t.html("\u9886\u53d6\u5931\u8d25\uff01"),t.off(),t.on("click",function(){window.location.reload()}))}})}),l(this.pop.el).on("click",".btn-buy",function(){e.pop.close()}),l(this.pop.el).on("click",".close-popVip",function(){a.xsend(1,100319),l.ajax({url:encodeURI("/coupon/promotion/vippop?act=close"),type:"get",cache:!1,success:function(e){console.log(e)}})})}},outvip_last10day:{status:0,options:{token:"",vip_expire_time:3,use_time:3,wealth:10,donate:"5-30"},dialog:"outvip-dialog-pop",tpl:['<div class="outvip-dialog-wrap">','   <div class="content">',"       <h2>\u4eb2\u7231\u7684VIP\u7528\u6237\uff1a###uname###</h2>",'       <p>\u60a8\u7684VIP\u8fd8\u6709<span class="spec">###vip_expire_time###\u5929</span>\u5c31\u8981\u5230\u671f\u5566~\u4e3a\u4e86\u611f\u8c22\u60a8\u7684\u652f\u6301\uff0c</p>','       <p><span class="spec">\u8d60\u9001\u60a820\u6b21\u4e0b\u8f7d\u7279\u6743+50\u8d22\u5bcc\u503c</span>\u5956\u52b1\uff0c</p>',"       <p>\u73b0\u5728\u7eed\u8d39\u5373\u53ef\u9886\u53d6\uff01</p>","   </div>",'   <a class="trade-btn" href="/cashier/browse/dispatch?cashier_code=31_8_90_91&default_goods_id=1"','target="_blank"></a>','   <a href="#" class="close-icon close close-popVip"></a>',"</div>"],init:function(e){"N"!==o.cookie.get("BTVIP")&&(this.options=l.extend(this.options,e||{}),this.tpl=this.tpl.join(""),this.tpl=this.tpl.replace(/###uname###/gi,this.options.uname||""),this.tpl=this.tpl.replace(/###vip_expire_time###/gi,this.options.vip_expire_time),this.tpl=this.tpl.replace(/###use_time###/gi,this.options.use_time),this.tpl=this.tpl.replace(/###wealth###/gi,this.options.wealth),this.tpl=this.tpl.replace(/###donate###/gi,this.options.donate),this.status=2)
},showPop:function(){var e=this,t=s.popMessageCreate({bdContent:e.tpl,className:e.dialog}),o=u.get("WkInfo");if(o.DocInfo&&"html"==o.DocInfo.readerType){var i=45,n=0,r=l(t.el).eq(0);t.on("onMoveToAfter",function(){var e=arguments.callee;i>n&&setTimeout(function(){r.css("bottom",n++ +"px"),e()},10)})}this.pop=t,this._addEventListener(),a.xsend(1,100315)},_addEventListener:function(){var e=this;l(this.pop.el).on("click",".trade-btn",function(){e.pop.close(),o.cookie.set("BTVIP","N",{path:"/"})}),l(this.pop.el).on("click",".close-popVip",function(){a.xsend(1,100318),o.cookie.set("BTVIP","N",{path:"/"}),l.ajax({url:encodeURI("/coupon/promotion/vippop?act=close"),type:"get",cache:!1,success:function(e){console.log(e)
}})})}}},init:function(){this._init_Date(),this.run()},run:function(){var e=this;window.disableNewCallUp=!0;var t=u.get("WkInfo")||{},o="/coupon/promotion/vippop?act=get";l.ajax({url:encodeURI(o),type:"get",cache:!1,success:function(o){console.log(o);var i=0;o&&0==o.status.code&&(i=void 0!=o.data.user_type?o.data.user_type:0),i>0&&(e.popConf[["lossUser","outvip_last10day","outvip_over10day"][i-1]].status=1);var a=o.data||{};a=l.extend(a,e._date),t.DocInfo&&"html"===t.DocInfo.readerType&&l.ajax({url:"/cashier/interface/cashierad",type:"get",cache:!1,async:!1}).done(function(t){t&&0===+t.status.code&&(e.popConf.memberOfYear.status=1)
});for(var n=0,s=e.priority.length;s>n;n++)if(void 0!==e.popConf[e.priority[n]]&&(1===e.popConf[e.priority[n]].status&&e.popConf[e.priority[n]].init(a),2===e.popConf[e.priority[n]].status)){e.popConf[e.priority[n]].showPop();break}}})},_init_Date:function(){var e=new Date;this._date.day=e.getDate(),this._date.year=e.getFullYear(),this._date.month=e.getMonth()+1,this._date.hour=e.getHours(),this._date.today=this._date.year+"-"+this._date.month+"-"+this._date.day}},f=({tpl:['<div class="pageLeftFixedAD">','   <div class="pageLeftFixedAD-layout">','       <a class="btn-pageLeftFixedAD-close" href="javascript:;"></a>','       <div class="pageLeftFixedAD-bd">','       <a href="http://wenku.baidu.com/topic/2015gaokao_gufen" ','target="_blank" class="log-xsend" data-logxsend="[1, 100451]">','           <img src="http://img.baidu.com/img/iknow/wenku/img_page_left_miti_120x200.png" alt=""/>',"       </a>",'       <iframe src="" frameborder="0" class="ifr"></iframe>',"   </div>","</div>"].join(""),init:function(){var e=this,t=l(e.tpl);
l("body").append(t),t.on("click",".btn-pageLeftFixedAD-close",function(e){e.stopPropagation(),t.animate({left:-120},300,function(){t.hide()})}),a.xsend(1,100454)}},{init:function(e){this.userInfo=e,this.isShowNotNo()&&this.show()},isShowNotNo:function(){if(0!==+this.userInfo.vipinfo.type){var e=o.cookie.get("VIPRM"),t=new Date,i=""+t.getFullYear()+(t.getMonth()+1)+t.getDate();if(e&&parseInt(e,10)===parseInt(i,10))return!1;if(console.log(+this.userInfo.vipinfo.download_ticket_count||+this.userInfo.edu_vip_info.download_ticket_count),+this.userInfo.vipinfo.download_ticket_count)return!1;
console.log("isShowNotNo!");var a=(new Date).getMonth(),n=(new Date).getTime(),s=o.cookie.get("VP");if(!s)return!0;if(4===+this.userInfo.edu_vip_info.is_vip||9===+this.userInfo.vipinfo.type){var r=26784e5;if(s+r>n)return!0}else if(new Date(s).getTime()>new Date("2016.03.30").getTime()&&a>new Date(s).getMonth())return!0;return!1}},show:function(){var e=['<a class="recharge-top-wrap-vip h-goto-other" ','href="/cashier/browse/vippackagecashier?cashier_code=wkcommon_iconPop_20160330" target="_blank" >','<b class="pop-close"></b>','<span class="p-h-vp-t">VIP\u7279\u6743\u63d0\u9192\uff1a <br>\u60a8\u5f53\u524d\u5df2\u65e0\u53ef\u7528\u4e0b\u8f7d\u7279\u6743, <em>\u8d2d\u4e70VIP\u793c\u5305</em>\u53ef\u8865\u5145\u7279\u6743\uff0c\u4e0b\u8f7d\u65e0\u5fe7!</span>',"</a>"].join(""),t=o.dom.q("member-icon")[0],n=o.dom.q("recharge-top-wrap",t,"p")[0];
n&&o.dom.remove(n),n=i.createDom(e),o.dom.insertAfter(n,o.dom.first(t)),a.xsend(1,100740,{index:3}),this.addEvent(n)},addEvent:function(e){var t=o.dom.q("pop-close",e,"b")[0];o.event.on(t,"click",function(t){t.stopPropagation(),t.preventDefault(),o.dom.hide(e);var i=(new Date).getTime(),n=o.cookie.get("VP");n||o.cookie.set("VP",i,{expires:26784e5,path:"/"}),a.xsend(1,100740,{index:2})}),o.event.on(e,"click",function(){o.dom.hide(e);var t=(new Date).getTime(),i=o.cookie.get("VP");i||o.cookie.set("VP",t,{expires:26784e5,path:"/"}),a.xsend(1,100740,{index:1})
})}});l(function(){var e=o.dom.g("user-bar-uname");m.init(),e&&(o.lang.eventCenter.addEventListener("newCallUp",function(){{var e=[543,427,336,228,109,96,87,62,43,21,11,7];e[Math.floor(Math.random()*e.length+1)-1]}window.disableNewCallUp||o.ajax.get("/customer/api/queryuserlist",function(e,t){var i=+o.cookie.get("vip_recall"),n=o.json.parse(t),s=null;if(0===n.status.code&&null!==n.data.version&&"/trade/browse/cashier"!==window.location.pathname){if(s=+n.data.version,i===s)return;n.data.in_list&&(o.cookie.set("vip_recall",s,{path:"/",expires:864e7}),a.send("general","pop",{version:s,sub_type:"vip_callup"}))
}})}),o.ajax.get("/user/interface/getuserinfo?t="+Math.round((new Date).getTime()/6e3),function(e,i){var s=o.json.parse(i),r=o.json.parse(i),c=+r.data.vipinfo.type,p=+r.data.edu_vip_info.is_vip,d=r.data.vipinfo.uid,g=r.data.org_eng_name;if(0===r.status.code&&g){var h=l(".org-home");l("#user-bar-my-home").attr("href","/org/view?org="+g),"\u6211\u7684\u4e3b\u9875"==h.text()&&h.attr("href","/org/view?org="+g)}var m="\u6211\u7684VIP",v="/user/vip",_=0==p?"":'<span class="iconfont ic-eduVip">&#xe64e;</span>',b="",k=0==c?"":'<span class="iconfont ic-classVip">&#xe64e;</span>';
if(!p&&!c){b='<span class="iconfont ic-not-vip">&#xe64e;</span>',m='<span style="color:#ff0000;">\u52a0\u5165VIP</span>',v="/cashier/browse/dispatch?dqStatCode=31_8_78_79";var w=u.get("WkInfo")||{};w.DocInfo&&w.DocInfo.docId&&(v+="&from_doc="+w.DocInfo.docId)}var y='<li class="member-icon">'+b+k+_+'<a href="'+v+'" target="_blank" title="\u767e\u5ea6\u6587\u5e93VIP" class="ic" style="height: auto;">'+m+"</a></li>",x=o.dom.g("user-bar-uname");if(x){o.dom.insertHTML(x,"afterEnd",y);var I=(o.dom.query("#mywenku ul.mn li:last")[0],u.get("WkInfo")||{}),j=I.UserInfo&&I.UserInfo.userName;
if(j.length>6&&(j=j.substring(0,4)+"\u2026"),p||c){var P=new Date,C="url="+location.pathname;o.ajax.post("/message/getnotice",C,function(e,i){try{var a=o.json.parse(i)}catch(n){return!1}if(0===+a.status.code&&a.data){var r=a.data.system,c=a.data.advert,p=a.data.diy,d=new Date(P.getFullYear(),P.getMonth(),P.getDate()+1);0===r.length&&0===c.length&&0===p.length?l.ajax({url:"/message/listmsg?rn=1",method:"GET",success:function(e){if(0===+e.status.code&&e.data){if(e.data.msg_list.length>0)var i=new Date(1e3*e.data.msg_list[0].timestamp),a=""+i.getFullYear()+(i.getMonth()+1)+i.getDate();
else var a="20150101";var n=""+P.getFullYear()+(P.getMonth()+1)+P.getDate();a===n?o.cookie.set("VIPRM","N",{path:"/",expires:d.getTime()-P.getTime()}):t(s.data)||f.init(s.data)}else t(s.data)||f.init(s.data)}}):o.cookie.set("VIPRM","N",{path:"/",expires:d.getTime()-P.getTime()})}})}if(0===c||"/trade/browse/cashier"==window.location.pathname||o.cookie.get("vip_remind")==d)return void o.lang.eventCenter.dispatchEvent("newCallUp");if(c>0){var D=+r.data.vipinfo.remain_day,T=(o.dom.g("vip-cms-doc-list")&&o.dom.g("vip-cms-doc-list").innerHTML,o.dom.g("vip-cms-doc-list").innerHTML);
if(D>=1&&5>=D){if(window.disableNewCallUp)return;1==D?o.cookie.set("vip_remind",d,{path:"/",expires:2592e5}):o.cookie.set("vip_remind",d,{path:"/",expires:864e5*(D-1)}),n.rbcPopCreate({title:['<span class="pop-msg-name">',j,'\uff0c\u60a8\u7684\u4f1a\u5458\u6709\u6548\u671f</span><span class="pop-msg-strong">\u8fd8\u5269',D,"\u5929</span>"].join(""),height:242,width:300,content:[{name:"vip-charge-info",html:T}]});var N=o.dom.query(".rbc-pop .inner");N&&N[0]&&(o.dom.setStyles(N,{background:"#FCFFFE","padding-bottom":"0"}),o.dom.setStyle(o.dom.query(".hd",N[0])[0],"height","30px"),o.dom.setStyle(o.dom.query(".hd h3",N[0])[0],"margin-top","10px")),a.send("view","show",{vip_type:c,remain_day:D})
}else o.lang.eventCenter.dispatchEvent("newCallUp")}}}))});var v=function(e){if(e){var t=u.get("WkInfo")||{};t.UserInfo&&t.UserInfo.isNoUsername&&(window.pageController._userName=e,_url="http://www.baidu.com/p/uname?from=wenku".replace("uname",e),t.UserInfo.userName=e,t.UserInfo.isNoUsername=!1,o.g("userNameCon").innerHTML=e,o.g("userNameCon").href=_url,o.g("user-bar-my-home").href=_url,o.dom.remove(o.dom.query(".user-bar .mn-lk-w .ic")[0]))}};l(function(){setTimeout(function(){window.disableCBGPop||"/"!=location.pathname||l.getScript("http://static.pay.baidu.com/resource/tuisong/v1/tuiSong.js",function(){new TuiSong;
setTimeout(function(){l(".baidutuisong-xiaoxiong").css("left",l(".side-nav-bar").css("left")).css("right",l(".side-nav-bar").css("right")),l(".baidutuisong-xiaoxiong").hide()},1200),l(".baidutuisong-xiaoxiong").css("left",l(".side-nav-bar").css("left")).css("right",l(".side-nav-bar").css("right"))})},600)}),window.pageController={closePop:function(){h().hide()},log:a,login:p,updateUserInfo:v}});
;define("wkcommon:widget/360tip/360tip.js",function(t,e,o){var i=t("wkcommon:widget/lib/tangram/base/base.js"),n=t("wkcommon:widget/ui/js_core/util/util.js"),a=t("wkcommon:widget/ui/js_core/log/log.js"),s=function(t){var e={cookie_name:"BD_TOP_TIP",referer:"",match_url:[/^http(s?):\/\/(so|hao)\.360\.cn/gi]};this.init(n.mix(e,t||{},!0))};s.prototype={init:function(t){this.config=t},tpl:['<div id="baidu-top-tip">',"<a href=\"###\" class=\"close logSend\" data-logsend=\"{send:['general','toptip',{'op':'close'}]}\">&Chi;</a>","<p>","<b>\u767e\u5ea6\u63d0\u793a\uff1a</b>","\u60a8\u662f\u901a\u8fc7\u201c\u5947\u864e\u641c\u7d22\u201d\u8bbf\u95ee\u81f3\u767e\u5ea6\u6587\u5e93\uff0c\u5982\u5e0c\u671b\u83b7\u5f97\u5b8c\u6574\u4f18\u8d28\u7684\u767e\u5ea6\u641c\u7d22\u4f53\u9a8c\uff0c\u60a8\u53ef\u4ee5 ","<a href=\"http://www.baidu.com/cache/sethelp/index.html\" target=\"_blank\" class=\"seth logSend\" data-logsend=\"{send:['general','toptip',{'op':'sethome'}]}\">","\u628a\u767e\u5ea6\u8bbe\u4e3a\u4e3b\u9875","</a>"," \u6216 ","<a href=\"http://www.baidu.com/search/baidukuaijie_mp.html\" target=\"_blank\" class=\"to-desktop logSend\" data-logsend=\"{send:['general', 'toptip',{'op':'adddesktop'}]}\">","\u628a\u767e\u5ea6\u6dfb\u52a0\u5230\u684c\u9762","</a>","</p>","</div>"],hide:function(){var t,e=document.body;
i.cookie.set(this.config.cookie_name,1,{path:"/",expires:31536e6}),(t=i.g("baidu-top-tip"))&&t.parentNode.removeChild(t),e.style.position="static",e.style.top=0},create:function(t){var e=this.config,o=e.match_url,n=0,a=o.length;if(t=t||e.referer,!i.cookie.get(e.cookie_name))for(;a>n;n+=1)if(o[n].test(t))return void this.show()},show:function(){var t=document.body;a.send("general","toptip",{op:"display"}),i.dom.insertHTML(t,"afterBegin",this.tpl.join("")),t.style.cssText+=";position : relative; top : 52px;",this.bindEvent()
},bindEvent:function(){var t=n.delegate,e=this,o=i.g("baidu-top-tip");o&&(t(o,".close","click",function(t){e.hide(),i.event.stop(t)}),t(o,".seth","click",function(t){var o=i.event,n=o.getTarget(t);n.style.behavior="url(#default#homepage)";try{n.setHomePage("http://www.baidu.com"),o.stop(t)}catch(a){}e.hide()}),t(o,".to-desktop","click",function(){e.hide()}))}},o.exports.showTopTip=s});
;define("wkcommon:widget/2d_bar_code/2d_bar_code.js",function(t,e,i){var o=t("wkcommon:widget/lib/tangram/base/base.js"),s=t("wkcommon:widget/ui/js_core/widget/widget.js").widget,n=o.dom,h=o.event,a=o.fn,d=['<a href="http://yuedu.baidu.com/apps?fr=1008" target="_blank">','<span class="close-btn" title="\u5173\u95ed"></span>',"</a>"].join(""),c=s({Options:{el:"",docViewType:"",pageType:"",excursion:{left:1,bottom:120}},_init:function(){this._createEl(),this._cache(),this.setContainerWidth(),this.fixPosition(),this._initEvent()
},_createEl:function(){this.el=document.createElement("div"),this.el.id="wk-2d-bar-code",this.el.innerHTML=d,document.body.appendChild(this.el)},_cache:function(){this.page=n.g("bd"),this.footer=n.g("ft")},_initEvent:function(){var t=this,e=n.q("close-btn",this.el,"span")[0],i=a.bind(this.fixPosition,this);h.on(window,"resize",i),h.on(window,"scroll",i),h.on(e,"click",function(e){h.stop(e),t._hide(),h.un(window,"resize",i),h.un(window,"scroll",i)})},setContainerWidth:function(){var t=this.page;this.containerWidth=t?"html"===this.docViewType?n.q("body",t,"div")[0].offsetWidth:t.offsetWidth:980
},_setPosLeft:function(){var t=this.containerWidth,e=this.excursion,i=o.page.getViewWidth(),s=(i-t)/2+t+e.left;"search"===this.pageType?n.setStyle(this.el,"right",0):n.setStyle(this.el,"left",s)},_setPosTop:function(){var t=this.excursion,e=this.el,i=this.footer,s=this.pageType,h=o.page.getScrollTop(),a=o.page.getViewHeight(),d=h+a,c=0,l=0;6===o.browser.ie?n.setStyles(e,{position:"absolute",top:d-t.bottom-e.offsetHeight}):i?(l=n.getPosition(i).top,c=i.offsetHeight,d>l&&("homepage"===s||"upload"===s||"courseuc"===s)?n.setStyles(e,{position:"fixed",bottom:d-l}):n.setStyles(e,{position:"fixed",bottom:t.bottom})):n.setStyles(e,{position:"fixed",bottom:t.bottom})
},fixPosition:function(){var t=this;"html"===this.docViewType&&(this.containerWidth=n.q("body",this.page,"div")[0].offsetWidth),t._ctrlEl(),t._setPosTop(),t._setPosLeft()},_ctrlEl:function(){var t=this.el,e=(t.getElementsByTagName("a")[0],o.page.getViewWidth()),i=this.containerWidth,s=(e-i)/2;"search"===this.pageType&&(s=110),90>s?this._hide():this._show()},_show:function(){n.setStyle(this.el,"display","block")},_hide:function(){n.setStyle(this.el,"display","none")}}),l=function(t){var e=new c(t);
return e.fire("onload"),e};i.exports.dimBarCode=c,i.exports.dimBarCodeCreate=l});
;define("wkcommon:widget/userEvaluation/rateStar.js",function(t,s,i){var a=(t("wkcommon:widget/ui/js_core/util/util.js"),t("wkcommon:widget/lib/fis/data/data.js")),o=(a.get("WkInfo"),t("wkcommon:widget/lib/tangram/base/base.js")),n=function(t){this.init(t)};n.prototype={init:function(t){this.star=t.star,this.tipEl=t.tipEl,this.tipArr=t.tipArr,this.extTipEl=t.extTipEl,this.value=0,this.isLock=!1,this.isTotalStar=o.dom.hasClass(this.star,"star"),this.isTotalStar?(this.statusOn="value-star total ic-star-t-on",this.statusOff="value-star total ic-star-t-off",this.statusLow="value-star total ic-star-t-low"):(this.statusOn="value-star ic ic-star-b-on",this.statusOff="value-star ic ic-star-b-off",this.statusLow=""),this.bind()
},bind:function(){for(var t=this,s=o.dom.children(t.star),i=0;i<s.length;i++)!function(t,s,i){o.event.on(s[t],"mouseover",function(){i.isLock||i.renderStar(t,s)}),o.event.on(s[t],"mouseout",function(){i.isLock||i.renderStar(i.value-1,s)}),o.event.on(s[t],"click",function(){i.isLock||(i.value=t+1,i.isTotalStar&&o.lang.eventCenter.dispatchEvent("total-star-click"))})}(i,s,this)},renderStar:function(t,s){var i,a=this;if(a.statusLow&&2>t)for(var o=0;5>o;o++)s[o].className=t>=o?a.statusLow:a.statusOff;
else for(var o=0;5>o;o++)s[o].className=t>=o?a.statusOn:a.statusOff;i=a.tipArr[t]||"",this.isTotalStar&&(a.extTipEl.style.display=i?"none":""),a.showTip(i)},showTip:function(t){this.tipEl.innerHTML=t},lock:function(){this.isLock=!0},unlock:function(){this.isLock=!1}},i.exports.RateStar=n});
;define("wkcommon:widget/userEvaluation/tags.js",function(t,s,a){var n=t("wkcommon:widget/lib/tangram/base/base.js"),o=t("wkcommon:widget/lib/fis/data/data.js"),i=o.get("WkInfo")||{},e=i.DocInfo||{},g=function(t){this.init(t)};g.prototype={init:function(t){this.options=t,this.tags=[],this.getTags(),this.bind()},getTags:function(){var t=this,s="/doc/interface/gettags?docId="+e.docId+"&t="+~new Date;n.ajax.request(s,{async:!1,onsuccess:function(s){var a={};try{if(a=n.json.parse(s.responseText),0===a.length||a.errstr)t.tags=[];
else for(var o in a)t.tags.push([o,a[o]])}catch(i){}t.showTags()}})},showTags:function(){var t,s=this,a=-1,o=0,i=[];s.tags.length?(s.tags.length=Math.min(s.tags.length,15),s.tagBtn=n.dom.create("span",{className:"tag-more-btn"}),s.tagBtn.innerHTML='\u5c55\u5f00<b class="gbma-d"></b>',s.options.tagListEl.appendChild(s.tagBtn),s.options.tagListBoxEl.style.display="block"):s.options.tagListEl.innerHTML=e.isPaymentDoc?"\u8fd8\u6ca1\u6709\u7528\u6237\u7559\u4e0b\u5370\u8c61\u5462\uff0c\u8d2d\u4e70\u540e\u53c2\u4e0e\u8bc4\u4ef7\u7559\u4e0b\u60a8\u7684\u5370\u8c61\u5427\u3002":"\u8fd8\u6ca1\u6709\u7528\u6237\u7559\u4e0b\u5370\u8c61\u5462\uff0c\u70b9\u51fb\u201c\u6211\u8981\u8bc4\u4ef7\u201d\u7559\u4e0b\u60a8\u7684\u5370\u8c61\u5427\u3002";
for(var o=0,g=s.tags.length;g>o;o++)t=n.dom.create("span",{className:"pr10 s-tag"}),t.innerHTML='<span class="'+(3>o?"top3-tag":"normal-tag")+'">'+s.tags[o][0]+"</span><b>("+s.tags[o][1]+")</b>",n.dom.insertBefore(t,s.tagBtn),i.push(t),s.options.tagListEl.offsetHeight>47&&(0>a&&(a=o),n.dom.addClass(t,"status"));0>a?n.dom.setStyle(s.tagBtn,"display","none"):a==o&&(n.dom.setStyle(s.tagBtn,"display","none"),n.dom.removeClass(i[a],"status"),s.options.tagListEl.offsetHeight>47&&(n.dom.setStyle(s.tagBtn,"display","inline"),n.dom.addClass(i[a],"status")))
},bind:function(){var t=this;t.tagBtn&&n.event.on(t.tagBtn,"click",function(){t.tagChange()})},tagChange:function(){var t=this;n.dom.hasClass(t.options.tagListBoxEl,"tag-hide-list")?(n.dom.removeClass(t.options.tagListBoxEl,"tag-hide-list"),n.dom.addClass(t.options.tagListBoxEl,"tag-show-list"),t.tagBtn.innerHTML='\u6536\u8d77<b class="gbma-u"></b>'):(n.dom.addClass(t.options.tagListBoxEl,"tag-hide-list"),n.dom.removeClass(t.options.tagListBoxEl,"tag-show-list"),t.tagBtn.innerHTML='\u5c55\u5f00<b class="gbma-d"></b>')
},slideUpTags:function(){var t=this;n.dom.hasClass(t.options.tagListBoxEl,"tag-show-list")&&t.tagChange()}},a.exports.DocTags=g});
;define("wkcommon:widget/userEvaluation/userEvaluation.pop.js",function(t,a,s){var i=t("wkcommon:widget/ui/js_core/util/util.js"),e=t("wkcommon:widget/ui/js_core/log/log.js"),n=t("wkcommon:widget/lib/tangram/base/base.js"),o=t("wkcommon:widget/lib/fis/data/data.js"),r=o.get("WkInfo")||{},l=r.DocInfo||{},d=t("wkcommon:widget/userEvaluation/rateStar.js").RateStar,c=n.lang.createClass(function(t){this.init(t)}).extend({isRunning:!1,isInnerClick:!1,status:0,tpl:['<div id="user-evaluation-#{guid}" class="mod ui-dialog user-evaluation" tabIndex="-1" style="display:none;outline:none;position:absolute;top:0;right:0px; width: #{w}px; height: #{h}px;">','<iframe class="iframe" style="width:#{w}px;height:#{h}px" frameborder="0"></iframe>','<div class="inner">','<div class="hd">','<span class="act">','<a href="###" hidefocus="true" class="ir close">\u03a7</a>',"</span>",'<div class="content"><span class="value-title"><b>*</b>\u603b\u4f53\u8bc4\u4ef7:</span>','<span id="total-star-#{guid}" class="star" alog-group="view.evaltotal"><b class="value-star total ic-star-t-off"></b>','<b class="value-star total ic-star-t-off"></b>','<b class="value-star total ic-star-t-off"></b>','<b class="value-star total ic-star-t-off"></b>','<b class="value-star total ic-star-t-off"></b></span>','<span class="value-tip" id="total-tip-#{guid}"></span>','<span class="img-tip" id="img-tip-#{guid}"></span>',"</div>","</div>",'<div class="bd pt20 ">','<p class="title">\u8bf7\u5e2e\u6211\u4eec\u5b8c\u5584\u4e0b\u9762\u7684\u8bc4\u4ef7\uff0c\u8fd9\u4f1a\u5e2e\u5230\u66f4\u591a\u7684\u7528\u6237\uff1a</p>',"<ul>",'<li class="mt10 "><b class="square"></b><span class="content-color">\u4e30\u5bcc\u5ea6:&nbsp&nbsp&nbsp&nbsp</span>','<span id="rich-star-#{guid}" class="rich" alog-group="view.evalrich"><b class="value-star ic ic-star-b-off"></b>','<b class="value-star ic ic-star-b-off"></b>','<b class="value-star ic ic-star-b-off"></b>','<b class="value-star ic ic-star-b-off"></b>','<b class="value-star ic ic-star-b-off"></b>',"</span>",'<span id="rich-tip-#{guid}" class="ml5 tip"></span>',"</li>",'<li class="center-li "><b class="square"></b><span class="content-color">\u9605\u8bfb\u4f53\u9a8c:</span>','<span id="read-star-#{guid}" class="read" alog-group="view.evalread"><b class="value-star ic ic-star-b-off"></b>','<b class="value-star ic ic-star-b-off"></b>','<b class="value-star ic ic-star-b-off"></b>','<b class="value-star ic ic-star-b-off"></b>','<b class="value-star ic ic-star-b-off"></b>',"</span>",'<span id="read-tip-#{guid}" class="ml5 tip"></span>',"</li>",'<li class="last-li"><b class="square"></b>','<span class="content-color">\u70b9\u51fb\u6807\u7b7e\uff0c\u7559\u4e0b\u4f60\u5bf9\u8fd9\u7bc7\u6587\u6863\u7684\u5370\u8c61</span><span id="tag-tip-#{guid}" class="ml5 tip">\u4e94\u4e2a\u4ee5\u4e0a\u7528\u6237\u7559\u4e0b\u76f8\u540c\u5370\u8c61\u5373\u53ef\u663e\u793a\u5728\u9875\u9762\u4e2d\u3002</span>','<p id="tags-select-wrap-#{guid}">','<span class="input-box" id="add-tag-box-#{guid}"><input id="add-tag-inp-#{guid}" type="text" value="\u6dfb\u52a0\u60a8\u7684\u5370\u8c61"/><a id="add-tag-btn-#{guid}" href="#" hidefocus="true" alog-action="view.evaladdtag"></a></span>',"</p>","</li>","</ul>",'<a href="###" class="bt ui-btn ui-btn-32-disabled" style="margin:30px auto;" id="post-btn-#{guid}"><b class="btc"><b class="btText">\u786e\u8ba4\u63d0\u4ea4</b></b></a>',"</div>","</div>","</div>"].join(""),init:function(t){this.options=t,this.width=this.options.width||569,this.height=this.options.height||(6==n.browser.ie?370:390),this.tags=[],this.sysTags={"\u6700\u65b0":"good-tag","\u4e13\u4e1a":"good-tag","\u9002\u5408\u5165\u95e8":"good-tag","\u5185\u5bb9\u8fc7\u65f6":"bad-tag","\u597d\u591a\u9519\u8bef":"bad-tag","\u6587\u4e0d\u5bf9\u9898":"bad-tag"},n.dom.insertHTML(this.options.containerEl,"beforeEnd",n.string.format(this.tpl,{guid:this.options.guid,w:this.width,h:this.height})),this.el=n.g("user-evaluation-"+this.options.guid),this.totalStarEl=n.g("total-star-"+this.options.guid),this.richStarEl=n.g("rich-star-"+this.options.guid),this.readStarEl=n.g("read-star-"+this.options.guid),this.totalTipEl=n.g("total-tip-"+this.options.guid),this.richTipEl=n.g("rich-tip-"+this.options.guid),this.readTipEl=n.g("read-tip-"+this.options.guid),this.totalExtTipEl=n.g("img-tip-"+this.options.guid),this.postBtnEl=n.g("post-btn-"+this.options.guid),this.addTagBoxEl=n.g("add-tag-box-"+this.options.guid),this.addTagBtnEl=n.g("add-tag-btn-"+this.options.guid),this.addTagInpEl=n.g("add-tag-inp-"+this.options.guid),this.tagSelectWrapEl=n.g("tags-select-wrap-"+this.options.guid),this.tagTipEl=n.g("tag-tip-"+this.options.guid),this.addTagInpDefaultValue="\u6dfb\u52a0\u60a8\u7684\u5370\u8c61",this.initRateStar(),this.initSysTag(),this.bind()
},initRateStar:function(){this.totalStar=new d({star:this.totalStarEl,tipEl:this.totalTipEl,tipArr:["\u5f88\u5dee","\u8f83\u5dee","\u8fd8\u884c","\u63a8\u8350","\u529b\u8350"],extTipEl:this.totalExtTipEl}),this.richStar=new d({star:this.richStarEl,tipEl:this.richTipEl,tipArr:["\u5b8c\u5168\u6ca1\u7528","\u6709\u70b9\u7528\uff0c\u4f46\u662f\u6ca1\u5199\u5b8c","\u7528\u5904\u4e00\u822c","\u5185\u5bb9\u4e30\u5bcc\uff0c\u6bd4\u8f83\u6709\u5e2e\u52a9","\u5185\u5bb9\u975e\u5e38\u9971\u6ee1\uff0c\u8868\u8fbe\u6e05\u6670\u6709\u4eae\u70b9"]}),this.readStar=new d({star:this.readStarEl,tipEl:this.readTipEl,tipArr:["\u683c\u5f0f\u9519\u4e71\uff0c\u6ca1\u6cd5\u8bfb","\u90e8\u5206\u5185\u5bb9\u53ef\u8bfb","\u80fd\u8bfb\uff0c\u4f46\u4f53\u9a8c\u4e0d\u597d","\u6e05\u6670\u53ef\u8bfb","\u8d85\u8d5e\uff0c\u9002\u5408\u5728\u7ebf\u9605\u8bfb"]})
},initSysTag:function(){for(var t in this.sysTags){var a=n.dom.create("span",{className:"tag "+this.sysTags[t],"data-tag":t,"alog-action":"view.evaltab"});a.innerHTML=t+"<b></b>",n.dom.insertBefore(a,this.addTagBoxEl)}},bind:function(){var t=this;n.on(t.el,"click",function(t){n.event.stop(t)}),n.on(document,"click",function(){t.hide()}),i.delegate(t.el,".hd .close","click",function(){Monkey&&Monkey.push&&Monkey.push("view.evalclose"),t.hide()}),n.lang.eventCenter.addEventListener("flash-reader-focus",function(){t.hide()
}),n.on(t.addTagBtnEl,"click",n.fn.bind(t.addTag,t)),n.on(t.el,"keydown",function(t){n.event.stopPropagation(t)}),n.on(t.addTagInpEl,"focus",function(){t.addTagBtnEl.className="focus",t.addTagInpEl.value==t.addTagInpDefaultValue&&(t.addTagInpEl.value="")}),i.delegate(t.el,".tag","click",function(){n.dom.hasClass(this,"tag-choose")?n.dom.hasClass(this,"user-tag")?this.parentNode.removeChild(this):n.dom.removeClass(this,"tag-choose"):t.checkTagCount()?n.dom.addClass(this,"tag-choose"):t.showTagTips("\u8bf7\u9009\u62e9\u60a8\u89c9\u5f97\u6700\u8d5e\u540c\u7684\u5370\u8c61\uff085\u4e2a\u4ee5\u5185\uff09\uff01")
}),n.on(t.postBtnEl,"click",n.fn.bind(t.submitHandler,t)),n.lang.eventCenter.addEventListener("total-star-click",function(){n.dom.removeClass(t.postBtnEl,"ui-btn-32-disabled"),n.dom.addClass(t.postBtnEl,"ui-btn-32-green")})},addTag:function(t){var a=this,s=n.string.trim(a.addTagInpEl.value);if(a.checkTag(s)){var i=n.dom.create("span",{className:"tag user-tag tag-choose","data-tag":n.encodeHTML(s)});i.innerHTML=n.encodeHTML(s)+"<b></b>",n.dom.insertBefore(i,a.addTagBoxEl),a.addTagInpEl.value=a.addTagInpDefaultValue
}n.event.stop(t)},checkTag:function(t){var a=this,s=n.string.trim(t),i=n.string.getByteLength(s);return i>14?(a.showTagTips("\u5370\u8c61\u8fc7\u957f\uff0c\u8bf7\u63a7\u5236\u57287\u4e2a\u6c49\u5b57\u4ee5\u5185\uff01"),!1):0==i||s==a.addTagInpDefaultValue?(a.showTagTips("\u5370\u8c61\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a\uff01"),!1):/^\d+$/.test(s)||a.isKorean(s)||a.isUnacceptChars(s)?(a.showTagTips("\u8bf7\u586b\u5199\u6b63\u786e\u7684\u5370\u8c61\u5185\u5bb9\u3002"),!1):a.checkUserTagCount()?a.checkTagCount()?a.checkTagRepeat(s)?!0:(a.showTagTips("\u5df2\u5b58\u5728\u8be5\u5370\u8c61\u4e86\uff01"),!1):(a.showTagTips("\u8bf7\u9009\u62e9\u60a8\u89c9\u5f97\u6700\u8d5e\u540c\u7684\u5370\u8c61\uff085\u4e2a\u4ee5\u5185\uff09\uff01"),!1):(a.showTagTips("\u8bf7\u4e0d\u8981\u9891\u7e41\u6dfb\u52a0\u5370\u8c61\uff01"),!1)
},checkTagRepeat:function(t){for(var a=this,s=n.q("tag",a.el),i=!0,e=0,o=s.length;o>e;e++)if(n.dom.getAttr(s[e],"data-tag")==t){n.dom.addClass(s[e],"tag-choose"),i=!1;break}return i},checkTagCount:function(){return n.q("tag-choose",this.el).length<5?!0:!1},checkUserTagCount:function(){return n.q("user-tag",this.el).length<3?!0:!1},isKorean:function(t){for(var a=0;a<t.length;a++){var s=t.charCodeAt(a);if(s>12592&&12687>s)return!0;if(s>=44032&&55203>=s)return!0}return!1},isUnacceptChars:function(t){var a=[/\\/,/\//,/:/,/\*/,/\?/,/"/,/</,/>/,/\|/,/;/,/\(/,/\)/,/\&/,/\\uff08/,/\\uff09/,/\%/,/\$/,/\#/,/\@/,/\~/,/\`/,/\_/,/\-/,/\{/,/\}/,/\[/,/\]/,/\,/,/\./,/\+/,/\=/,/\^/],s=!1;
return n.each(a,function(a){return a.test(t)?void(s=!0):void 0}),s},submitHandler:function(){var t=this;return n.dom.hasClass(t.postBtnEl,"ui-btn-32-disabled")?void t.showTagTips("\u8bf7\u5148\u5b8c\u6210\u603b\u4f53\u8bc4\u4ef7\uff0c\u8c22\u8c22\uff01"):void t.submitTotalStar(function(a,s){switch(+a){case 0:t.submitExtInfo(s);break;case 45:t.showTotalTips("\u4e0d\u80fd\u8bc4\u4ef7\u81ea\u5df2\u7684\u6587\u6863\uff01"),n.lang.eventCenter.dispatchEvent("user-evaluation-error"),t.disabledForm();break;
case 6:t.showTotalTips("\u60a8\u5df2\u8bc4\u4ef7\uff0c\u8c22\u8c22\uff01"),n.lang.eventCenter.dispatchEvent("user-evaluation-error",{btnTxt:"\u5df2\u8bc4\u4ef7"}),t.disabledForm();break;case 4:t.showTotalTips("\u6ca1\u6709\u64cd\u4f5c\u6743\u9650\uff01"),n.lang.eventCenter.dispatchEvent("user-evaluation-error"),t.disabledForm();break;case 5:t.showTotalTips("\u4f11\u606f\u4e00\u4e0b\u518d\u8bc4\u4ef7\u5427\uff01");break;default:t.showTotalTips("\u7cfb\u7edf\u9519\u8bef\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5\uff01")
}+a&&(setTimeout(function(){t.hide()},3e3),e.send("view","UserEvaluation",{errno:a}))})},submitTotalStar:function(t){var a=this;"html"==l.player&&e.xsend(1,100030,{value_score:a.totalStar.value}),n.ajax.post("/doc/submit/value","ct=20009&doc_id="+l.docId+"&value_score="+a.totalStar.value,function(a){var s={};try{s=n.json.parse(a.responseText)}catch(i){}t&&t(s.errno,s.float_value_average)})},submitExtInfo:function(t){var a=this,s=n.array.map(n.q("tag-choose",a.el),function(t){return encodeURIComponent(n.dom.getAttr(t,"data-tag"))
});n.ajax.post("/doc/submit/valuetag","doc_id="+l.docId+"&rich="+a.richStar.value+"&read="+a.readStar.value+"&tags="+s.join(","),function(i){var o={};try{o=n.json.parse(i.responseText)}catch(r){}a.disabledForm(),a.hide(),n.lang.eventCenter.dispatchEvent("user-evaluation-success",{float_valueAverage:t}),e.send("view","userEvaluation",{errno:0,rich:+a.richStar.value,read:+a.readStar.value,richOrRead:+!(!a.richStar.value&&!a.readStar.value),tags:+!!s.length,extErrno:o.errno})})},disabledForm:function(){this.totalStar.lock(),this.richStar.lock(),this.readStar.lock(),this.addTagInpEl.disabled=!0,n.dom.removeClass(this.postBtnEl,"ui-btn-32-green"),n.dom.addClass(this.postBtnEl,"ui-btn-32-disabled")
},showTotalTips:function(t){var a=this;a.totalTipEl.innerHTML=t,setTimeout(function(){a.totalTipEl.innerHTML=""},2e3)},showTagTips:function(t){var a=this;a.tagTipEl.innerHTML=t,setTimeout(function(){a.tagTipEl.innerHTML=""},2e3)},show:function(){var t=this,a=t.height/t.width,s=0,i=n.browser.ie>=6&&n.browser.ie<9?30:50;1==t.status||t.isRunning||(t.el.style.display="block",t.run(t,0,0,t.width,i,function(i){t.el.style.clip="rect(0px,"+(t.width+s)+"px,"+(i*a+s)+"px,"+(t.width-i-s)+"px)"},function(){t.el.focus(),t.status=1
}))},hide:function(){var t=this,a=t.height/t.width,s=0,i=n.browser.ie>=6&&n.browser.ie<9?20:30;0==t.status||t.isRunning||t.run(t,0,t.width,-t.width,i,function(i){t.el.style.clip="rect(0px,"+(t.width+s)+"px,"+(i*a+s)+"px,"+(t.width-i-s)+"px)"},function(){t.el.style.display="none",t.status=0})},run:function(t,a,s,i,e,n,o){var r=t,l=function(t,a,s,i){return s*((t=t/i-1)*t*t*t*t+1)+a}(a,s,i,e);n&&n(l),a++<e?(r.isRunning=!0,setTimeout(function(t,a,s,i,e,n,o){return function(){t.run(t,a,s,i,e,n,o)}}(t,a,s,i,e,n,o),20)):(r.isRunning=!1,o&&o())
}});s.exports.UserEvaluationPop=c});
;define("wkcommon:widget/userEvaluation/userEvaluation.js",function(e,o,n){var t,a=e("wkcommon:widget/lib/tangram/base/base.js"),s=e("wkcommon:widget/lib/fis/data/data.js"),i=s.get("WkInfo")||{},l=i.DocInfo||{},r=(e("wkcommon:widget/ui/js_core/util/util.js"),e("wkcommon:widget/ui/js_core/log/log.js")),u=e("wkcommon:widget/userEvaluation/userEvaluation.pop.js").UserEvaluationPop,d=e("wkcommon:widget/userEvaluation/tags.js").DocTags,v=function(){var e=function(e){this.options=e};return a.object.extend(e.prototype,{init:function(){var e=this;
e.isAllowFixed=!0,e.valueBtnClickCount=0,e.getData(this.options.enable),this.options.enable!==!1&&(e.initOperate(),e.bind(),a.g("fixed-box")&&e.fixed())},initOperate:function(){var e=this;l.isPaymentDoc&&!l.ispaied?(a.dom.addClass(e.options.valueBtnEl,"value-btn-nopaied"),e.options.valueBtnEl.innerHTML="\u8d2d\u4e70\u540e\u53ef\u8bc4\u4ef7",a.dom.addClass(e.options.valueBoxEl,"value-box-nofixed")):(a.dom.removeClass(e.options.valueBtnEl,"disabled"),a.dom.addClass(e.options.valueBtnEl,"enable"),this.UserEvaluationPop=new u({guid:this.options.guid,containerEl:this.options.valueBoxEl}))
},getData:function(e){var o=this,n=o.options.addViewCount?1:0,t="/doc/interface/docCount?viewCountIncr="+n+"&doc_id="+l.docId+"&sl="+window.screenLeft,s={};a.ajax.request(t,{async:!1,onsuccess:function(n){try{s=a.json.parse(n.responseText)}catch(t){}o.renderStar(s.float_valueAverage/2),o.options.valueCountEl.innerHTML=s.valueCount||0,e&&o.options.viewCount&&(o.options.viewCount.innerHTML="<b>"+(s.viewCount||0)+"</b>\u4eba\u9605\u8bfb"),a.lang.eventCenter.dispatchEvent("docCount.response",{data:s})
}})},renderStar:function(e){var o=this,n=(e-0||0).toFixed(1),t={num:function(){return'<span class="score">{scoreNum}</span><span class="ext">\u5206</span>'.replace("{scoreNum}",n)},star:function(){var e=Math.floor(n);return"#####".replace(/#/g,function(o,t){var a=e>t?"on":t==e&&n>e?"half":"off";return'<b class="rateStar ic {starCss}"></b>'.replace("{starCss}","ic ic-star-b-"+a)})}};this.options.valueStarEl.innerHTML=t.num()+t.star(),this.options.valueStarEl.title="\u6587\u6863\u5f97\u5206\uff1a"+n+"\u5206",0==n?a.dom.addClass(o.options.valueStarEl.parentNode,"value-msg-none"):a.dom.removeClass(o.options.valueStarEl.parentNode,"value-msg-none")
},bind:function(){var e=this;a.lang.eventCenter.addEventListener("user-evaluation-success",a.fn.bind(e.userEvaluationSuccess,e)),a.lang.eventCenter.addEventListener("user-evaluation-error",a.fn.bind(e.userEvaluationError,e)),a.on(e.options.valueBtnEl,"click",function(o){a.dom.hasClass(e.options.valueBtnEl,"enable")&&(e.UserEvaluationPop.show(),r.send("view","userEvaluation",{click:++e.valueBtnClickCount})),a.event.stop(o)})},userEvaluationSuccess:function(e){var o=this;o.options.valueCountEl.innerHTML=Number(o.options.valueCountEl.innerHTML)+1,o.renderStar(e.float_valueAverage/2),o.options.valueBtnEl.innerHTML="\u5df2\u8bc4\u4ef7",a.dom.removeClass(o.options.valueBtnEl,"enable"),a.dom.addClass(o.options.valueBtnEl,"disabled"),o.isAllowFixed=!1
},userEvaluationError:function(e){var o=this;a.dom.removeClass(o.options.valueBtnEl,"enable"),a.dom.addClass(o.options.valueBtnEl,"disabled"),e.btnTxt&&(o.options.valueBtnEl.innerHTML=e.btnTxt),o.isAllowFixed=!1},fixed:function(){var e,o,n,i=this,l=!1;a.on(window,"scroll",function(){if(!a.dom.hasClass(i.options.valueBoxEl,"value-box-nofixed")){l||(e=a.dom.getPosition(i.options.valueBoxEl),o=6==a.browser.ie?272:284,n=i.options.valueBoxEl.style.cssText,l=!0);var r=e.top,u=(e.left,224),d=a.page.getScrollTop();
d>r?a.browser.ie&&a.browser.ie<8||(s.get("fixSearchBarTest")||(i.options.valueBoxEl.style.cssText+=";position:fixed;top:0;z-index:2000;width:"+u+"px;"),a.dom.addClass(i.options.valueBoxEl,"value-box-fixed"),t&&t.slideUpTags(),window.PAGE_ASIDE_OFFSET_TOP=30):(i.options.valueBoxEl.style.cssText=n,a.dom.removeClass(i.options.valueBoxEl,"value-box-fixed"),i.isAllowFixed||(a.dom.addClass(i.options.valueBoxEl,"value-box-nofixed"),window.PAGE_ASIDE_OFFSET_TOP=0))}}),a.browser.chrome&&a.lang.eventCenter.addEventListener("Reader.zoomChange",function(){a.dom.hasClass(i.options.valueBoxEl,"value-box-fixed")&&(i.options.valueBoxEl.style.width="225px")
})}}),e}(),c=function(e){var o=new v(e);return o.init(),o},p=function(e){t=new d(e)};n.exports.docRate=c,n.exports.docTags=p});