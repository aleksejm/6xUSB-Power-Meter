var ALog=ALog||{};void function(t){function e(t){D[t]=+new Date}function n(){w||(w={},"AdivBliCaDulEdlFddGspanHtableIbodyJtrKsectionLtdMolNpOarticlePdtQformRimgSh3TinputUasideViWbXthYemZfont".replace(/([A-Z])([a-z]+)/g,function(t,e,n){w[w[e]=n]=e}))}function r(t,e,n,o){if(!t||1!=t.nodeType)return"";var i="undefined"!=typeof t.getAttribute&&t.getAttribute&&t.getAttribute(e)||"";return"#"==i?i="[id]":"."==i&&(i="[class]"),i.replace(/\[([\w-_]+)\]/,function(e,n){i="undefiend"!=typeof t.getAttribute&&t.getAttribute?t.getAttribute(n):""}),o&&(o.target=t),i||n&&r(t.parentNode,e,1,o)||""}function o(t,e,i){if(i&&n(),e=e||E.body,!t||t==e||/^body$/i.test(t.tagName))return"";if(1!=t.nodeType||/html/i.test(t.tagName))return t.tagName||"";for(var a=r(t,T.alias),c=1,u=t.previousSibling,f=t.nodeName.toLowerCase();u;)c+=u.nodeName==t.nodeName,u=u.previousSibling;return a=(i&&w[f]||f)+(2>c?"":c)+(a&&"("+a+")"),t.parentNode==e?a:o(t.parentNode,e,i)+(/^[A-Z]/.test(a)?"":"-")+a}function i(t,e){return o(t,e,1)}function a(e,n){if(e&&n){c("report",n);var r=new Image(1,1),o=[],i="img_"+ +new Date;for(var a in n)n[a]&&o.push(a+"="+encodeURIComponent(n[a]));t[i]=r,r.onload=r.onerror=function(){t[i]=r=r.onload=r.onerror=null,delete t[i]},r.src=e+"?"+o.join("&")}}function c(t,e){var n=X[t],r=0;if(n){for(var o=n.length;o--;)n[o](e,t)&&r++;return r}}function u(e,n,r,o){if(e)try{if(o&&o.push([e,n,r]),e==t)return X[n]=X[n]||[],X[n].unshift(r),void 0;e.addEventListener?e.addEventListener(n,r,!1):e.attachEvent&&e.attachEvent("on"+n,r)}catch(i){}}function f(e,n,r){if(e)try{if(e instanceof Array){for(var o;o=e.pop();)f.apply(this,o);return}if(e==t){var i=X[n];if(!i)return;for(var a=i.length;a--;)i[a]===r&&i.splice(a,1);return}e.removeEventListener?e.removeEventListener(n,r,!1):e.detachEvent&&e.detachEvent("on"+n,r)}catch(c){}}function s(t){return n(),t.replace(/\(([^)]+)\)/g,"").replace(/[A-Z]/g,function(t){return"-"+w[t]}).replace(/^-/,"")}function l(t,e){return e?(C[t]=C[t]||[],e instanceof Array?C=C[t].concat(e):C[t].push(e),void 0):C[t]}function d(t,e){function n(t,e){return String(+k.min(k.max(t/e,0),1).toFixed(36>e?1:351>e?2:3)).replace(/^0\./g,".")}if(!t.getBoundingClientRect)return[0,0];var r=t.getBoundingClientRect(),o=g(t);return[n(e[0]-r.left,o[0]),n(e[1]-r.top,o[1])]}function g(t){if(!t.getBoundingClientRect)return[t.offsetWidth,t.offsetWidth];var e=t.getBoundingClientRect();return[x(e.right-e.left),x(e.bottom-e.top)]}function p(){var t=g(E.documentElement),e=g(E.body);return[k.max(t[0],e[0],L.innerWidth||0,E.documentElement.scrollWidth||0),k.max(t[1],e[1],L.innerHeight||0,E.documentElement.scrollHeight||0)]}function m(){return[k.max(E.documentElement.scrollLeft||0,E.body.scrollLeft||0,E.defaultView&&E.defaultView.pageXOffset||0),k.max(E.documentElement.scrollTop||0,E.body.scrollTop||0,E.defaultView&&E.defaultView.pageYOffset||0),L.innerWidth||E.documentElement.clientWidth||E.body.clientWidth||0,L.innerHeight||E.documentElement.clientHeight||E.body.clientHeight||0]}function v(t,e){T[t]=e}function h(){if(!(N&&new Date-S<50)&&!A&&(A=!0,e("ult"),c("unload")))for(isSleep=new Date;new Date-isSleep<100;);}function b(t){var e=t.target||t.srcElement;1==e.nodeType&&/^ajavascript:/i.test(e.tagName+e.href)&&(S=new Date)}function y(t,e,n){M.count++,M.items.length<=9&&M.items.push([t,e,n,+new Date]),c("error",M)}var w,A,E=document,L=window,k=Math,x=parseInt,N=E.all&&L.attachEvent,S=0,T={},D={},M={count:0,items:[]},X={},C=t.configs||{},W=(+new Date).toString(36)+k.random().toString(36).substr(2,5);t.errors=M,t.configs=C,t.times=D,t.sid=W,t.mark=e,t.getXPath=i,"Group1Action1Extra1AliasParamText".replace(/([A-Z][a-z]+)(1|0)?/g,function(e,n,o){var i=n.toLowerCase();T[i]="alog-"+i,t["get"+n]=function(t,e){return r(t,T[i],o,e)}}),t.report=a,t.fire=c,t.on=u,t.un=f,t.epath=s,t.config=l,t.ep=d,t.ps=p,t.vr=m,t.an=v,N&&u(E,"mouseup",b),u(L,"beforeunload",h),u(L,"unload",h),t.error=y,u(L,"error",y)}(ALog);var Monkey=Monkey||{};void function(t){function e(t){if(t){var e,n={ts:i().toString(36)};for(e in H)n[e]=H[e];for(e in t)n[e]=t[e];l("report",n),P.report(g?g.postUrl:"",n)}}function n(t,n){if(t){var r={cmd:"action",ac:t,param:n};l("action",r),e(r)}}function r(t,e){t&&(H[t]=e)}function o(t,e,n){P.on(P,M+"."+t,e,n)}function i(){return new Date-m}function a(t){for(;t;){if(/^(a|button)$/i.test(t.tagName))return t;t=t.parentNode}}function c(){switch(p.refer){case 1:case!0:return D.referrer;case 2:var t=D.referrer;if(!t)return;var e="";return t.replace(/(^\w+:\/\/)?([^\/]+)/,function(t,n){e=n}),D.location.host==e?D.referrer:e}}function u(t,n,r){var o=n.target||n.srcElement;switch(t){case"d":if(!o)return;b++;var c={},u=a(o),f=P.getAction(o,c),s="",d=P.getText(o);if(u?(/^a$/i.test(u.tagName)?(p.click&&(s=u.getAttribute("href",2),/^(javascript|#)/i.test(s)&&(s="")),y++):w++,p.click&&(d=d||P.getText(u)||u.title||u.innerHTML.replace(/<[^>]*>|\s/g,""))):/input/i.test(o.tagName)&&/button|radio|checkbox|submit/i.test(o.type)&&(u=o,w++,d=d||o.value),/img/i.test(o.tagName)&&(E++,d=d||o.alt||o.title||o.src),!u&&!f||!p.click)break;if(p.onlylink&&/input|button/i.test(o.tagName))break;A++;var g=r?r.path+"/"+S(o,r.doc):S(o),m=P.getGroup(o),v=P.getExtra(o),h=P.getParam(c.target),L=P.ep(o,[n.clientX,n.clientY]),T=o.ownerDocument,D=T.body,M=[0,0];n.pageX||n.pageY?M=[n.pageX,n.pageY]:(n.clientX||n.clientY)&&(M=[n.clientX+(T&&T.scrollLeft||D&&D.scrollLeft||0)-(T&&T.clientLeft||D&&D.clientLeft||0),n.clientY+(T&&T.scrollTop||D&&D.scrollTop||0)-(T&&T.clientTop||D&&D.clientTop||0)]);var X={xp:g,g:m,gx:v,ac:f,ep:L,ci:A,pp:M,ps:P.ps(),param:h,u:String(s||"none").substr(0,200),txt:String(d||"none").substr(0,30)};p.vr&&(X.vr=P.vr()),l("click",X),e(X);break;case"o":k=i(),x=1;break;case"i":N+=i()-k,k=i(),x=0;break;case"s":case"e":var C=P.vr();W=Math.max(C[1]+C[3],W)}}function f(n){if(window.ALog&&!m){P=ALog,n=n||[],n instanceof Array||(n=[n]);for(var r,a,f,L=[].concat(n);(g=L.pop())&&!(g.page=g.page||g.getPage()););if(g){g.page instanceof Array&&(g.mid=g.mid||g.page[1],g.page=g.page[0]),p=g.reports,P.on(P,"unload",s,C),P.on(P,"error",d,C),S=P.getXPath,b=y=w=A=E=k=x=N=0,m=P.times&&P.times.ht||new Date,v=P.sid||(+m).toString(36)+(+Math.random().toFixed(8).substr(2)).toString(36),h="_e_"+v,H={pid:g.pid||241,sid:v,hid:g.hid,mid:g.mid,page:g.page,ver:5,p:g.product,px:T.screen.width+"*"+T.screen.height,ref:c()};for(r in g)/^on(\w+)$/.test(r)&&o(r.substr(2),g[r],C);for(l("start",t),k=i(),D.body&&(f=P.vr(),W=f[1]+f[3]),p.pv&&e({cmd:"open"}),r=0;(a=X[r++])&&(P.on(a[2]||D,a[0],function(t){return function(e){m&&u(t,e)}}(a[1]),C),p.staytime););}}}function s(){if(m){if(l("close",t),x&&(N+=i()-k),p.staytime){var n={cmd:"close",tc:b,lc:y,bc:w,pc:E,pd:W,ft:(i()-N).toString(36),ec:L};e(n),m=0,P.un(C)}return p.staytime}}function l(t,e){P.fire(M+"."+t,e)}function d(t){if(L=t.count,p.error){p.error=0;var n=t.items[0];n&&e({cmd:"error",et:(n[3]-m).toString(36),url:n[1],msg:n[0],line:n[2]})}}var g,p,m,v,h,b,y,w,A,E,L,k,x,N,S,T=window,D=document,M="monkey",X=[["mousedown","d"],["focusout","o"],["blur","o",T],["focusin","i"],["focus","i",T],["scroll","s",T],["resize","e",T]],C=[],W=0,H={},P=T.ALog;t.push=n,t.set=r,t.on=o,t.start=f,t.stop=s,P&&P.configs&&P.configs[M]&&f(P.configs[M])}(Monkey),Monkey.start({getPage:function(){return window.pageId},onstart:function(){ALog.an("group","monkey")},postUrl:"http://nsclick.baidu.com/u.gif",product:112,hid:456,reports:{click:1,refer:1,staytime:1,pv:1}});